import{c as H,u as Ge,r as M,k as Ue,l as Ye,n as Je,o as Ze,p as qe,q as Ke,s as Ve,t as Xe,v as Qe,j as e,A as Se,m as z,B as ne,w as K,x as et,L as U,h as ie,E as oe,D as ce,U as Y,P as J,y as de,F as P,z as T,T as Me,f as _,I as Re,W as tt,G as st,e as at,X as rt}from"./index-IIrGOIuS.js";import{T as Z,L as xe,Z as B,C as F,A as me,S as lt,c as nt,a as Ie,b as ze}from"./zap-BNhtk3IZ.js";const it=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],ot=H("chart-line",it);const ct=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Le=H("gauge",ct);const dt=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],xt=H("lock-open",dt);const mt=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ut=H("rotate-ccw",mt);const ht=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],q=H("user-check",ht),W=({value:i,size:n=140,label:s})=>{const o=(n-30)/2,c=Math.PI*o,g=c-i/100*c,I=`gauge-${s}-${Math.random().toString(36).slice(2,6)}`,m=i>=80?"#10b981":i>=50?"#f59e0b":"#ef4444",x=i>=80?"#6ee7b7":i>=50?"#fde68a":"#fca5a5",j=i>=80?s?"âœ“":"":i>=50?"!":"âœ—";return e.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[e.jsxs("svg",{width:n,height:n/2+24,viewBox:`0 0 ${n} ${n/2+24}`,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:I,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:m}),e.jsx("stop",{offset:"100%",stopColor:x})]}),e.jsx("filter",{id:`${I}-shadow`,children:e.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodColor:m,floodOpacity:"0.3"})})]}),e.jsx("path",{d:`M 15 ${n/2} A ${o} ${o} 0 0 1 ${n-15} ${n/2}`,fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"12",strokeLinecap:"round"}),[0,25,50,75,100].map(v=>{const l=Math.PI-v/100*Math.PI,f=n/2+Math.cos(l)*(o-8),d=n/2-Math.sin(l)*(o-8),S=n/2+Math.cos(l)*(o+8),k=n/2-Math.sin(l)*(o+8);return e.jsx("line",{x1:f,y1:d,x2:S,y2:k,stroke:"hsl(var(--border))",strokeWidth:"1.5",opacity:.5},v)}),e.jsx(z.path,{d:`M 15 ${n/2} A ${o} ${o} 0 0 1 ${n-15} ${n/2}`,fill:"none",stroke:`url(#${I})`,strokeWidth:"12",strokeLinecap:"round",filter:`url(#${I}-shadow)`,strokeDasharray:c,initial:{strokeDashoffset:c},animate:{strokeDashoffset:g},transition:{duration:1.8,ease:"easeOut"}}),e.jsx("text",{x:n/2,y:n/2-4,textAnchor:"middle",className:"fill-foreground",fontSize:"26",fontWeight:"900",children:i}),e.jsx("text",{x:n/2,y:n/2+14,textAnchor:"middle",fill:m,fontSize:"11",fontWeight:"700",children:j})]}),e.jsx("span",{className:"text-[11px] font-bold text-muted-foreground tracking-wider uppercase",children:s})]})},De=({x:i,y:n,content:s,visible:o})=>o?e.jsxs(z.g,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.15},children:[e.jsx("rect",{x:i-45,y:n-32,width:"90",height:"24",rx:"6",fill:"hsl(var(--popover))",stroke:"hsl(var(--border))",strokeWidth:"1",filter:"url(#tooltip-shadow)"}),e.jsx("text",{x:i,y:n-17,textAnchor:"middle",dominantBaseline:"middle",className:"fill-popover-foreground",fontSize:"10",fontWeight:"700",children:s}),e.jsx("polygon",{points:`${i-5},${n-8} ${i+5},${n-8} ${i},${n-2}`,fill:"hsl(var(--popover))"})]}):null,Ce=({segments:i,size:n=160,label:s})=>{const[o,c]=M.useState(null),g=(n-40)/2,I=2*Math.PI*g,m=i.reduce((j,v)=>j+v.value,0)||1;let x=0;return e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsxs("svg",{width:n,height:n,viewBox:`0 0 ${n} ${n}`,children:[e.jsx("defs",{children:e.jsx("filter",{id:"tooltip-shadow",children:e.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodOpacity:"0.15"})})}),e.jsx("circle",{cx:n/2,cy:n/2,r:g,fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"14"}),i.map((j,v)=>{const l=j.value/m*I,f=x/m*360-90;x+=j.value;const d=o===v;return e.jsx(z.circle,{cx:n/2,cy:n/2,r:g,fill:"none",stroke:j.color,strokeWidth:d?20:14,strokeLinecap:"round",strokeDasharray:`${l} ${I-l}`,style:{transformOrigin:`${n/2}px ${n/2}px`,cursor:"pointer"},initial:{rotate:f,opacity:0},animate:{rotate:f,opacity:1,strokeWidth:d?20:14},transition:{duration:.3},onMouseEnter:()=>c(v),onMouseLeave:()=>c(null)},v)}),o!==null&&e.jsxs(z.g,{initial:{opacity:0},animate:{opacity:1},children:[e.jsx("text",{x:n/2,y:n/2-6,textAnchor:"middle",className:"fill-foreground",fontSize:"16",fontWeight:"900",children:i[o].value.toLocaleString()}),e.jsxs("text",{x:n/2,y:n/2+12,textAnchor:"middle",className:"fill-muted-foreground",fontSize:"10",fontWeight:"600",children:[i[o].label," (",(i[o].value/m*100).toFixed(1),"%)"]})]}),o===null&&s&&e.jsx("text",{x:n/2,y:n/2+5,textAnchor:"middle",className:"fill-foreground",fontSize:"13",fontWeight:"800",children:s})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:i.map((j,v)=>e.jsxs("div",{className:`flex items-center gap-1.5 cursor-pointer transition-all ${o===v?"scale-110":""}`,onMouseEnter:()=>c(v),onMouseLeave:()=>c(null),children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:j.color}}),e.jsxs("span",{className:"text-[10px] font-semibold text-muted-foreground",children:[j.label," (",j.value,")"]})]},v))})]})},ue=({data:i,height:n=160,color:s="hsl(var(--primary))",labels:o})=>{const[c,g]=M.useState(null),I=i.filter(y=>y>0);if(I.length<2)return e.jsx("div",{className:"flex items-center justify-center py-8 text-muted-foreground text-xs font-semibold opacity-50",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§ÙÙŠØ© Ù„Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ"});const m={top:25,right:15,bottom:10,left:15},x=500,j=n,v=x-m.left-m.right,l=j-m.top-m.bottom,f=Math.max(...I,1),d=0,S=f-d||1,k=I.map((y,L)=>({x:m.left+L/Math.max(I.length-1,1)*v,y:m.top+l-(y-d)/S*l,value:y})),h=k.map((y,L)=>`${L===0?"M":"L"} ${y.x} ${y.y}`).join(" "),r=`${h} L ${k[k.length-1]?.x||0} ${m.top+l} L ${m.left} ${m.top+l} Z`,b=`area-${Math.random().toString(36).slice(2,6)}`;return e.jsxs("svg",{width:"100%",viewBox:`0 0 ${x} ${j}`,preserveAspectRatio:"xMidYMid meet",children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:`${b}-fill`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:s,stopOpacity:"0.35"}),e.jsx("stop",{offset:"100%",stopColor:s,stopOpacity:"0.03"})]}),e.jsx("filter",{id:`${b}-ts`,children:e.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodOpacity:"0.15"})})]}),[0,.25,.5,.75,1].map((y,L)=>e.jsx("line",{x1:m.left,x2:x-m.right,y1:m.top+l*(1-y),y2:m.top+l*(1-y),stroke:"hsl(var(--border))",strokeWidth:"0.6",strokeDasharray:"4,4",opacity:.3},L)),e.jsx(z.path,{d:r,fill:`url(#${b}-fill)`,initial:{opacity:0},animate:{opacity:1},transition:{duration:1}}),e.jsx(z.path,{d:h,fill:"none",stroke:s,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,ease:"easeOut"}}),c!==null&&e.jsx("line",{x1:k[c].x,x2:k[c].x,y1:m.top,y2:m.top+l,stroke:s,strokeWidth:"1",strokeDasharray:"3,3",opacity:.5}),k.map((y,L)=>e.jsxs("g",{onMouseEnter:()=>g(L),onMouseLeave:()=>g(null),style:{cursor:"pointer"},children:[e.jsx("circle",{cx:y.x,cy:y.y,r:"12",fill:"transparent"}),e.jsx("circle",{cx:y.x,cy:y.y,r:c===L?7:5,fill:s,opacity:c===L?.25:.12,style:{transition:"all 0.2s"}}),e.jsx(z.circle,{cx:y.x,cy:y.y,r:c===L?5:3,fill:s,stroke:"hsl(var(--card))",strokeWidth:"1.5",initial:{scale:0},animate:{scale:c===L?1.3:1},transition:{delay:c===L?0:.3+L*.04}})]},L)),c!==null&&e.jsx(De,{x:k[c].x,y:k[c].y,content:`${o?.[c]||`#${c+1}`}: ${k[c].value.toLocaleString()}`,visible:!0})]})},he=({data:i,labels:n,size:s=260,colors:o})=>{const[c,g]=M.useState(null),I=s/2,m=s/2,x=s*.32,j=i.length,v=Math.PI*2/j,l=[.2,.4,.6,.8,1],f=`radar-${Math.random().toString(36).slice(2,6)}`,d=(h,r)=>{const b=h*v-Math.PI/2;return{x:I+Math.cos(b)*x*r,y:m+Math.sin(b)*x*r}},S=i.map((h,r)=>d(r,h/100)),k=S.map((h,r)=>`${r===0?"M":"L"} ${h.x} ${h.y}`).join(" ")+" Z";return e.jsxs("svg",{width:"100%",viewBox:`0 0 ${s} ${s}`,className:"max-w-[320px] mx-auto",children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:`${f}-fill`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"hsl(var(--primary))",stopOpacity:"0.28"}),e.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))",stopOpacity:"0.05"})]}),e.jsxs("filter",{id:`${f}-glow`,children:[e.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),e.jsxs("feMerge",{children:[e.jsx("feMergeNode",{in:"blur"}),e.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),e.jsx("filter",{id:`${f}-ts`,children:e.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodOpacity:"0.15"})})]}),(()=>{const h=Array.from({length:j},(r,b)=>d(b,1));return e.jsx("polygon",{points:h.map(r=>`${r.x},${r.y}`).join(" "),fill:"hsl(var(--muted))",opacity:.15})})(),l.map(h=>{const r=Array.from({length:j},(b,y)=>d(y,h));return e.jsx("polygon",{points:r.map(b=>`${b.x},${b.y}`).join(" "),fill:"none",stroke:"hsl(var(--border))",strokeWidth:"0.7",opacity:.35,strokeDasharray:h<1?"2,3":"none"},h)}),Array.from({length:j},(h,r)=>{const b=d(r,1);return e.jsx("line",{x1:I,y1:m,x2:b.x,y2:b.y,stroke:c===r?"hsl(var(--primary))":"hsl(var(--border))",strokeWidth:c===r?1.5:.5,opacity:c===r?.6:.25,style:{transition:"all 0.2s"}},r)}),e.jsx(z.path,{d:k,fill:`url(#${f}-fill)`,stroke:"hsl(var(--primary))",strokeWidth:"2.5",filter:`url(#${f}-glow)`,strokeLinejoin:"round",initial:{opacity:0,scale:.2},animate:{opacity:1,scale:1},style:{transformOrigin:`${I}px ${m}px`},transition:{duration:1.2,ease:"easeOut"}}),S.map((h,r)=>{const b=c===r;return e.jsxs("g",{onMouseEnter:()=>g(r),onMouseLeave:()=>g(null),style:{cursor:"pointer"},children:[e.jsx("circle",{cx:h.x,cy:h.y,r:"14",fill:"transparent"}),e.jsx("circle",{cx:h.x,cy:h.y,r:b?10:7,fill:o?.[r]||"hsl(var(--primary))",opacity:b?.2:.12,style:{transition:"all 0.2s"}}),e.jsx(z.circle,{cx:h.x,cy:h.y,r:b?6:4,fill:o?.[r]||"hsl(var(--primary))",stroke:"hsl(var(--card))",strokeWidth:"2",animate:{scale:b?1.4:1},transition:{duration:.2}})]},r)}),c!==null&&e.jsx(De,{x:S[c].x,y:S[c].y,content:`${n[c]}: ${Math.round(i[c])}%`,visible:!0}),Array.from({length:j},(h,r)=>{const b=d(r,1.35),y=Math.round(i[r]),L=c===r;return e.jsxs("g",{style:{cursor:"pointer"},onMouseEnter:()=>g(r),onMouseLeave:()=>g(null),children:[e.jsx("text",{x:b.x,y:b.y-7,textAnchor:"middle",dominantBaseline:"middle",className:"fill-foreground",fontSize:L?"11":"9.5",fontWeight:"800",style:{transition:"font-size 0.2s"},children:n[r]}),e.jsx("rect",{x:b.x-14,y:b.y+1,width:"28",height:"14",rx:"4",fill:y>=70?"#10b98120":y>=40?"#f59e0b20":"#ef444420"}),e.jsxs("text",{x:b.x,y:b.y+9,textAnchor:"middle",dominantBaseline:"middle",fill:y>=70?"#10b981":y>=40?"#f59e0b":"#ef4444",fontSize:"8.5",fontWeight:"800",children:[y,"%"]})]},`label-${r}`)})]})},pt=({data:i,xLabels:n,yLabels:s})=>{const[o,c]=M.useState(null),g=Math.max(...i.flat(),1),I=n.length,m=s.length,x=38,j=30,v=48,l=22,f=v+I*x+12,d=l+m*j+30,S=`hm-${Math.random().toString(36).slice(2,6)}`,k=h=>{const r=h/g;return r<.05?"hsl(var(--muted))":`hsl(var(--primary) / ${(.12+r*.78).toFixed(2)})`};return e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs("svg",{width:"100%",viewBox:`0 0 ${f} ${d}`,className:"min-w-[340px]",preserveAspectRatio:"xMidYMid meet",children:[e.jsx("defs",{children:e.jsx("filter",{id:`${S}-ts`,children:e.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodOpacity:"0.15"})})}),s.map((h,r)=>e.jsx("text",{x:v-8,y:l+r*j+j/2,textAnchor:"end",dominantBaseline:"middle",className:"fill-muted-foreground",fontSize:"9",fontWeight:"700",children:h},`y-${r}`)),n.map((h,r)=>e.jsx("text",{x:v+r*x+x/2,y:14,textAnchor:"middle",dominantBaseline:"middle",className:"fill-muted-foreground",fontSize:"8.5",fontWeight:"700",children:h},`x-${r}`)),i.map((h,r)=>h.map((b,y)=>{const L=o?.x===y&&o?.y===r;return e.jsx(z.rect,{x:v+y*x+2,y:l+r*j+2,width:x-4,height:j-4,rx:"5",fill:k(b),stroke:L?"hsl(var(--primary))":"transparent",strokeWidth:L?2:0,style:{cursor:"pointer"},initial:{opacity:0,scale:.7},animate:{opacity:1,scale:L?1.08:1},transition:{delay:L?0:(y+r)*.012,duration:.2},onMouseEnter:()=>c({x:y,y:r}),onMouseLeave:()=>c(null)},`${y}-${r}`)})),i.map((h,r)=>h.map((b,y)=>b>0?e.jsx("text",{x:v+y*x+x/2,y:l+r*j+j/2,textAnchor:"middle",dominantBaseline:"middle",className:b/g>.5?"fill-white":"fill-muted-foreground",fontSize:"8.5",fontWeight:"800",opacity:.85,style:{pointerEvents:"none"},children:b},`v-${y}-${r}`):null)),o&&(()=>{const h=i[o.y][o.x],r=v+o.x*x+x/2,b=l+o.y*j-4;return e.jsxs(z.g,{initial:{opacity:0},animate:{opacity:1},children:[e.jsx("rect",{x:r-50,y:b-28,width:"100",height:"22",rx:"6",fill:"hsl(var(--popover))",stroke:"hsl(var(--border))",strokeWidth:"1",filter:`url(#${S}-ts)`}),e.jsxs("text",{x:r,y:b-14,textAnchor:"middle",dominantBaseline:"middle",className:"fill-popover-foreground",fontSize:"9",fontWeight:"700",children:[s[o.y]," Ã— ",n[o.x],": ",h]})]})})(),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"heatmap-legend",x1:"0",y1:"0",x2:"1",y2:"0",children:[e.jsx("stop",{offset:"0%",stopColor:"hsl(var(--muted))"}),e.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})}),e.jsx("rect",{x:v,y:d-18,width:I*x,height:"8",rx:"4",fill:"url(#heatmap-legend)",opacity:.7}),e.jsx("text",{x:v-2,y:d-12,textAnchor:"end",className:"fill-muted-foreground",fontSize:"7",fontWeight:"600",children:"0"}),e.jsx("text",{x:v+I*x+4,y:d-12,textAnchor:"start",className:"fill-muted-foreground",fontSize:"7",fontWeight:"600",children:g})]})})},gt=({nodes:i,links:n})=>{const[s,o]=M.useState(null),c=300,g=c/2,I=c/2,m=c*.32,x=i.map((l,f)=>{const d=f/Math.max(i.length,1)*Math.PI*2-Math.PI/2;return{x:g+Math.cos(d)*m,y:I+Math.sin(d)*m}}),j=Object.fromEntries(i.map((l,f)=>[l.id,f])),v=`net-${Math.random().toString(36).slice(2,6)}`;return e.jsxs("svg",{width:"100%",viewBox:`0 0 ${c} ${c}`,className:"max-w-[360px] mx-auto",children:[e.jsxs("defs",{children:[e.jsx("filter",{id:`${v}-shadow`,children:e.jsx("feDropShadow",{dx:"0",dy:"1.5",stdDeviation:"2.5",floodOpacity:"0.15"})}),e.jsx("filter",{id:`${v}-ts`,children:e.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodOpacity:"0.15"})})]}),n.map((l,f)=>{const d=j[l.source],S=j[l.target];if(d===void 0||S===void 0)return null;const k=(x[d].x+x[S].x)/2,h=(x[d].y+x[S].y)/2,r=k+(I-h)*.2,b=h+(k-g)*.2,y=s===d||s===S;return e.jsx(z.path,{d:`M ${x[d].x} ${x[d].y} Q ${r} ${b} ${x[S].x} ${x[S].y}`,fill:"none",stroke:y?"hsl(var(--primary))":"hsl(var(--border))",strokeWidth:y?2.5:1.5,opacity:y?.6:.3,style:{transition:"all 0.2s"},initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.7,delay:f*.03}},f)}),i.map((l,f)=>{const d=Math.max(l.size*4,12),S=s===f;return e.jsxs("g",{filter:`url(#${v}-shadow)`,style:{cursor:"pointer"},onMouseEnter:()=>o(f),onMouseLeave:()=>o(null),children:[e.jsx(z.circle,{cx:x[f].x,cy:x[f].y,r:d+6,fill:"none",stroke:l.color,strokeWidth:S?2.5:1.5,opacity:S?.4:.2,animate:{r:S?[d+6,d+12,d+6]:[d+5,d+9,d+5]},transition:{duration:S?1.5:3,repeat:1/0,ease:"easeInOut"}}),e.jsx(z.circle,{cx:x[f].x,cy:x[f].y,r:d,fill:l.color,opacity:S?1:.9,stroke:"hsl(var(--card))",strokeWidth:"2",animate:{scale:S?1.15:1},style:{transformOrigin:`${x[f].x}px ${x[f].y}px`},transition:{duration:.2}}),e.jsx("rect",{x:x[f].x-22,y:x[f].y+d+6,width:"44",height:"14",rx:"4",fill:"hsl(var(--card))",stroke:"hsl(var(--border))",strokeWidth:"0.5",opacity:.9}),e.jsx("text",{x:x[f].x,y:x[f].y+d+15,textAnchor:"middle",className:"fill-foreground",fontSize:"7.5",fontWeight:"800",children:l.label.slice(0,8)})]},l.id)}),s!==null&&(()=>{const l=Math.max(i[s].size*4,12);return e.jsxs(z.g,{initial:{opacity:0},animate:{opacity:1},children:[e.jsx("rect",{x:x[s].x-50,y:x[s].y-l-30,width:"100",height:"22",rx:"6",fill:"hsl(var(--popover))",stroke:"hsl(var(--border))",strokeWidth:"1",filter:`url(#${v}-ts)`}),e.jsxs("text",{x:x[s].x,y:x[s].y-l-16,textAnchor:"middle",dominantBaseline:"middle",className:"fill-popover-foreground",fontSize:"9",fontWeight:"700",children:[i[s].label," (Ø­Ø¬Ù…: ",i[s].size,")"]})]})})(),[{color:"#10b981",label:"â— In Stock"},{color:"#f59e0b",label:"â— Low"},{color:"#ef4444",label:"â— Out"}].map((l,f)=>e.jsxs("g",{children:[e.jsx("circle",{cx:15,cy:c-40+f*14,r:"4",fill:l.color}),e.jsx("text",{x:24,y:c-40+f*14+1,className:"fill-muted-foreground",fontSize:"8",fontWeight:"600",dominantBaseline:"middle",children:l.label})]},f))]})},O=({level:i})=>{const n={low:{bg:"bg-emerald-500/10",text:"text-emerald-600",label:"Ù…Ù†Ø®ÙØ¶"},medium:{bg:"bg-amber-500/10",text:"text-amber-600",label:"Ù…ØªÙˆØ³Ø·"},high:{bg:"bg-red-500/10",text:"text-red-600",label:"Ù…Ø±ØªÙØ¹"},critical:{bg:"bg-red-600/20",text:"text-red-700",label:"Ø­Ø±Ø¬"},info:{bg:"bg-blue-500/10",text:"text-blue-600",label:"Ù…Ø¹Ù„ÙˆÙ…Ø©"},warning:{bg:"bg-amber-500/10",text:"text-amber-600",label:"ØªØ­Ø°ÙŠØ±"}},s=n[i]||n.low;return e.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold ${s.bg} ${s.text}`,children:s.label})},ft=({notifications:i,onClose:n,onClear:s,onMarkRead:o,isAr:c})=>e.jsxs(z.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"absolute top-14 end-0 w-[360px] bg-card border border-border rounded-2xl shadow-2xl z-[100] overflow-hidden",children:[e.jsxs("div",{className:"p-3 border-b border-border bg-muted/30 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{size:14,className:"text-primary"}),e.jsx("span",{className:"text-xs font-bold",children:c?"ØªÙ†Ø¨ÙŠÙ‡Ø§Øª AI":"AI Alerts"}),i.filter(g=>!g.read).length>0&&e.jsx("span",{className:"bg-red-500 text-white text-[9px] px-1.5 py-0.5 rounded-full font-bold",children:i.filter(g=>!g.read).length})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:s,className:"text-[10px] text-muted-foreground hover:text-red-500 px-2 py-1 rounded transition-all",children:c?"Ù…Ø³Ø­":"Clear"}),e.jsx("button",{onClick:n,className:"p-1 rounded hover:bg-muted",children:e.jsx(rt,{size:14})})]})]}),e.jsx("div",{className:"max-h-[350px] overflow-y-auto p-2 space-y-1",children:i.length===0?e.jsx("p",{className:"text-center py-8 text-muted-foreground text-xs",children:c?"Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª":"No alerts"}):i.map(g=>e.jsx(z.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},onClick:()=>o(g.id),className:`p-3 rounded-xl cursor-pointer transition-all ${g.read?"opacity-60":""} ${g.severity==="critical"?"bg-red-500/5 border border-red-500/20":g.severity==="warning"?"bg-amber-500/5 border border-amber-500/20":"bg-muted/30 border border-transparent"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center shrink-0 mt-0.5 ${g.severity==="critical"?"bg-red-500/10":g.severity==="warning"?"bg-amber-500/10":"bg-blue-500/10"}`,children:g.severity==="critical"?e.jsx(_,{size:12,className:"text-red-500"}):g.severity==="warning"?e.jsx(K,{size:12,className:"text-amber-500"}):e.jsx(Re,{size:12,className:"text-blue-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] font-bold text-foreground",children:g.title}),e.jsx("p",{className:"text-[10px] text-muted-foreground line-clamp-2",children:g.message}),e.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:new Date(g.timestamp).toLocaleString("ar-EG")})]}),!g.read&&e.jsx("span",{className:"w-2 h-2 rounded-full bg-primary shrink-0 mt-1"})]})},g.id))})]}),bt="https://flatbbqpmpozksfcacfn.supabase.co",yt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZsYXRiYnFwbXBvemtzZmNhY2ZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEyNDYxNzgsImV4cCI6MjA4NjgyMjE3OH0.qzKi-vBI6kzVtQPUFOUWVMGpqezuqun0cCaNKjkKswY";async function V(i){const n=localStorage.getItem("token"),s=await fetch(`${bt}/functions/v1/ai-cache`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,apikey:yt},body:JSON.stringify(i)});if(!s.ok)throw new Error(`Cache function error: ${s.status}`);return s.json()}async function jt(){try{return await V({action:"load_cache"})}catch(i){return console.error("Failed to load cached AI results:",i),{}}}async function pe(i,n){try{await V({action:"save_cache",analysisType:i,resultData:n})}catch(s){console.error("Failed to save AI result:",s)}}async function vt(i){try{await V({action:"save_decisions",decisions:i})}catch(n){console.error("Failed to save decision log:",n)}}async function Nt(){try{return await V({action:"load_decisions"})}catch(i){return console.error("Failed to load decision log:",i),[]}}const $t=({user:i})=>{const{settings:n}=Ge(),s=n.lang==="ar",[o,c]=M.useState("analytics"),[g,I]=M.useState(!1),[m,x]=M.useState(!1),[j,v]=M.useState(""),[l,f]=M.useState(null),[d,S]=M.useState(null),[k,h]=M.useState(null),[r,b]=M.useState(null),[y,L]=M.useState({}),[ge,_e]=M.useState([]),[X,fe]=M.useState([]),[Q,be]=M.useState([]),[ye,ee]=M.useState([]),[je,ve]=M.useState(!1),te=ye.filter(t=>!t.read).length,se=M.useCallback((t,a,p)=>{const N={id:Date.now().toString(),title:t,message:a,severity:p,timestamp:new Date().toISOString(),read:!1};ee(w=>[N,...w].slice(0,30))},[]),[G,Ne]=M.useState(null),C=(t,a="success")=>{Ne({msg:t,type:a}),setTimeout(()=>Ne(null),4e3)},ae=M.useRef(new Set),ke=[{key:"dashboard",label:s?"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…":"Dashboard"},{key:"customers",label:s?"Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡":"Customers"},{key:"invoices",label:s?"Ø§Ù„ÙÙˆØ§ØªÙŠØ±":"Invoices"},{key:"pricing",label:s?"Ø§Ù„Ø£Ø³Ø¹Ø§Ø±":"Pricing"},{key:"purchases",label:s?"Ø§Ù„Ù…Ø®Ø²ÙˆÙ†":"Inventory"},{key:"expenses",label:s?"Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ":"Expenses"},{key:"reports",label:s?"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±":"Reports"},{key:"users",label:s?"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†":"Users"},{key:"settings",label:s?"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª":"Settings"}],re=M.useCallback(async()=>{I(!0);try{const[t,a,p,N,w,$,A,D,$e]=await Promise.all([Ue().catch(()=>({data:[]})),Ye().catch(()=>({data:[]})),Je().catch(()=>({data:[]})),Ze().catch(()=>({data:[]})),qe().catch(()=>({data:[]})),Ke().catch(()=>({data:[]})),Ve().catch(()=>({data:[]})),Xe().catch(()=>({data:[]})),Qe().catch(()=>({data:[]}))]),le={invoices:Array.isArray(t.data)?t.data:[],customers:Array.isArray(a.data)?a.data:[],employees:Array.isArray(p.data)?p.data:[],inventory:Array.isArray(N.data)?N.data:[],expenses:Array.isArray(w.data)?w.data:[],advances:Array.isArray($.data)?$.data:[],attendance:Array.isArray(A.data)?A.data:[],salaries:Array.isArray(D.data)?D.data:[],purchases:Array.isArray($e.data)?$e.data:[]};b(le),_e(le.employees);const Ae={};le.employees.forEach(E=>{Ae[E.id]=y[E.id]||{view:!0,edit:E.role==="admin",delete:E.role==="admin",add:E.role!=="user",pages:E.role==="admin"?ke.map(He=>He.key):["dashboard","customers","invoices"]}}),L(Ae),v(new Date().toLocaleTimeString("ar-EG"))}catch{C(s?"ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª":"Failed to load data","error")}finally{I(!1)}},[]);M.useEffect(()=>{(async()=>{const[a,p]=await Promise.all([jt(),Nt()]);a["full-analysis"]?.data&&(f(a["full-analysis"].data),v(new Date(a["full-analysis"].updatedAt).toLocaleTimeString("ar-EG"))),a.decisions?.data&&S(a.decisions.data),a.monitoring?.data&&h(a.monitoring.data),p.length>0&&be(p)})(),re()},[]);const[we,Ee]=M.useState(!1);M.useEffect(()=>{r&&!we&&!m&&!l&&!d&&!k&&(Ee(!0),R("full-analysis"),R("decisions"),R("monitoring"))},[r,we,l]),M.useEffect(()=>{const t=setInterval(()=>{r&&!m&&re().then(()=>{R("full-analysis"),R("decisions"),R("monitoring")})},3e5);return()=>clearInterval(t)},[r,m]);const Pe=()=>{const t=n.aiModels;return!t||!Array.isArray(t)?[]:t.filter(a=>a.apiKey).map(a=>({provider:a.provider,apiKey:a.apiKey,model:a.model,endpoint:a.endpoint}))},R=async t=>{if(!r){C(s?"ÙŠØ±Ø¬Ù‰ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹":"Load data first","error");return}if(!ae.current.has(t)){ae.current.add(t),x(!0);try{const a="https://flatbbqpmpozksfcacfn.supabase.co",p="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZsYXRiYnFwbXBvemtzZmNhY2ZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEyNDYxNzgsImV4cCI6MjA4NjgyMjE3OH0.qzKi-vBI6kzVtQPUFOUWVMGpqezuqun0cCaNKjkKswY",N=localStorage.getItem("token"),w=await fetch(`${a}/functions/v1/ai-analytics`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N||p}`,apikey:p},body:JSON.stringify({businessData:r,analysisType:t,externalModels:Pe(),selectedModel:n.selectedLovableModel||"google/gemini-3-flash-preview"})});if(!w.ok){const D=(await w.json().catch(()=>({}))).error||`HTTP ${w.status}`;if(w.status===402){C(s?`âš ï¸ ${D}`:"âš ï¸ AI credits exhausted","error");return}if(w.status===429){C(s?"â³ ØªÙ… ØªØ¬Ø§ÙˆØ² Ø­Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª":"â³ Rate limited","error");return}throw new Error(D)}const $=await w.json();t==="full-analysis"?(f($),pe("full-analysis",$),$?.fraudAlerts?.length>0&&$.fraudAlerts.forEach(A=>{(A.severity==="high"||A.severity==="critical")&&se(s?"ðŸš¨ Ù†Ø´Ø§Ø· Ù…Ø´Ø¨ÙˆÙ‡":"ðŸš¨ Suspicious Activity",`${A.type}: ${A.description}`,"critical")})):t==="decisions"?(S($),pe("decisions",$),$?.decisions&&(vt($.decisions),be(A=>[...$.decisions.map(D=>({...D,timestamp:new Date().toISOString(),executedBy:"AI"})),...A].slice(0,50)),$.decisions.forEach(A=>{(A.severity==="critical"||A.severity==="warning")&&se(A.severity==="critical"?s?"ðŸ”´ Ù‚Ø±Ø§Ø± Ø­Ø±Ø¬":"ðŸ”´ Critical Decision":s?"âš ï¸ ØªØ­Ø°ÙŠØ±":"âš ï¸ Warning",`${A.title}: ${A.description}`,A.severity==="critical"?"critical":"warning")}))):t==="monitoring"&&(h($),pe("monitoring",$),$?.anomalies?.length>0&&$.anomalies.filter(A=>A.severity==="high"||A.severity==="critical").forEach(A=>{se(s?"âš¡ Ù†Ø´Ø§Ø· ØºÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠ":"âš¡ Anomaly Detected",`${A.type}: ${A.description}`,"critical")})),v(new Date().toLocaleTimeString("ar-EG")),C(s?"ØªÙ… Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­ âœ¨":"Analysis complete âœ¨","success")}catch(a){C(a?.message||(s?"ÙØ´Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„":"Analysis failed"),"error")}finally{ae.current.delete(t),x(!1)}}};M.useCallback((t,a)=>{fe(p=>[{...t,_trashType:a,_deletedAt:new Date().toISOString(),_deletedBy:i.name},...p]),C(s?"ØªÙ… Ø§Ù„Ù†Ù‚Ù„ Ù„Ø³Ù„Ø© Ø§Ù„Ù…Ù‡Ù…Ù„Ø§Øª":"Moved to trash","info")},[i.name,s]);const We=t=>{fe(a=>a.filter((p,N)=>N!==t)),C(s?"ØªÙ… Ø§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©":"Restored","success")},Oe=()=>{if(!r?.employees?.length)return{data:[70,60,80,50,90],labels:["Ø£Ø¯Ø§Ø¡","Ø­Ø¶ÙˆØ±","Ù…Ø¨ÙŠØ¹Ø§Øª","Ù…Ù‡Ø§Ù…","Ø¬ÙˆØ¯Ø©"]};const t=r.employees.length,a=r.invoices.length;return{data:[Math.min(100,a/Math.max(t,1)*10),Math.min(100,r.attendance?.length?r.attendance.length/t*20:65),Math.min(100,r.invoices.reduce((p,N)=>p+Number(N.total_amount||0),0)/Math.max(t*100,1)),Math.min(100,t*15),Math.min(100,70+Math.random()*20)],labels:s?["Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©","Ø§Ù„Ø­Ø¶ÙˆØ±","Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª","Ø§Ù„Ù…Ù‡Ø§Ù…","Ø§Ù„Ø¬ÙˆØ¯Ø©"]:["Productivity","Attendance","Sales","Tasks","Quality"]}},Te=()=>{const t=s?["Ø³Ø¨Øª","Ø£Ø­Ø¯","Ø¥Ø«Ù†ÙŠÙ†","Ø«Ù„Ø§Ø«Ø§Ø¡","Ø£Ø±Ø¨Ø¹Ø§Ø¡","Ø®Ù…ÙŠØ³","Ø¬Ù…Ø¹Ø©"]:["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],a=["9AM","10","11","12PM","1","2","3","4","5"],p=t.map(()=>a.map(()=>Math.floor(Math.random()*10)));return r?.invoices?.length&&r.invoices.forEach(N=>{const w=new Date(N.created_at),$=w.getDay(),A=Math.max(0,Math.min(8,w.getHours()-9));$<7&&A>=0&&A<9&&(p[$][A]+=1)}),{data:p,xLabels:a,yLabels:t}},Be=()=>{if(!r?.inventory?.length)return{nodes:[],links:[]};const a=r.inventory.slice(0,10).map((N,w)=>({id:`item-${w}`,label:N.name||`#${N.id}`,size:Math.max(2,Math.min(6,Number(N.quantity||1)/10)),color:Number(N.quantity||0)<5?"#ef4444":Number(N.quantity||0)<20?"#f59e0b":"#10b981"})),p=[];for(let N=0;N<a.length-1;N++)p.push({source:a[N].id,target:a[N+1].id}),N+2<a.length&&Math.random()>.5&&p.push({source:a[N].id,target:a[N+2].id});return{nodes:a,links:p}},Fe=[{key:"analytics",label:s?"Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª":"Analytics",icon:ne,color:"from-purple-500 to-indigo-600"},{key:"decisions",label:s?"Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª":"Decisions",icon:Z,color:"from-emerald-500 to-teal-600"},{key:"monitoring",label:s?"Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©":"Monitoring",icon:oe,color:"from-red-500 to-pink-600"},{key:"financial",label:s?"Ø§Ù„Ù…Ø§Ù„ÙŠØ©":"Financial",icon:ce,color:"from-green-500 to-emerald-600"},{key:"customers",label:s?"Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡":"Customers",icon:Y,color:"from-blue-500 to-indigo-600"},{key:"employees",label:s?"Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†":"Employees",icon:q,color:"from-violet-500 to-purple-600"},{key:"inventory",label:s?"Ø§Ù„Ù…Ø®Ø²ÙˆÙ†":"Inventory",icon:J,color:"from-amber-500 to-yellow-600"},{key:"forecasting",label:s?"Ø§Ù„ØªÙ†Ø¨Ø¤Ø§Øª":"Forecast",icon:xe,color:"from-cyan-500 to-blue-600"},{key:"kpis",label:s?"Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª":"KPIs",icon:Le,color:"from-teal-500 to-cyan-600"},{key:"permissions",label:s?"Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª":"Permissions",icon:de,color:"from-amber-500 to-orange-600"},{key:"decision-log",label:s?"Ø§Ù„Ø³Ø¬Ù„":"Log",icon:P,color:"from-slate-500 to-gray-600"},{key:"trash",label:s?"Ø§Ù„Ù…Ù‡Ù…Ù„Ø§Øª":"Trash",icon:T,color:"from-rose-500 to-red-600"},{key:"strategic",label:s?"Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ":"Strategic",icon:B,color:"from-orange-500 to-red-600"}],u="bg-card border border-border rounded-2xl p-5 transition-all hover:shadow-lg hover:shadow-primary/5";return e.jsxs("div",{className:"space-y-5 animate-fade-in text-start",children:[e.jsx(Se,{children:G&&e.jsx(z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`fixed top-4 left-1/2 -translate-x-1/2 z-[9999] px-5 py-3 rounded-xl shadow-xl text-sm font-bold text-white ${G.type==="success"?"bg-emerald-500":G.type==="error"?"bg-red-500":"bg-blue-500"}`,children:G.msg})}),e.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-purple-500 via-indigo-600 to-blue-600 flex items-center justify-center shadow-xl shadow-purple-500/30",children:e.jsx(ne,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-black text-foreground",children:s?"Ù…Ø±ÙƒØ² Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ":"AI Command Center"}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),s?`Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ${j||"Ù„Ù… ÙŠØ¨Ø¯Ø£"} â€¢ ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚`:`Last: ${j||"Not started"} â€¢ Auto-refresh 5m`]})]})]}),e.jsxs("div",{className:"flex gap-2 items-center relative",children:[e.jsxs("button",{onClick:()=>ve(!je),className:"relative p-2.5 rounded-xl bg-muted border border-border hover:bg-secondary transition-all",children:[e.jsx(K,{size:16,className:te>0?"text-primary":"text-muted-foreground"}),te>0&&e.jsx(z.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -end-1 bg-red-500 text-white text-[9px] w-4 h-4 rounded-full flex items-center justify-center font-bold",children:te})]}),e.jsx(Se,{children:je&&e.jsx(ft,{notifications:ye,isAr:s,onClose:()=>ve(!1),onClear:()=>ee([]),onMarkRead:t=>ee(a=>a.map(p=>p.id===t?{...p,read:!0}:p))})}),e.jsxs("button",{onClick:re,disabled:g,className:"px-4 py-2.5 rounded-xl bg-muted border border-border text-foreground text-xs font-bold hover:bg-secondary transition-all flex items-center gap-2 disabled:opacity-50",children:[e.jsx(et,{size:14,className:g?"animate-spin":""}),s?"ØªØ­Ø¯ÙŠØ«":"Refresh"]}),e.jsxs("button",{onClick:()=>{R("full-analysis"),R("decisions"),R("monitoring")},disabled:m||!r,className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-xs font-bold hover:opacity-90 transition-all flex items-center gap-2 disabled:opacity-50 shadow-lg shadow-purple-500/25",children:[m?e.jsx(U,{size:14,className:"animate-spin"}):e.jsx(ie,{size:14}),m?s?"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...":"Analyzing...":s?"ØªØ­Ù„ÙŠÙ„ AI":"Run AI"]})]})]}),e.jsx("div",{className:"flex gap-1 bg-muted/50 p-1 rounded-2xl overflow-x-auto scrollbar-hide",children:Fe.map(t=>e.jsxs("button",{onClick:()=>c(t.key),className:`flex items-center gap-1.5 px-3 py-2 rounded-xl text-[11px] font-bold transition-all whitespace-nowrap ${o===t.key?"bg-card shadow-md text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded-md bg-gradient-to-br ${t.color} flex items-center justify-center`,children:e.jsx(t.icon,{size:10,className:"text-white"})}),t.label]},t.key))}),o==="analytics"&&e.jsxs("div",{className:"space-y-5",children:[r&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{label:s?"Ø§Ù„ÙÙˆØ§ØªÙŠØ±":"Invoices",value:r.invoices.length,icon:P,color:"text-purple-500",bg:"bg-purple-500/10"},{label:s?"Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡":"Customers",value:r.customers.length,icon:Y,color:"text-blue-500",bg:"bg-blue-500/10"},{label:s?"Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†":"Employees",value:r.employees.length,icon:q,color:"text-emerald-500",bg:"bg-emerald-500/10"},{label:s?"Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª":"Products",value:r.inventory.length,icon:J,color:"text-amber-500",bg:"bg-amber-500/10"}].map((t,a)=>e.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.05},className:u,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg ${t.bg} flex items-center justify-center`,children:e.jsx(t.icon,{size:16,className:t.color})}),e.jsx("span",{className:"text-xl font-black text-foreground",children:t.value})]}),e.jsx("p",{className:"text-[11px] font-semibold text-muted-foreground",children:t.label})]},a))}),m&&!l&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx(U,{size:48,className:"mx-auto text-primary animate-spin mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm font-semibold",children:s?"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...":"Running AI..."})]}),l?e.jsxs("div",{className:"space-y-5",children:[e.jsx("div",{className:`${u} bg-gradient-to-br from-card to-primary/5`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[e.jsx(W,{value:l.overallScore||75,label:s?"Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù…":"Overall"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-2 flex items-center gap-2",children:[e.jsx(ie,{size:16,className:"text-primary"}),s?"Ù…Ù„Ø®Øµ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ":"AI Summary"]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:l.overallSummary})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[l.salesAnalysis&&e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-1 flex items-center gap-2",children:[e.jsx(Me,{size:16,className:"text-emerald-500"}),s?"Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª":"Sales Trend",e.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold ${l.salesAnalysis.trend==="up"?"bg-emerald-500/10 text-emerald-600":"bg-red-500/10 text-red-600"}`,children:[l.salesAnalysis.trend==="up"?"â†‘":"â†“"," ",l.salesAnalysis.growthRate,"%"]})]}),e.jsx("p",{className:"text-[11px] text-muted-foreground mb-3",children:l.salesAnalysis.summary}),r&&e.jsx(ue,{data:r.invoices.slice(0,15).map(t=>Number(t.total_amount||0)),color:"#10b981"})]}),e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(F,{size:16,className:"text-purple-500"}),s?"ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª":"Revenue Distribution"]}),r&&e.jsx(Ce,{segments:[{value:r.invoices.reduce((t,a)=>t+Number(a.total_amount||0),0),color:"#10b981",label:s?"Ø¥ÙŠØ±Ø§Ø¯Ø§Øª":"Revenue"},{value:r.expenses.reduce((t,a)=>t+Number(a.amount||0),0),color:"#ef4444",label:s?"Ù…ØµØ±ÙˆÙØ§Øª":"Expenses"},{value:r.purchases.reduce((t,a)=>t+Number(a.total_cost||0),0),color:"#f59e0b",label:s?"Ù…Ø´ØªØ±ÙŠØ§Øª":"Purchases"}],label:r.invoices.length.toString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 items-start",children:[e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(Z,{size:16,className:"text-indigo-500"}),s?"Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡":"Performance Radar"]}),e.jsx(he,{data:[l.overallScore||70,l.customerAnalysis?.retentionRate||60,Math.min(100,(r?.invoices?.length||0)*3),l.forecasting?.confidence||50,Math.min(100,100-(l.customerAnalysis?.atRisk||0)*10)],labels:s?["Ø§Ù„Ø£Ø¯Ø§Ø¡","Ø§Ù„Ø§Ø­ØªÙØ§Ø¸","Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª","Ø§Ù„ØªÙ†Ø¨Ø¤","Ø§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø±"]:["Performance","Retention","Sales","Forecast","Stability"]})]}),e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(P,{size:16,className:"text-blue-500"}),s?"Ø£Ø­Ø¯Ø« Ø§Ù„ÙÙˆØ§ØªÙŠØ±":"Recent Invoices",r?.invoices?.length>0&&e.jsx("span",{className:"text-[9px] bg-primary/10 text-primary px-2 py-0.5 rounded-full font-bold ms-auto",children:r.invoices.length})]}),e.jsxs("div",{className:"space-y-1.5",children:[r?.invoices?.slice(0,6).map((t,a)=>e.jsxs(z.div,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{delay:a*.03},className:"flex items-center gap-3 p-2 rounded-xl bg-muted/30 hover:bg-muted/60 transition-all",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${Number(t.paid_amount||0)>=Number(t.total_amount||0)?"bg-emerald-500/10":"bg-amber-500/10"}`,children:e.jsx(P,{size:14,className:Number(t.paid_amount||0)>=Number(t.total_amount||0)?"text-emerald-500":"text-amber-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] font-bold text-foreground truncate",children:t.customer_name||`${s?"ÙØ§ØªÙˆØ±Ø©":"Invoice"} #${t.id}`}),e.jsx("p",{className:"text-[9px] text-muted-foreground",children:t.created_at?new Date(t.created_at).toLocaleDateString("ar-EG"):""})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("p",{className:"text-[11px] font-black text-foreground",children:Number(t.total_amount||0).toLocaleString()}),e.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded-full font-bold ${Number(t.paid_amount||0)>=Number(t.total_amount||0)?"bg-emerald-500/10 text-emerald-600":"bg-amber-500/10 text-amber-600"}`,children:Number(t.paid_amount||0)>=Number(t.total_amount||0)?s?"Ù…Ø¯ÙÙˆØ¹":"Paid":s?"Ù…Ø¹Ù„Ù‚":"Pending"})]})]},a)),(!r?.invoices||r.invoices.length===0)&&e.jsx("p",{className:"text-center text-muted-foreground text-xs py-6",children:s?"Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙˆØ§ØªÙŠØ±":"No invoices"})]}),r?.invoices?.length>0&&e.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-border",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground font-semibold",children:s?`${r.invoices.length} ÙØ§ØªÙˆØ±Ø©`:`${r.invoices.length} invoices`}),e.jsxs("span",{className:"text-[10px] font-bold text-primary",children:[s?"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:":"Total:"," ",r.invoices.reduce((t,a)=>t+Number(a.total_amount||0),0).toLocaleString()]})]})]})]}),l.recommendations?.length>0&&e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(B,{size:16,className:"text-primary"}),s?"ØªÙˆØµÙŠØ§Øª AI":"AI Recommendations"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:l.recommendations.slice(0,4).map((t,a)=>e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-xl border border-border/50",children:[e.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold shrink-0 mt-0.5 ${t.impact==="high"?"bg-red-500/10 text-red-600":t.impact==="medium"?"bg-amber-500/10 text-amber-600":"bg-blue-500/10 text-blue-600"}`,children:t.impact==="high"?"ðŸ”´":t.impact==="medium"?"ðŸŸ¡":"ðŸ”µ"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-foreground",children:t.title}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:t.description})]})]},a))})]}),l.fraudAlerts?.length>0&&e.jsxs("div",{className:`${u} border-red-500/20`,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(_,{size:16,className:"text-red-500"}),s?"ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù…Ø´Ø¨ÙˆÙ‡Ø©":"Fraud Alerts"]}),e.jsx("div",{className:"space-y-2",children:l.fraudAlerts.map((t,a)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-500/5 rounded-xl border border-red-500/10",children:[e.jsx(O,{level:t.severity}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-foreground",children:t.type}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:t.description}),e.jsxs("p",{className:"text-[10px] text-emerald-600 mt-1 font-semibold",children:["ðŸ’¡ ",t.recommendation]})]})]},a))})]})]}):!m&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx(ne,{size:48,className:"mx-auto text-muted-foreground/20 mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª...":"Loading..."})]})]}),o==="decisions"&&e.jsxs("div",{className:"space-y-5",children:[m&&!d&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx(U,{size:48,className:"mx-auto text-primary animate-spin mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...":"Analyzing..."})]}),d?e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-4 flex items-center gap-2",children:[e.jsx(Z,{size:16,className:"text-emerald-500"}),s?"Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©":"Auto Decisions"]}),d.decisions?.length>0?e.jsx("div",{className:"space-y-3",children:d.decisions.map((t,a)=>e.jsxs(z.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:a*.05},className:`flex items-start gap-3 p-4 rounded-xl border ${t.severity==="critical"?"border-red-500/20 bg-red-500/5":t.severity==="warning"?"border-amber-500/20 bg-amber-500/5":"border-border bg-muted/30"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${t.severity==="critical"?"bg-red-500/10 text-red-600":t.severity==="warning"?"bg-amber-500/10 text-amber-600":"bg-blue-500/10 text-blue-600"}`,children:t.severity==="critical"?e.jsx(_,{size:16}):t.severity==="warning"?e.jsx(K,{size:16}):e.jsx(Re,{size:16})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-xs font-bold text-foreground",children:t.title}),e.jsx(O,{level:t.severity})]}),e.jsx("p",{className:"text-[11px] text-muted-foreground mb-1",children:t.description}),e.jsxs("p",{className:"text-[10px] text-primary font-semibold",children:["ðŸŽ¯ ",t.reasoning]}),t.targetName&&e.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[s?"Ø§Ù„Ù‡Ø¯Ù:":"Target:"," ",e.jsx("span",{className:"font-bold",children:t.targetName})]})]}),e.jsx("span",{className:`text-[9px] px-2 py-1 rounded-lg font-bold ${t.action==="suspend"?"bg-red-500/10 text-red-600":t.action==="reduce_permissions"?"bg-amber-500/10 text-amber-600":"bg-blue-500/10 text-blue-600"}`,children:t.action==="alert"?s?"ØªÙ†Ø¨ÙŠÙ‡":"Alert":t.action==="reduce_permissions"?s?"ØªÙ‚Ù„ÙŠÙ„ ØµÙ„Ø§Ø­ÙŠØ§Øª":"Reduce Perms":t.action==="suspend"?s?"Ø¥ÙŠÙ‚Ø§Ù":"Suspend":t.action})]},a))}):e.jsx("p",{className:"text-sm text-muted-foreground text-center py-6",children:s?"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚Ø±Ø§Ø±Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹":"No decisions"})]}):!m&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Z,{size:48,className:"mx-auto text-muted-foreground/20 mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...":"Loading..."})]})]}),o==="monitoring"&&e.jsxs("div",{className:"space-y-5",children:[m&&!k&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx(U,{size:48,className:"mx-auto text-primary animate-spin mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©...":"Monitoring..."})]}),k?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsx("div",{className:`${u} text-center`,children:e.jsx(W,{value:k.systemHealth?.score||0,label:s?"ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…":"Health"})}),e.jsxs("div",{className:`${u} flex flex-col items-center justify-center`,children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center mb-2 ${k.riskLevel==="low"?"bg-emerald-500/10":k.riskLevel==="medium"?"bg-amber-500/10":"bg-red-500/10"}`,children:e.jsx(de,{size:28,className:k.riskLevel==="low"?"text-emerald-600":k.riskLevel==="medium"?"text-amber-600":"text-red-600"})}),e.jsx("p",{className:"text-sm font-bold",children:s?"Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø·ÙˆØ±Ø©":"Risk Level"}),e.jsx(O,{level:k.riskLevel||"low"})]}),e.jsxs("div",{className:`${u} text-center`,children:[e.jsx("p",{className:"text-3xl font-black text-foreground mb-1",children:k.systemHealth?.activeUsers||0}),e.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:s?"Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù†Ø´Ø·ÙŠÙ†":"Active Users"})]})]}),k.anomalies?.length>0&&e.jsxs("div",{className:`${u} border-amber-500/20`,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(_,{size:16,className:"text-amber-500"}),s?"Ø£Ù†Ø´Ø·Ø© ØºÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠØ©":"Anomalies"]}),e.jsx("div",{className:"space-y-2",children:k.anomalies.map((t,a)=>e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-xl border ${t.severity==="high"?"border-red-500/20 bg-red-500/5":"border-amber-500/20 bg-amber-500/5"}`,children:[e.jsx(O,{level:t.severity}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold",children:t.type}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:t.description}),e.jsxs("p",{className:"text-[10px] text-primary mt-1 font-semibold",children:["ðŸ’¡ ",t.suggestedAction]})]})]},a))})]}),k.activities?.length>0&&e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(me,{size:16,className:"text-blue-500"}),s?"Ø³Ø¬Ù„ Ø§Ù„Ø£Ù†Ø´Ø·Ø©":"Activity Feed"]}),e.jsx("div",{className:"space-y-1.5 max-h-[400px] overflow-y-auto",children:k.activities.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-xl hover:bg-muted/30 transition-all",children:[e.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${t.riskScore>=70?"bg-red-500":t.riskScore>=40?"bg-amber-500":"bg-emerald-500"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-xs font-semibold truncate",children:[e.jsx("span",{className:"font-bold text-primary",children:t.user})," â€” ",t.action]}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:t.details})]}),e.jsxs("p",{className:`text-xs font-bold ${t.riskScore>=70?"text-red-600":t.riskScore>=40?"text-amber-600":"text-emerald-600"}`,children:[t.riskScore,"%"]})]},a))})]})]}):!m&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx(oe,{size:48,className:"mx-auto text-muted-foreground/20 mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...":"Loading..."})]})]}),o==="financial"&&e.jsx("div",{className:"space-y-5",children:l?.salesAnalysis?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{label:s?"Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª":"Revenue",value:r?.invoices?.reduce((t,a)=>t+Number(a.total_amount||0),0)?.toLocaleString()||"0",icon:ce,color:"text-emerald-500",bg:"bg-emerald-500/10"},{label:s?"Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª":"Expenses",value:r?.expenses?.reduce((t,a)=>t+Number(a.amount||0),0)?.toLocaleString()||"0",icon:tt,color:"text-red-500",bg:"bg-red-500/10"},{label:s?"ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­":"Net Profit",value:((r?.invoices?.reduce((t,a)=>t+Number(a.total_amount||0),0)||0)-(r?.expenses?.reduce((t,a)=>t+Number(a.amount||0),0)||0)).toLocaleString(),icon:Me,color:"text-blue-500",bg:"bg-blue-500/10"},{label:s?"Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª":"Transactions",value:(r?.invoices?.length||0)+(r?.expenses?.length||0),icon:F,color:"text-purple-500",bg:"bg-purple-500/10"}].map((t,a)=>e.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.05},className:u,children:[e.jsx("div",{className:`w-8 h-8 rounded-lg ${t.bg} flex items-center justify-center mb-2`,children:e.jsx(t.icon,{size:16,className:t.color})}),e.jsx("p",{className:"text-lg font-black text-foreground",children:t.value}),e.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground",children:t.label})]},a))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(ot,{size:16,className:"text-emerald-500"}),s?"ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª":"Sales"]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:l.salesAnalysis.summary}),r&&e.jsx(ue,{data:r.invoices.slice(0,15).map(t=>Number(t.total_amount||0)),color:"#10b981"})]}),e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(F,{size:16,className:"text-purple-500"}),s?"ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ù…ØµØ±ÙˆÙØ§Øª":"Revenue vs Expenses"]}),e.jsx(Ce,{segments:[{value:r?.invoices?.reduce((t,a)=>t+Number(a.total_amount||0),0)||0,color:"#10b981",label:s?"Ø¥ÙŠØ±Ø§Ø¯Ø§Øª":"Revenue"},{value:r?.expenses?.reduce((t,a)=>t+Number(a.amount||0),0)||0,color:"#ef4444",label:s?"Ù…ØµØ±ÙˆÙØ§Øª":"Expenses"},{value:r?.purchases?.reduce((t,a)=>t+Number(a.total_cost||0),0)||0,color:"#f59e0b",label:s?"Ù…Ø´ØªØ±ÙŠØ§Øª":"Purchases"}],label:s?"Ø§Ù„ØªÙˆØ²ÙŠØ¹":"Split"})]})]}),l.financialInsights&&e.jsxs("div",{className:u,children:[e.jsx("h3",{className:"text-sm font-bold text-foreground mb-3",children:s?"Ø±Ø¤Ù‰ Ù…Ø§Ù„ÙŠØ©":"Financial Insights"}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:l.financialInsights.summary||l.financialInsights})]})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(ce,{size:48,className:"mx-auto text-muted-foreground/20 mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"Ø´ØºÙ‘Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø£ÙˆÙ„Ø§Ù‹":"Run analysis first"})]})}),o==="customers"&&e.jsx("div",{className:"space-y-5",children:l?.customerAnalysis?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${u} bg-gradient-to-br from-card to-blue-500/5`,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(Y,{size:16,className:"text-blue-500"}),s?"ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡":"Customer Insights"]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed mb-4",children:l.customerAnalysis.summary}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{v:l.customerAnalysis.totalActive,l:s?"Ù†Ø´Ø·ÙŠÙ†":"Active"},{v:`${l.customerAnalysis.retentionRate}%`,l:s?"Ø§Ù„Ø§Ø­ØªÙØ§Ø¸":"Retention"},{v:l.customerAnalysis.atRisk||0,l:s?"Ù…Ø¹Ø±Ø¶ÙŠÙ† Ù„Ù„ÙÙ‚Ø¯":"At Risk"},{v:r?.customers?.length||0,l:s?"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ":"Total"}].map((t,a)=>e.jsxs("div",{className:"bg-muted rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-lg font-black text-foreground",children:t.v}),e.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold",children:t.l})]},a))})]}),e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(F,{size:16,className:"text-blue-500"}),s?"ØªØ­Ù„ÙŠÙ„ Ø´Ø±Ø§Ø¦Ø­ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡":"Customer Segments Radar"]}),e.jsx(he,{data:[l.customerAnalysis.retentionRate||60,Math.min(100,(l.customerAnalysis.totalActive||0)*5),Math.min(100,100-(l.customerAnalysis.atRisk||0)*10),Math.min(100,(r?.invoices?.length||0)/Math.max(r?.customers?.length||1,1)*20),Math.min(100,l.overallScore||70)],labels:s?["Ø§Ù„Ø§Ø­ØªÙØ§Ø¸","Ø§Ù„Ù†Ø´Ø§Ø·","Ø§Ù„ÙˆÙ„Ø§Ø¡","Ø§Ù„Ø¥Ù†ÙØ§Ù‚","Ø§Ù„Ø±Ø¶Ø§"]:["Retention","Activity","Loyalty","Spending","Satisfaction"]})]}),l.customerAnalysis.topCustomers?.length>0&&e.jsxs("div",{className:u,children:[e.jsx("h3",{className:"text-sm font-bold text-foreground mb-3",children:s?"Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡":"Top Customers"}),e.jsx("div",{className:"space-y-2",children:l.customerAnalysis.topCustomers.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-xl",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-[10px] font-bold",children:(t.name||"?")[0]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold",children:t.name}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:t.details||t.totalSpent})]}),e.jsx(lt,{size:14,className:"text-amber-500"})]},a))})]}),l.customerAnalysis.riskCustomers?.length>0&&e.jsxs("div",{className:`${u} border-amber-500/20`,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(_,{size:16,className:"text-amber-500"}),s?"Ø¹Ù…Ù„Ø§Ø¡ Ù…Ø¹Ø±Ø¶ÙŠÙ† Ù„Ù„Ø®Ø·Ø±":"At-Risk"]}),e.jsx("div",{className:"space-y-2",children:l.customerAnalysis.riskCustomers.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-amber-500/5 rounded-xl border border-amber-500/10",children:[e.jsx(O,{level:t.riskLevel||"medium"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold",children:t.name}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:t.reason})]})]},a))})]})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Y,{size:48,className:"mx-auto text-muted-foreground/20 mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"Ø´ØºÙ‘Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø£ÙˆÙ„Ø§Ù‹":"Run analysis first"})]})}),o==="employees"&&e.jsx("div",{className:"space-y-5",children:l?.employeeAnalysis?.length>0||d?.employeeScores?.length>0?e.jsxs(e.Fragment,{children:[d?.employeeScores?.length>0&&e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-4 flex items-center gap-2",children:[e.jsx(nt,{size:16,className:"text-purple-500"}),s?"ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø¡":"Performance Scores"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:d.employeeScores.map((t,a)=>e.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 text-center space-y-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-accent mx-auto flex items-center justify-center text-white font-bold text-sm",children:(t.name||"?")[0]}),e.jsx("p",{className:"text-xs font-bold truncate",children:t.name}),e.jsx(W,{value:t.overallScore||0,size:80,label:s?"Ø§Ù„ÙƒÙ„ÙŠ":"Overall"}),e.jsxs("div",{className:"flex gap-2 text-[10px]",children:[e.jsxs("span",{className:"flex-1 bg-card rounded-lg py-1.5 font-bold",children:["ðŸ“Š ",t.performanceScore]}),e.jsxs("span",{className:"flex-1 bg-card rounded-lg py-1.5 font-bold",children:["â° ",t.attendanceScore]})]}),e.jsx("span",{className:`text-[10px] px-2.5 py-1 rounded-full font-bold inline-block ${t.recommendation==="promote"?"bg-emerald-500/10 text-emerald-600":t.recommendation==="warn"?"bg-amber-500/10 text-amber-600":t.recommendation==="review"?"bg-red-500/10 text-red-600":"bg-blue-500/10 text-blue-600"}`,children:t.recommendation==="promote"?s?"â¬†ï¸ ØªØ±Ù‚ÙŠØ©":"â¬†ï¸ Promote":t.recommendation==="warn"?s?"âš ï¸ ØªØ­Ø°ÙŠØ±":"âš ï¸ Warn":t.recommendation==="review"?s?"ðŸ” Ù…Ø±Ø§Ø¬Ø¹Ø©":"ðŸ” Review":s?"âœ… Ø§Ø³ØªÙ…Ø±Ø§Ø±":"âœ… Maintain"})]},a))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(F,{size:16,className:"text-violet-500"}),s?"ØªÙ‚ÙŠÙŠÙ… Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯":"Multi-Dimension Assessment"]}),(()=>{const t=Oe();return e.jsx(he,{data:t.data,labels:t.labels})})()]}),e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(me,{size:16,className:"text-orange-500"}),s?"Ø®Ø±ÙŠØ·Ø© Ø­Ø±Ø§Ø±ÙŠØ© Ù„Ù„Ù†Ø´Ø§Ø·":"Activity Heatmap"]}),(()=>{const t=Te();return e.jsx(pt,{data:t.data,xLabels:t.xLabels,yLabels:t.yLabels})})()]})]}),l?.employeeAnalysis?.length>0&&e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(q,{size:16,className:"text-violet-500"}),s?"ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†":"Ratings"]}),e.jsx("div",{className:"space-y-2",children:l.employeeAnalysis.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-xl",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white text-[10px] font-bold shrink-0",children:(t.name||"?")[0]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-bold truncate",children:t.name}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:t.notes})]}),e.jsxs("p",{className:`text-sm font-black ${t.score>=80?"text-emerald-600":t.score>=50?"text-amber-600":"text-red-600"}`,children:[t.score,"/100"]})]},a))})]})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(q,{size:48,className:"mx-auto text-muted-foreground/20 mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"Ø´ØºÙ‘Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø£ÙˆÙ„Ø§Ù‹":"Run analysis first"})]})}),o==="inventory"&&e.jsx("div",{className:"space-y-5",children:l?.inventoryAnalysis?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${u} bg-gradient-to-br from-card to-amber-500/5`,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(J,{size:16,className:"text-amber-500"}),s?"ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†":"Inventory"]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed mb-4",children:l.inventoryAnalysis.summary}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-muted rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-lg font-black text-foreground",children:r?.inventory?.length||0}),e.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold",children:s?"Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª":"Products"})]}),e.jsxs("div",{className:"bg-muted rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-lg font-black text-foreground",children:l.inventoryAnalysis.lowStock||0}),e.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold",children:s?"Ù…Ù†Ø®ÙØ¶":"Low"})]}),e.jsxs("div",{className:"bg-muted rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-lg font-black text-foreground",children:l.inventoryAnalysis.outOfStock||0}),e.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold",children:s?"Ù†ÙØ¯":"Out"})]})]})]}),r?.inventory?.length>0&&e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(me,{size:16,className:"text-amber-500"}),s?"Ø´Ø¨ÙƒØ© Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª":"Product Network Graph"]}),e.jsx("p",{className:"text-[10px] text-muted-foreground mb-2",children:s?"ðŸŸ¢ Ù…Ø®Ø²ÙˆÙ† ÙƒØ§ÙÙŠ â€¢ ðŸŸ¡ Ù…Ù†Ø®ÙØ¶ â€¢ ðŸ”´ Ù†ÙØ¯":"ðŸŸ¢ In stock â€¢ ðŸŸ¡ Low â€¢ ðŸ”´ Out"}),(()=>{const t=Be();return e.jsx(gt,{nodes:t.nodes,links:t.links})})()]}),l.inventoryAnalysis.alerts?.length>0&&e.jsxs("div",{className:`${u} border-amber-500/20`,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(_,{size:16,className:"text-amber-500"}),s?"ØªÙ†Ø¨ÙŠÙ‡Ø§Øª":"Alerts"]}),e.jsx("div",{className:"space-y-2",children:l.inventoryAnalysis.alerts.map((t,a)=>e.jsxs("div",{className:"flex items-start gap-2 text-[11px] text-amber-600 bg-amber-500/5 rounded-lg px-3 py-2",children:[e.jsx(_,{size:12,className:"shrink-0 mt-0.5"}),t]},a))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[l.inventoryAnalysis.fastMoving?.length>0&&e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(Ie,{size:14,className:"text-emerald-500"}),s?"Ø³Ø±ÙŠØ¹Ø© Ø§Ù„Ø­Ø±ÙƒØ©":"Fast Moving"]}),e.jsx("div",{className:"space-y-1.5",children:l.inventoryAnalysis.fastMoving.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-emerald-500/5 rounded-lg",children:[e.jsx(Ie,{size:14,className:"text-emerald-500"}),e.jsx("span",{className:"text-xs font-bold flex-1",children:t.name||t})]},a))})]}),l.inventoryAnalysis.slowMoving?.length>0&&e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(ze,{size:14,className:"text-red-500"}),s?"Ø±Ø§ÙƒØ¯Ø©":"Slow Moving"]}),e.jsx("div",{className:"space-y-1.5",children:l.inventoryAnalysis.slowMoving.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-red-500/5 rounded-lg",children:[e.jsx(ze,{size:14,className:"text-red-500"}),e.jsx("span",{className:"text-xs font-bold flex-1",children:t.name||t})]},a))})]})]})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(J,{size:48,className:"mx-auto text-muted-foreground/20 mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"Ø´ØºÙ‘Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø£ÙˆÙ„Ø§Ù‹":"Run analysis first"})]})}),o==="forecasting"&&e.jsx("div",{className:"space-y-5",children:l?.forecasting?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${u} bg-gradient-to-br from-card to-cyan-500/5`,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(xe,{size:16,className:"text-cyan-500"}),s?"Ø§Ù„ØªÙ†Ø¨Ø¤Ø§Øª":"Forecasting"]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed mb-4",children:l.forecasting.summary}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{v:l.forecasting.nextMonthRevenue?.toLocaleString(),l:s?"Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù…ØªÙˆÙ‚Ø¹Ø©":"Expected Revenue"},{v:`${l.forecasting.confidence}%`,l:s?"Ø§Ù„Ø«Ù‚Ø©":"Confidence"},{v:`${l.forecasting.expectedGrowth||"â€”"}%`,l:s?"Ø§Ù„Ù†Ù…Ùˆ":"Growth"},{v:l.forecasting.seasonalTrend||"â€”",l:s?"Ø§Ù„Ù…ÙˆØ³Ù…ÙŠØ©":"Seasonal"}].map((t,a)=>e.jsxs("div",{className:"bg-muted rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-lg font-black text-foreground",children:t.v}),e.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold",children:t.l})]},a))})]}),l.forecasting.predictions?.length>0&&e.jsxs("div",{className:u,children:[e.jsx("h3",{className:"text-sm font-bold text-foreground mb-3",children:s?"ØªÙ†Ø¨Ø¤Ø§Øª ØªÙØµÙŠÙ„ÙŠØ©":"Predictions"}),e.jsx("div",{className:"space-y-2",children:l.forecasting.predictions.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-xl",children:[e.jsx("span",{className:"text-[10px] px-2 py-1 rounded-lg bg-cyan-500/10 text-cyan-600 font-bold",children:t.type||t.category}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold",children:t.title||t.description}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:t.details||t.impact})]})]},a))})]})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(xe,{size:48,className:"mx-auto text-muted-foreground/20 mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"Ø´ØºÙ‘Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø£ÙˆÙ„Ø§Ù‹":"Run analysis first"})]})}),o==="kpis"&&e.jsx("div",{className:"space-y-5",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:(()=>{const t=r.invoices.reduce((w,$)=>w+Number($.total_amount||0),0),a=r.expenses.reduce((w,$)=>w+Number($.amount||0),0),p=r.invoices.filter(w=>new Date(w.created_at).toDateString()===new Date().toDateString()),N=p.reduce((w,$)=>w+Number($.total_amount||0),0);return[{label:s?"Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…":"Today",value:N.toLocaleString(),sub:`${p.length} ${s?"ÙØ§ØªÙˆØ±Ø©":"inv"}`,color:"text-emerald-500"},{label:s?"Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª":"Revenue",value:t.toLocaleString(),sub:n.currency,color:"text-blue-500"},{label:s?"ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­":"Profit",value:(t-a).toLocaleString(),sub:`${((t-a)/(t||1)*100).toFixed(1)}%`,color:"text-purple-500"},{label:s?"Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡":"Clients",value:r.customers.length,sub:s?"Ø¹Ù…ÙŠÙ„":"clients",color:"text-amber-500"}].map((w,$)=>e.jsxs(z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:$*.05},className:u,children:[e.jsx("p",{className:`text-xl font-black ${w.color}`,children:w.value}),e.jsx("p",{className:"text-[11px] font-bold text-foreground mt-1",children:w.label}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:w.sub})]},$))})()}),l&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsx("div",{className:`${u} text-center`,children:e.jsx(W,{value:l.overallScore||0,label:s?"Ø§Ù„Ø£Ø¯Ø§Ø¡":"Overall"})}),e.jsx("div",{className:`${u} text-center`,children:e.jsx(W,{value:l.customerAnalysis?.retentionRate||0,label:s?"Ø§Ù„Ø§Ø­ØªÙØ§Ø¸":"Retention"})}),e.jsx("div",{className:`${u} text-center`,children:e.jsx(W,{value:l.forecasting?.confidence||0,label:s?"Ø§Ù„ØªÙ†Ø¨Ø¤":"Forecast"})})]}),e.jsxs("div",{className:u,children:[e.jsx("h3",{className:"text-sm font-bold text-foreground mb-3",children:s?"Ù…Ø®Ø·Ø· Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª":"Revenue Trend"}),e.jsx(ue,{data:r.invoices.slice(0,15).map(t=>Number(t.total_amount||0)),color:"#6366f1"})]})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Le,{size:48,className:"mx-auto text-muted-foreground/20 mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...":"Loading..."})]})}),o==="permissions"&&e.jsx("div",{className:"space-y-5",children:e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-4 flex items-center gap-2",children:[e.jsx(de,{size:16,className:"text-amber-500"}),s?"ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†":"Permissions"]}),ge.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:s?"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ÙˆØ¸ÙÙŠÙ†":"No employees"}):e.jsx("div",{className:"space-y-4",children:ge.map(t=>{const a=y[t.id]||{view:!0,edit:!1,delete:!1,add:!1,pages:[]};return e.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white text-xs font-bold",children:(t.name||"?")[0]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-bold",children:t.name}),e.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[t.email," â€¢ ",t.role]})]}),e.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full font-bold ${t.status==="active"?"bg-emerald-500/10 text-emerald-600":"bg-red-500/10 text-red-600"}`,children:t.status==="active"?s?"Ù†Ø´Ø·":"Active":s?"Ù…ÙˆÙ‚ÙˆÙ":"Inactive"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:[{key:"view",label:s?"Ø¹Ø±Ø¶":"View",icon:oe},{key:"edit",label:s?"ØªØ¹Ø¯ÙŠÙ„":"Edit",icon:P},{key:"delete",label:s?"Ø­Ø°Ù":"Delete",icon:T},{key:"add",label:s?"Ø¥Ø¶Ø§ÙØ©":"Add",icon:B}].map(p=>e.jsxs("button",{onClick:()=>{L(N=>({...N,[t.id]:{...N[t.id],[p.key]:!N[t.id]?.[p.key]}})),C(s?"ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«":"Updated","info")},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[11px] font-bold transition-all ${a[p.key]?"bg-emerald-500/10 text-emerald-600 border border-emerald-500/20":"bg-muted text-muted-foreground border border-transparent"}`,children:[a[p.key]?e.jsx(xt,{size:11}):e.jsx(st,{size:11}),p.label]},p.key))}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-muted-foreground mb-1.5",children:s?"Ø§Ù„ØµÙØ­Ø§Øª:":"Pages:"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:ke.map(p=>{const N=a.pages?.includes(p.key);return e.jsx("button",{onClick:()=>{L(w=>{const $=w[t.id]?.pages||[],A=N?$.filter(D=>D!==p.key):[...$,p.key];return{...w,[t.id]:{...w[t.id],pages:A}}})},className:`px-2 py-1 rounded-lg text-[10px] font-bold transition-all ${N?"bg-primary/10 text-primary border border-primary/20":"bg-muted text-muted-foreground/50"}`,children:p.label},p.key)})})]})]},t.id)})})]})}),o==="decision-log"&&e.jsx("div",{className:"space-y-5",children:e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-4 flex items-center gap-2",children:[e.jsx(P,{size:16,className:"text-slate-500"}),s?"Ø³Ø¬Ù„ Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª":"Decision Log",e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-muted text-muted-foreground font-bold",children:[Q.length," ",s?"Ù‚Ø±Ø§Ø±":"decisions"]})]}),Q.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:s?"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù‚Ø±Ø§Ø±Ø§Øª Ù…Ø³Ø¬Ù„Ø©":"No decisions yet"}):e.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:Q.map((t,a)=>e.jsx(z.div,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{delay:a*.02},className:`p-4 rounded-xl border ${t.severity==="critical"?"border-red-500/20 bg-red-500/5":t.severity==="warning"?"border-amber-500/20 bg-amber-500/5":"border-border bg-muted/30"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(at,{size:14,className:"text-muted-foreground shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-xs font-bold text-foreground",children:t.title}),e.jsx(O,{level:t.severity||"info"})]}),t.description&&e.jsx("p",{className:"text-[11px] text-muted-foreground mb-1",children:t.description}),t.reasoning&&e.jsxs("p",{className:"text-[10px] text-primary font-semibold",children:["ðŸŽ¯ ",t.reasoning]}),e.jsxs("p",{className:"text-[9px] text-muted-foreground mt-1",children:[new Date(t.timestamp||t.created_at).toLocaleString("ar-EG"),t.targetName&&` â€¢ ${t.targetName}`,t.executedBy&&` â€¢ ${t.executedBy}`]})]})]})},a))})]})}),o==="trash"&&e.jsx("div",{className:"space-y-5",children:e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(T,{size:16,className:"text-red-500"}),s?"Ø³Ù„Ø© Ø§Ù„Ù…Ù‡Ù…Ù„Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©":"Smart Trash",e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-muted text-muted-foreground font-bold",children:X.length})]}),X.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(T,{size:48,className:"mx-auto text-muted-foreground/20 mb-4"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Ø³Ù„Ø© Ø§Ù„Ù…Ù‡Ù…Ù„Ø§Øª ÙØ§Ø±ØºØ©":"Trash is empty"})]}):e.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:X.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-500/5 rounded-xl border border-red-500/10",children:[e.jsx(T,{size:14,className:"text-red-500 shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-bold truncate",children:t.name||t.description||t.invoice_no||`#${t.id}`}),e.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[t._trashType," â€¢ ",s?"Ø¨ÙˆØ§Ø³Ø·Ø©":"By"," ",t._deletedBy," â€¢ ",new Date(t._deletedAt).toLocaleString("ar-EG")]})]}),e.jsxs("button",{onClick:()=>We(a),className:"px-3 py-1.5 rounded-lg bg-emerald-500/10 text-emerald-600 text-[10px] font-bold hover:bg-emerald-500/20 transition-all flex items-center gap-1",children:[e.jsx(ut,{size:10}),s?"Ø§Ø³ØªØ¹Ø§Ø¯Ø©":"Restore"]})]},a))})]})}),o==="strategic"&&e.jsx("div",{className:"space-y-5",children:d?.strategicActions?.length>0||l?.recommendations?.length>0?e.jsxs(e.Fragment,{children:[d?.strategicActions?.length>0&&e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-4 flex items-center gap-2",children:[e.jsx(B,{size:16,className:"text-orange-500"}),s?"Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©":"Strategic Actions"]}),e.jsx("div",{className:"space-y-3",children:d.strategicActions.map((t,a)=>e.jsxs(z.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:a*.05},className:"flex items-center gap-3 p-4 bg-muted/30 rounded-xl border border-border/50",children:[e.jsx("span",{className:`text-[10px] px-2.5 py-1 rounded-lg font-bold ${t.priority==="high"?"bg-red-500/10 text-red-600":t.priority==="medium"?"bg-amber-500/10 text-amber-600":"bg-blue-500/10 text-blue-600"}`,children:t.priority==="high"?s?"ðŸ”´ Ø­Ø±Ø¬":"ðŸ”´ High":t.priority==="medium"?s?"ðŸŸ¡ Ù…ØªÙˆØ³Ø·":"ðŸŸ¡ Med":s?"ðŸ”µ Ù…Ù†Ø®ÙØ¶":"ðŸ”µ Low"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold",children:t.title}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:t.expectedImpact})]}),e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded bg-muted font-semibold text-muted-foreground",children:t.category})]},a))})]}),l?.recommendations?.length>0&&e.jsxs("div",{className:u,children:[e.jsxs("h3",{className:"text-sm font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(ie,{size:16,className:"text-primary"}),s?"ØªÙˆØµÙŠØ§Øª Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø£Ø±Ø¨Ø§Ø­":"Profit Recommendations"]}),e.jsx("div",{className:"space-y-2",children:l.recommendations.map((t,a)=>e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-xl",children:[e.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${t.impact==="high"?"bg-red-500/10 text-red-600":t.impact==="medium"?"bg-amber-500/10 text-amber-600":"bg-blue-500/10 text-blue-600"}`,children:t.impact==="high"?"ðŸ”´":t.impact==="medium"?"ðŸŸ¡":"ðŸ”µ"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-foreground",children:t.title}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:t.description})]})]},a))})]})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(B,{size:48,className:"mx-auto text-muted-foreground/20 mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"Ø´ØºÙ‘Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø£ÙˆÙ„Ø§Ù‹":"Run analysis first"})]})})]})};export{$t as default};
