const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdvancedDashboard-Dv2SIB-3.js","assets/target-Jlvc88Bs.js","assets/AIAnalyticsPage-BbTBYgDG.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}})();var yh={exports:{}},co={};var Oy;function JN(){if(Oy)return co;Oy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(r,c,u){var d=null;if(u!==void 0&&(d=""+u),c.key!==void 0&&(d=""+c.key),"key"in c){u={};for(var f in c)f!=="key"&&(u[f]=c[f])}else u=c;return c=u.ref,{$$typeof:s,type:r,key:d,ref:c!==void 0?c:null,props:u}}return co.Fragment=e,co.jsx=a,co.jsxs=a,co}var Dy;function ZN(){return Dy||(Dy=1,yh.exports=JN()),yh.exports}var i=ZN(),bh={exports:{}},Be={};var My;function eS(){if(My)return Be;My=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function j(E){return E===null||typeof E!="object"?null:(E=v&&E[v]||E["@@iterator"],typeof E=="function"?E:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,_={};function C(E,V,Q){this.props=E,this.context=V,this.refs=_,this.updater=Q||w}C.prototype.isReactComponent={},C.prototype.setState=function(E,V){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,V,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function D(){}D.prototype=C.prototype;function T(E,V,Q){this.props=E,this.context=V,this.refs=_,this.updater=Q||w}var L=T.prototype=new D;L.constructor=T,A(L,C.prototype),L.isPureReactComponent=!0;var q=Array.isArray;function H(){}var X={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function oe(E,V,Q){var re=Q.ref;return{$$typeof:s,type:E,key:V,ref:re!==void 0?re:null,props:Q}}function ue(E,V){return oe(E.type,V,E.props)}function ge(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function Ne(E){var V={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Q){return V[Q]})}var Me=/\/+/g;function we(E,V){return typeof E=="object"&&E!==null&&E.key!=null?Ne(""+E.key):V.toString(36)}function Ue(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(H,H):(E.status="pending",E.then(function(V){E.status==="pending"&&(E.status="fulfilled",E.value=V)},function(V){E.status==="pending"&&(E.status="rejected",E.reason=V)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function U(E,V,Q,re,G){var fe=typeof E;(fe==="undefined"||fe==="boolean")&&(E=null);var je=!1;if(E===null)je=!0;else switch(fe){case"bigint":case"string":case"number":je=!0;break;case"object":switch(E.$$typeof){case s:case e:je=!0;break;case x:return je=E._init,U(je(E._payload),V,Q,re,G)}}if(je)return G=G(E),je=re===""?"."+we(E,0):re,q(G)?(Q="",je!=null&&(Q=je.replace(Me,"$&/")+"/"),U(G,V,Q,"",function(Le){return Le})):G!=null&&(ge(G)&&(G=ue(G,Q+(G.key==null||E&&E.key===G.key?"":(""+G.key).replace(Me,"$&/")+"/")+je)),V.push(G)),1;je=0;var Z=re===""?".":re+":";if(q(E))for(var de=0;de<E.length;de++)re=E[de],fe=Z+we(re,de),je+=U(re,V,Q,fe,G);else if(de=j(E),typeof de=="function")for(E=de.call(E),de=0;!(re=E.next()).done;)re=re.value,fe=Z+we(re,de++),je+=U(re,V,Q,fe,G);else if(fe==="object"){if(typeof E.then=="function")return U(Ue(E),V,Q,re,G);throw V=String(E),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return je}function W(E,V,Q){if(E==null)return E;var re=[],G=0;return U(E,re,"","",function(fe){return V.call(Q,fe,G++)}),re}function se(E){if(E._status===-1){var V=E._result;V=V(),V.then(function(Q){(E._status===0||E._status===-1)&&(E._status=1,E._result=Q)},function(Q){(E._status===0||E._status===-1)&&(E._status=2,E._result=Q)}),E._status===-1&&(E._status=0,E._result=V)}if(E._status===1)return E._result.default;throw E._result}var pe=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},ie={map:W,forEach:function(E,V,Q){W(E,function(){V.apply(this,arguments)},Q)},count:function(E){var V=0;return W(E,function(){V++}),V},toArray:function(E){return W(E,function(V){return V})||[]},only:function(E){if(!ge(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Be.Activity=b,Be.Children=ie,Be.Component=C,Be.Fragment=a,Be.Profiler=c,Be.PureComponent=T,Be.StrictMode=r,Be.Suspense=p,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Be.__COMPILER_RUNTIME={__proto__:null,c:function(E){return X.H.useMemoCache(E)}},Be.cache=function(E){return function(){return E.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(E,V,Q){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var re=A({},E.props),G=E.key;if(V!=null)for(fe in V.key!==void 0&&(G=""+V.key),V)!ee.call(V,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&V.ref===void 0||(re[fe]=V[fe]);var fe=arguments.length-2;if(fe===1)re.children=Q;else if(1<fe){for(var je=Array(fe),Z=0;Z<fe;Z++)je[Z]=arguments[Z+2];re.children=je}return oe(E.type,G,re)},Be.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},Be.createElement=function(E,V,Q){var re,G={},fe=null;if(V!=null)for(re in V.key!==void 0&&(fe=""+V.key),V)ee.call(V,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(G[re]=V[re]);var je=arguments.length-2;if(je===1)G.children=Q;else if(1<je){for(var Z=Array(je),de=0;de<je;de++)Z[de]=arguments[de+2];G.children=Z}if(E&&E.defaultProps)for(re in je=E.defaultProps,je)G[re]===void 0&&(G[re]=je[re]);return oe(E,fe,G)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(E){return{$$typeof:f,render:E}},Be.isValidElement=ge,Be.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:se}},Be.memo=function(E,V){return{$$typeof:g,type:E,compare:V===void 0?null:V}},Be.startTransition=function(E){var V=X.T,Q={};X.T=Q;try{var re=E(),G=X.S;G!==null&&G(Q,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(H,pe)}catch(fe){pe(fe)}finally{V!==null&&Q.types!==null&&(V.types=Q.types),X.T=V}},Be.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Be.use=function(E){return X.H.use(E)},Be.useActionState=function(E,V,Q){return X.H.useActionState(E,V,Q)},Be.useCallback=function(E,V){return X.H.useCallback(E,V)},Be.useContext=function(E){return X.H.useContext(E)},Be.useDebugValue=function(){},Be.useDeferredValue=function(E,V){return X.H.useDeferredValue(E,V)},Be.useEffect=function(E,V){return X.H.useEffect(E,V)},Be.useEffectEvent=function(E){return X.H.useEffectEvent(E)},Be.useId=function(){return X.H.useId()},Be.useImperativeHandle=function(E,V,Q){return X.H.useImperativeHandle(E,V,Q)},Be.useInsertionEffect=function(E,V){return X.H.useInsertionEffect(E,V)},Be.useLayoutEffect=function(E,V){return X.H.useLayoutEffect(E,V)},Be.useMemo=function(E,V){return X.H.useMemo(E,V)},Be.useOptimistic=function(E,V){return X.H.useOptimistic(E,V)},Be.useReducer=function(E,V,Q){return X.H.useReducer(E,V,Q)},Be.useRef=function(E){return X.H.useRef(E)},Be.useState=function(E){return X.H.useState(E)},Be.useSyncExternalStore=function(E,V,Q){return X.H.useSyncExternalStore(E,V,Q)},Be.useTransition=function(){return X.H.useTransition()},Be.version="19.2.4",Be}var zy;function Qf(){return zy||(zy=1,bh.exports=eS()),bh.exports}var S=Qf(),vh={exports:{}},uo={},wh={exports:{}},jh={};var Uy;function tS(){return Uy||(Uy=1,(function(s){function e(U,W){var se=U.length;U.push(W);e:for(;0<se;){var pe=se-1>>>1,ie=U[pe];if(0<c(ie,W))U[pe]=W,U[se]=ie,se=pe;else break e}}function a(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var W=U[0],se=U.pop();if(se!==W){U[0]=se;e:for(var pe=0,ie=U.length,E=ie>>>1;pe<E;){var V=2*(pe+1)-1,Q=U[V],re=V+1,G=U[re];if(0>c(Q,se))re<ie&&0>c(G,Q)?(U[pe]=G,U[re]=se,pe=re):(U[pe]=Q,U[V]=se,pe=V);else if(re<ie&&0>c(G,se))U[pe]=G,U[re]=se,pe=re;else break e}}return W}function c(U,W){var se=U.sortIndex-W.sortIndex;return se!==0?se:U.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();s.unstable_now=function(){return d.now()-f}}var p=[],g=[],x=1,b=null,v=3,j=!1,w=!1,A=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function L(U){for(var W=a(g);W!==null;){if(W.callback===null)r(g);else if(W.startTime<=U)r(g),W.sortIndex=W.expirationTime,e(p,W);else break;W=a(g)}}function q(U){if(A=!1,L(U),!w)if(a(p)!==null)w=!0,H||(H=!0,Ne());else{var W=a(g);W!==null&&Ue(q,W.startTime-U)}}var H=!1,X=-1,ee=5,oe=-1;function ue(){return _?!0:!(s.unstable_now()-oe<ee)}function ge(){if(_=!1,H){var U=s.unstable_now();oe=U;var W=!0;try{e:{w=!1,A&&(A=!1,D(X),X=-1),j=!0;var se=v;try{t:{for(L(U),b=a(p);b!==null&&!(b.expirationTime>U&&ue());){var pe=b.callback;if(typeof pe=="function"){b.callback=null,v=b.priorityLevel;var ie=pe(b.expirationTime<=U);if(U=s.unstable_now(),typeof ie=="function"){b.callback=ie,L(U),W=!0;break t}b===a(p)&&r(p),L(U)}else r(p);b=a(p)}if(b!==null)W=!0;else{var E=a(g);E!==null&&Ue(q,E.startTime-U),W=!1}}break e}finally{b=null,v=se,j=!1}W=void 0}}finally{W?Ne():H=!1}}}var Ne;if(typeof T=="function")Ne=function(){T(ge)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,we=Me.port2;Me.port1.onmessage=ge,Ne=function(){we.postMessage(null)}}else Ne=function(){C(ge,0)};function Ue(U,W){X=C(function(){U(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(U){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var se=v;v=W;try{return U()}finally{v=se}},s.unstable_requestPaint=function(){_=!0},s.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var se=v;v=U;try{return W()}finally{v=se}},s.unstable_scheduleCallback=function(U,W,se){var pe=s.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?pe+se:pe):se=pe,U){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=se+ie,U={id:x++,callback:W,priorityLevel:U,startTime:se,expirationTime:ie,sortIndex:-1},se>pe?(U.sortIndex=se,e(g,U),a(p)===null&&U===a(g)&&(A?(D(X),X=-1):A=!0,Ue(q,se-pe))):(U.sortIndex=ie,e(p,U),w||j||(w=!0,H||(H=!0,Ne()))),U},s.unstable_shouldYield=ue,s.unstable_wrapCallback=function(U){var W=v;return function(){var se=v;v=W;try{return U.apply(this,arguments)}finally{v=se}}}})(jh)),jh}var Ly;function sS(){return Ly||(Ly=1,wh.exports=tS()),wh.exports}var Nh={exports:{}},ps={};var Py;function nS(){if(Py)return ps;Py=1;var s=Qf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(p,g,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:p,containerInfo:g,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ps.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ps.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,x)},ps.flushSync=function(p){var g=d.T,x=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=g,r.p=x,r.d.f()}},ps.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},ps.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},ps.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,b=f(x,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:j}):x==="script"&&r.d.X(p,{crossOrigin:b,integrity:v,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ps.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=f(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},ps.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,b=f(x,g.crossOrigin);r.d.L(p,x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ps.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=f(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},ps.requestFormReset=function(p){r.d.r(p)},ps.unstable_batchedUpdates=function(p,g){return p(g)},ps.useFormState=function(p,g,x){return d.H.useFormState(p,g,x)},ps.useFormStatus=function(){return d.H.useHostTransitionStatus()},ps.version="19.2.4",ps}var By;function aS(){if(By)return Nh.exports;By=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Nh.exports=nS(),Nh.exports}var Vy;function rS(){if(Vy)return uo;Vy=1;var s=sS(),e=Qf(),a=aS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function f(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var o=t,l=n;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){o=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return p(h),t;if(m===l)return p(h),n;m=m.sibling}throw Error(r(188))}if(o.return!==l.return)o=h,l=m;else{for(var y=!1,N=h.child;N;){if(N===o){y=!0,o=h,l=m;break}if(N===l){y=!0,l=h,o=m;break}N=N.sibling}if(!y){for(N=m.child;N;){if(N===o){y=!0,o=m,l=h;break}if(N===l){y=!0,l=m,o=h;break}N=N.sibling}if(!y)throw Error(r(189))}}if(o.alternate!==l)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),T=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function Ne(t){return t===null||typeof t!="object"?null:(t=ge&&t[ge]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Symbol.for("react.client.reference");function we(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Me?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case q:return"Suspense";case H:return"SuspenseList";case oe:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case T:return t.displayName||"Context";case D:return(t._context.displayName||"Context")+".Consumer";case L:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return n=t.displayName||null,n!==null?n:we(t.type)||"Memo";case ee:n=t._payload,t=t._init;try{return we(t(n))}catch{}}return null}var Ue=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},pe=[],ie=-1;function E(t){return{current:t}}function V(t){0>ie||(t.current=pe[ie],pe[ie]=null,ie--)}function Q(t,n){ie++,pe[ie]=t.current,t.current=n}var re=E(null),G=E(null),fe=E(null),je=E(null);function Z(t,n){switch(Q(fe,n),Q(G,t),Q(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ty(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ty(n),t=sy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(re),Q(re,t)}function de(){V(re),V(G),V(fe)}function Le(t){t.memoizedState!==null&&Q(je,t);var n=re.current,o=sy(n,t.type);n!==o&&(Q(G,t),Q(re,o))}function zt(t){G.current===t&&(V(re),V(G)),je.current===t&&(V(je),ro._currentValue=se)}var ts,bt;function le(t){if(ts===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);ts=n&&n[1]||"",bt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ts+t+bt}var Fe=!1;function qe(t,n){if(!t||Fe)return"";Fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var I=Y}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Y){I=Y}t.call(ne.prototype)}}else{try{throw Error()}catch(Y){I=Y}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&I&&typeof Y.stack=="string")return[Y.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),y=m[0],N=m[1];if(y&&N){var k=y.split(`
`),B=N.split(`
`);for(h=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===k.length||h===B.length)for(l=k.length-1,h=B.length-1;1<=l&&0<=h&&k[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(k[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||k[l]!==B[h]){var J=`
`+k[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{Fe=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?le(o):""}function F(t,n){switch(t.tag){case 26:case 27:case 5:return le(t.type);case 16:return le("Lazy");case 13:return t.child!==n&&n!==null?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return qe(t.type,!1);case 11:return qe(t.type.render,!1);case 1:return qe(t.type,!0);case 31:return le("Activity");default:return""}}function He(t){try{var n="",o=null;do n+=F(t,o),o=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var tt=Object.prototype.hasOwnProperty,We=s.unstable_scheduleCallback,Tt=s.unstable_cancelCallback,as=s.unstable_shouldYield,ys=s.unstable_requestPaint,ae=s.unstable_now,$t=s.unstable_getCurrentPriorityLevel,en=s.unstable_ImmediatePriority,ms=s.unstable_UserBlockingPriority,mt=s.unstable_NormalPriority,Yt=s.unstable_LowPriority,Xt=s.unstable_IdlePriority,Qt=s.log,ce=s.unstable_setDisableYieldValue,Ve=null,Ye=null;function it(t){if(typeof Qt=="function"&&ce(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Ve,t)}catch{}}var z=Math.clz32?Math.clz32:R,Ce=Math.log,ke=Math.LN2;function R(t){return t>>>=0,t===0?32:31-(Ce(t)/ke|0)|0}var he=256,xe=262144,Se=4194304;function Pe(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vt(t,n,o){var l=t.pendingLanes;if(l===0)return 0;var h=0,m=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var N=l&134217727;return N!==0?(l=N&~m,l!==0?h=Pe(l):(y&=N,y!==0?h=Pe(y):o||(o=N&~t,o!==0&&(h=Pe(o))))):(N=l&~m,N!==0?h=Pe(N):y!==0?h=Pe(y):o||(o=l&~t,o!==0&&(h=Pe(o)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,o=n&-n,m>=o||m===32&&(o&4194048)!==0)?n:h}function nt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ht(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nt(){var t=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),t}function pt(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function Ut(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ot(t,n,o,l,h,m){var y=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var N=t.entanglements,k=t.expirationTimes,B=t.hiddenUpdates;for(o=y&~o;0<o;){var J=31-z(o),ne=1<<J;N[J]=0,k[J]=-1;var I=B[J];if(I!==null)for(B[J]=null,J=0;J<I.length;J++){var Y=I[J];Y!==null&&(Y.lane&=-536870913)}o&=~ne}l!==0&&_a(t,l,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(y&~n))}function _a(t,n,o){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-z(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|o&261930}function Wo(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var l=31-z(o),h=1<<l;h&n|t[l]&n&&(t[l]|=n),o&=~h}}function Jo(t,n){var o=n&-n;return o=(o&42)!==0?1:bi(o),(o&(t.suspendedLanes|n))!==0?0:o}function bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ar(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:_y(t.type))}function St(t,n){var o=W.p;try{return W.p=t,n()}finally{W.p=o}}var rs=Math.random().toString(36).slice(2),gt="__reactFiber$"+rs,is="__reactProps$"+rs,rr="__reactContainer$"+rs,cu="__reactEvents$"+rs,$w="__reactListeners$"+rs,Iw="__reactHandles$"+rs,Im="__reactResources$"+rs,vi="__reactMarker$"+rs;function uu(t){delete t[gt],delete t[is],delete t[cu],delete t[$w],delete t[Iw]}function ir(t){var n=t[gt];if(n)return n;for(var o=t.parentNode;o;){if(n=o[rr]||o[gt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(t=cy(t);t!==null;){if(o=t[gt])return o;t=cy(t)}return n}t=o,o=t.parentNode}return null}function or(t){if(t=t[gt]||t[rr]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function wi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function lr(t){var n=t[Im];return n||(n=t[Im]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ss(t){t[vi]=!0}var qm=new Set,Hm={};function Aa(t,n){cr(t,n),cr(t+"Capture",n)}function cr(t,n){for(Hm[t]=n,t=0;t<n.length;t++)qm.add(n[t])}var qw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gm={},Km={};function Hw(t){return tt.call(Km,t)?!0:tt.call(Gm,t)?!1:qw.test(t)?Km[t]=!0:(Gm[t]=!0,!1)}function Zo(t,n,o){if(Hw(n))if(o===null)t.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+o)}}function el(t,n,o){if(o===null)t.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+o)}}function vn(t,n,o,l){if(l===null)t.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(n,o,""+l)}}function $s(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fm(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gw(t,n,o){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){o=""+y,m.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function du(t){if(!t._valueTracker){var n=Fm(t)?"checked":"value";t._valueTracker=Gw(t,n,""+t[n])}}function Ym(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),l="";return t&&(l=Fm(t)?t.checked?"true":"false":t.value),t=l,t!==o?(n.setValue(t),!0):!1}function tl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kw=/[\n"\\]/g;function Is(t){return t.replace(Kw,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hu(t,n,o,l,h,m,y,N){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$s(n)):t.value!==""+$s(n)&&(t.value=""+$s(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?fu(t,y,$s(n)):o!=null?fu(t,y,$s(o)):l!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+$s(N):t.removeAttribute("name")}function Xm(t,n,o,l,h,m,y,N){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){du(t);return}o=o!=null?""+$s(o):"",n=n!=null?""+$s(n):o,N||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=N?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),du(t)}function fu(t,n,o){n==="number"&&tl(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function ur(t,n,o,l){if(t=t.options,n){n={};for(var h=0;h<o.length;h++)n["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=n.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&l&&(t[o].defaultSelected=!0)}else{for(o=""+$s(o),n=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Qm(t,n,o){if(n!=null&&(n=""+$s(n),n!==t.value&&(t.value=n),o==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=o!=null?""+$s(o):""}function Wm(t,n,o,l){if(n==null){if(l!=null){if(o!=null)throw Error(r(92));if(Ue(l)){if(1<l.length)throw Error(r(93));l=l[0]}o=l}o==null&&(o=""),n=o}o=$s(n),t.defaultValue=o,l=t.textContent,l===o&&l!==""&&l!==null&&(t.value=l),du(t)}function dr(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=n;return}}t.textContent=n}var Fw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jm(t,n,o){var l=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,o):typeof o!="number"||o===0||Fw.has(n)?n==="float"?t.cssFloat=o:t[n]=(""+o).trim():t[n]=o+"px"}function Zm(t,n,o){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&o[h]!==l&&Jm(t,h,l)}else for(var m in n)n.hasOwnProperty(m)&&Jm(t,m,n[m])}function mu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sl(t){return Xw.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function wn(){}var pu=null;function gu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hr=null,fr=null;function ep(t){var n=or(t);if(n&&(t=n.stateNode)){var o=t[is]||null;e:switch(t=n.stateNode,n.type){case"input":if(hu(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Is(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var l=o[n];if(l!==t&&l.form===t.form){var h=l[is]||null;if(!h)throw Error(r(90));hu(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<o.length;n++)l=o[n],l.form===t.form&&Ym(l)}break e;case"textarea":Qm(t,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&ur(t,!!o.multiple,n,!1)}}}var xu=!1;function tp(t,n,o){if(xu)return t(n,o);xu=!0;try{var l=t(n);return l}finally{if(xu=!1,(hr!==null||fr!==null)&&(ql(),hr&&(n=hr,t=fr,fr=hr=null,ep(n),t)))for(n=0;n<t.length;n++)ep(t[n])}}function ji(t,n){var o=t.stateNode;if(o===null)return null;var l=o[is]||null;if(l===null)return null;o=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,n,typeof o));return o}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=!1;if(jn)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){yu=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{yu=!1}var Kn=null,bu=null,nl=null;function sp(){if(nl)return nl;var t,n=bu,o=n.length,l,h="value"in Kn?Kn.value:Kn.textContent,m=h.length;for(t=0;t<o&&n[t]===h[t];t++);var y=o-t;for(l=1;l<=y&&n[o-l]===h[m-l];l++);return nl=h.slice(t,1<l?1-l:void 0)}function al(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function rl(){return!0}function np(){return!1}function Ns(t){function n(o,l,h,m,y){this._reactName=o,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(o=t[N],this[N]=o?o(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?rl:np,this.isPropagationStopped=np,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),n}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=Ns(Ta),Si=b({},Ta,{view:0,detail:0}),Qw=Ns(Si),vu,wu,_i,ol=b({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(vu=t.screenX-_i.screenX,wu=t.screenY-_i.screenY):wu=vu=0,_i=t),vu)},movementY:function(t){return"movementY"in t?t.movementY:wu}}),ap=Ns(ol),Ww=b({},ol,{dataTransfer:0}),Jw=Ns(Ww),Zw=b({},Si,{relatedTarget:0}),ju=Ns(Zw),ej=b({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),tj=Ns(ej),sj=b({},Ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nj=Ns(sj),aj=b({},Ta,{data:0}),rp=Ns(aj),rj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ij={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lj(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=oj[t])?!!n[t]:!1}function Nu(){return lj}var cj=b({},Si,{key:function(t){if(t.key){var n=rj[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=al(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ij[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nu,charCode:function(t){return t.type==="keypress"?al(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?al(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uj=Ns(cj),dj=b({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ip=Ns(dj),hj=b({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nu}),fj=Ns(hj),mj=b({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),pj=Ns(mj),gj=b({},ol,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xj=Ns(gj),yj=b({},Ta,{newState:0,oldState:0}),bj=Ns(yj),vj=[9,13,27,32],Su=jn&&"CompositionEvent"in window,Ai=null;jn&&"documentMode"in document&&(Ai=document.documentMode);var wj=jn&&"TextEvent"in window&&!Ai,op=jn&&(!Su||Ai&&8<Ai&&11>=Ai),lp=" ",cp=!1;function up(t,n){switch(t){case"keyup":return vj.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mr=!1;function jj(t,n){switch(t){case"compositionend":return dp(n);case"keypress":return n.which!==32?null:(cp=!0,lp);case"textInput":return t=n.data,t===lp&&cp?null:t;default:return null}}function Nj(t,n){if(mr)return t==="compositionend"||!Su&&up(t,n)?(t=sp(),nl=bu=Kn=null,mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return op&&n.locale!=="ko"?null:n.data;default:return null}}var Sj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Sj[t.type]:n==="textarea"}function fp(t,n,o,l){hr?fr?fr.push(l):fr=[l]:hr=l,n=Ql(n,"onChange"),0<n.length&&(o=new il("onChange","change",null,o,l),t.push({event:o,listeners:n}))}var Ti=null,Ei=null;function _j(t){Xx(t,0)}function ll(t){var n=wi(t);if(Ym(n))return t}function mp(t,n){if(t==="change")return n}var pp=!1;if(jn){var _u;if(jn){var Au="oninput"in document;if(!Au){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),Au=typeof gp.oninput=="function"}_u=Au}else _u=!1;pp=_u&&(!document.documentMode||9<document.documentMode)}function xp(){Ti&&(Ti.detachEvent("onpropertychange",yp),Ei=Ti=null)}function yp(t){if(t.propertyName==="value"&&ll(Ei)){var n=[];fp(n,Ei,t,gu(t)),tp(_j,n)}}function Aj(t,n,o){t==="focusin"?(xp(),Ti=n,Ei=o,Ti.attachEvent("onpropertychange",yp)):t==="focusout"&&xp()}function Tj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ll(Ei)}function Ej(t,n){if(t==="click")return ll(n)}function kj(t,n){if(t==="input"||t==="change")return ll(n)}function Cj(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Os=typeof Object.is=="function"?Object.is:Cj;function ki(t,n){if(Os(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),l=Object.keys(n);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var h=o[l];if(!tt.call(n,h)||!Os(t[h],n[h]))return!1}return!0}function bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vp(t,n){var o=bp(t);t=0;for(var l;o;){if(o.nodeType===3){if(l=t+o.textContent.length,t<=n&&l>=n)return{node:o,offset:n-t};t=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=bp(o)}}function wp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function jp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=tl(t.document);n instanceof t.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)t=n.contentWindow;else break;n=tl(t.document)}return n}function Tu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Rj=jn&&"documentMode"in document&&11>=document.documentMode,pr=null,Eu=null,Ci=null,ku=!1;function Np(t,n,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ku||pr==null||pr!==tl(l)||(l=pr,"selectionStart"in l&&Tu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ci&&ki(Ci,l)||(Ci=l,l=Ql(Eu,"onSelect"),0<l.length&&(n=new il("onSelect","select",null,n,o),t.push({event:n,listeners:l}),n.target=pr)))}function Ea(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var gr={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},Cu={},Sp={};jn&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function ka(t){if(Cu[t])return Cu[t];if(!gr[t])return t;var n=gr[t],o;for(o in n)if(n.hasOwnProperty(o)&&o in Sp)return Cu[t]=n[o];return t}var _p=ka("animationend"),Ap=ka("animationiteration"),Tp=ka("animationstart"),Oj=ka("transitionrun"),Dj=ka("transitionstart"),Mj=ka("transitioncancel"),Ep=ka("transitionend"),kp=new Map,Ru="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ru.push("scrollEnd");function tn(t,n){kp.set(t,n),Aa(n,[t])}var cl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qs=[],xr=0,Ou=0;function ul(){for(var t=xr,n=Ou=xr=0;n<t;){var o=qs[n];qs[n++]=null;var l=qs[n];qs[n++]=null;var h=qs[n];qs[n++]=null;var m=qs[n];if(qs[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}m!==0&&Cp(o,h,m)}}function dl(t,n,o,l){qs[xr++]=t,qs[xr++]=n,qs[xr++]=o,qs[xr++]=l,Ou|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Du(t,n,o,l){return dl(t,n,o,l),hl(t)}function Ca(t,n){return dl(t,null,null,n),hl(t)}function Cp(t,n,o){t.lanes|=o;var l=t.alternate;l!==null&&(l.lanes|=o);for(var h=!1,m=t.return;m!==null;)m.childLanes|=o,l=m.alternate,l!==null&&(l.childLanes|=o),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-z(o),t=m.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=o|536870912),m):null}function hl(t){if(50<Ji)throw Ji=0,Id=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var yr={};function zj(t,n,o,l){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(t,n,o,l){return new zj(t,n,o,l)}function Mu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nn(t,n){var o=t.alternate;return o===null?(o=Ds(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Rp(t,n){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,n=o.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function fl(t,n,o,l,h,m){var y=0;if(l=t,typeof t=="function")Mu(t)&&(y=1);else if(typeof t=="string")y=VN(t,o,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case oe:return t=Ds(31,o,n,h),t.elementType=oe,t.lanes=m,t;case A:return Ra(o.children,h,m,n);case _:y=8,h|=24;break;case C:return t=Ds(12,o,n,h|2),t.elementType=C,t.lanes=m,t;case q:return t=Ds(13,o,n,h),t.elementType=q,t.lanes=m,t;case H:return t=Ds(19,o,n,h),t.elementType=H,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:y=10;break e;case D:y=9;break e;case L:y=11;break e;case X:y=14;break e;case ee:y=16,l=null;break e}y=29,o=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Ds(y,o,n,h),n.elementType=t,n.type=l,n.lanes=m,n}function Ra(t,n,o,l){return t=Ds(7,t,l,n),t.lanes=o,t}function zu(t,n,o){return t=Ds(6,t,null,n),t.lanes=o,t}function Op(t){var n=Ds(18,null,null,0);return n.stateNode=t,n}function Uu(t,n,o){return n=Ds(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Dp=new WeakMap;function Hs(t,n){if(typeof t=="object"&&t!==null){var o=Dp.get(t);return o!==void 0?o:(n={value:t,source:n,stack:He(n)},Dp.set(t,n),n)}return{value:t,source:n,stack:He(n)}}var br=[],vr=0,ml=null,Ri=0,Gs=[],Ks=0,Fn=null,fn=1,mn="";function Sn(t,n){br[vr++]=Ri,br[vr++]=ml,ml=t,Ri=n}function Mp(t,n,o){Gs[Ks++]=fn,Gs[Ks++]=mn,Gs[Ks++]=Fn,Fn=t;var l=fn;t=mn;var h=32-z(l)-1;l&=~(1<<h),o+=1;var m=32-z(n)+h;if(30<m){var y=h-h%5;m=(l&(1<<y)-1).toString(32),l>>=y,h-=y,fn=1<<32-z(n)+h|o<<h|l,mn=m+t}else fn=1<<m|o<<h|l,mn=t}function Lu(t){t.return!==null&&(Sn(t,1),Mp(t,1,0))}function Pu(t){for(;t===ml;)ml=br[--vr],br[vr]=null,Ri=br[--vr],br[vr]=null;for(;t===Fn;)Fn=Gs[--Ks],Gs[Ks]=null,mn=Gs[--Ks],Gs[Ks]=null,fn=Gs[--Ks],Gs[Ks]=null}function zp(t,n){Gs[Ks++]=fn,Gs[Ks++]=mn,Gs[Ks++]=Fn,fn=n.id,mn=n.overflow,Fn=t}var os=null,wt=null,Je=!1,Yn=null,Fs=!1,Bu=Error(r(519));function Xn(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oi(Hs(n,t)),Bu}function Up(t){var n=t.stateNode,o=t.type,l=t.memoizedProps;switch(n[gt]=t,n[is]=l,o){case"dialog":Ke("cancel",n),Ke("close",n);break;case"iframe":case"object":case"embed":Ke("load",n);break;case"video":case"audio":for(o=0;o<eo.length;o++)Ke(eo[o],n);break;case"source":Ke("error",n);break;case"img":case"image":case"link":Ke("error",n),Ke("load",n);break;case"details":Ke("toggle",n);break;case"input":Ke("invalid",n),Xm(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ke("invalid",n);break;case"textarea":Ke("invalid",n),Wm(n,l.value,l.defaultValue,l.children)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||l.suppressHydrationWarning===!0||Zx(n.textContent,o)?(l.popover!=null&&(Ke("beforetoggle",n),Ke("toggle",n)),l.onScroll!=null&&Ke("scroll",n),l.onScrollEnd!=null&&Ke("scrollend",n),l.onClick!=null&&(n.onclick=wn),n=!0):n=!1,n||Xn(t,!0)}function Lp(t){for(os=t.return;os;)switch(os.tag){case 5:case 31:case 13:Fs=!1;return;case 27:case 3:Fs=!0;return;default:os=os.return}}function wr(t){if(t!==os)return!1;if(!Je)return Lp(t),Je=!0,!1;var n=t.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||nh(t.type,t.memoizedProps)),o=!o),o&&wt&&Xn(t),Lp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));wt=ly(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));wt=ly(t)}else n===27?(n=wt,ca(t.type)?(t=lh,lh=null,wt=t):wt=n):wt=os?Xs(t.stateNode.nextSibling):null;return!0}function Oa(){wt=os=null,Je=!1}function Vu(){var t=Yn;return t!==null&&(Ts===null?Ts=t:Ts.push.apply(Ts,t),Yn=null),t}function Oi(t){Yn===null?Yn=[t]:Yn.push(t)}var $u=E(null),Da=null,_n=null;function Qn(t,n,o){Q($u,n._currentValue),n._currentValue=o}function An(t){t._currentValue=$u.current,V($u)}function Iu(t,n,o){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===o)break;t=t.return}}function qu(t,n,o,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var y=h.child;m=m.firstContext;e:for(;m!==null;){var N=m;m=h;for(var k=0;k<n.length;k++)if(N.context===n[k]){m.lanes|=o,N=m.alternate,N!==null&&(N.lanes|=o),Iu(m.return,o,t),l||(y=null);break e}m=N.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=o,m=y.alternate,m!==null&&(m.lanes|=o),Iu(y,o,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function jr(t,n,o,l){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var N=h.type;Os(h.pendingProps.value,y.value)||(t!==null?t.push(N):t=[N])}}else if(h===je.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ro):t=[ro])}h=h.return}t!==null&&qu(n,t,o,l),n.flags|=262144}function pl(t){for(t=t.firstContext;t!==null;){if(!Os(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ma(t){Da=t,_n=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ls(t){return Pp(Da,t)}function gl(t,n){return Da===null&&Ma(t),Pp(t,n)}function Pp(t,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},_n===null){if(t===null)throw Error(r(308));_n=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else _n=_n.next=n;return o}var Uj=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(o,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(o){return o()})}},Lj=s.unstable_scheduleCallback,Pj=s.unstable_NormalPriority,It={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hu(){return{controller:new Uj,data:new Map,refCount:0}}function Di(t){t.refCount--,t.refCount===0&&Lj(Pj,function(){t.controller.abort()})}var Mi=null,Gu=0,Nr=0,Sr=null;function Bj(t,n){if(Mi===null){var o=Mi=[];Gu=0,Nr=Yd(),Sr={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Gu++,n.then(Bp,Bp),n}function Bp(){if(--Gu===0&&Mi!==null){Sr!==null&&(Sr.status="fulfilled");var t=Mi;Mi=null,Nr=0,Sr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Vj(t,n){var o=[],l={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<o.length;h++)(0,o[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),l}var Vp=U.S;U.S=function(t,n){Nx=ae(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Bj(t,n),Vp!==null&&Vp(t,n)};var za=E(null);function Ku(){var t=za.current;return t!==null?t:ft.pooledCache}function xl(t,n){n===null?Q(za,za.current):Q(za,n.pool)}function $p(){var t=Ku();return t===null?null:{parent:It._currentValue,pool:t}}var _r=Error(r(460)),Fu=Error(r(474)),yl=Error(r(542)),bl={then:function(){}};function Ip(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qp(t,n,o){switch(o=t[o],o===void 0?t.push(n):o!==n&&(n.then(wn,wn),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gp(t),t;default:if(typeof n.status=="string")n.then(wn,wn);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gp(t),t}throw La=n,_r}}function Ua(t){try{var n=t._init;return n(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(La=o,_r):o}}var La=null;function Hp(){if(La===null)throw Error(r(459));var t=La;return La=null,t}function Gp(t){if(t===_r||t===yl)throw Error(r(483))}var Ar=null,zi=0;function vl(t){var n=zi;return zi+=1,Ar===null&&(Ar=[]),qp(Ar,t,n)}function Ui(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function wl(t,n){throw n.$$typeof===v?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Kp(t){function n(M,O){if(t){var P=M.deletions;P===null?(M.deletions=[O],M.flags|=16):P.push(O)}}function o(M,O){if(!t)return null;for(;O!==null;)n(M,O),O=O.sibling;return null}function l(M){for(var O=new Map;M!==null;)M.key!==null?O.set(M.key,M):O.set(M.index,M),M=M.sibling;return O}function h(M,O){return M=Nn(M,O),M.index=0,M.sibling=null,M}function m(M,O,P){return M.index=P,t?(P=M.alternate,P!==null?(P=P.index,P<O?(M.flags|=67108866,O):P):(M.flags|=67108866,O)):(M.flags|=1048576,O)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function N(M,O,P,te){return O===null||O.tag!==6?(O=zu(P,M.mode,te),O.return=M,O):(O=h(O,P),O.return=M,O)}function k(M,O,P,te){var Ee=P.type;return Ee===A?J(M,O,P.props.children,te,P.key):O!==null&&(O.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ee&&Ua(Ee)===O.type)?(O=h(O,P.props),Ui(O,P),O.return=M,O):(O=fl(P.type,P.key,P.props,null,M.mode,te),Ui(O,P),O.return=M,O)}function B(M,O,P,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Uu(P,M.mode,te),O.return=M,O):(O=h(O,P.children||[]),O.return=M,O)}function J(M,O,P,te,Ee){return O===null||O.tag!==7?(O=Ra(P,M.mode,te,Ee),O.return=M,O):(O=h(O,P),O.return=M,O)}function ne(M,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=zu(""+O,M.mode,P),O.return=M,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return P=fl(O.type,O.key,O.props,null,M.mode,P),Ui(P,O),P.return=M,P;case w:return O=Uu(O,M.mode,P),O.return=M,O;case ee:return O=Ua(O),ne(M,O,P)}if(Ue(O)||Ne(O))return O=Ra(O,M.mode,P,null),O.return=M,O;if(typeof O.then=="function")return ne(M,vl(O),P);if(O.$$typeof===T)return ne(M,gl(M,O),P);wl(M,O)}return null}function I(M,O,P,te){var Ee=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return Ee!==null?null:N(M,O,""+P,te);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return P.key===Ee?k(M,O,P,te):null;case w:return P.key===Ee?B(M,O,P,te):null;case ee:return P=Ua(P),I(M,O,P,te)}if(Ue(P)||Ne(P))return Ee!==null?null:J(M,O,P,te,null);if(typeof P.then=="function")return I(M,O,vl(P),te);if(P.$$typeof===T)return I(M,O,gl(M,P),te);wl(M,P)}return null}function Y(M,O,P,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return M=M.get(P)||null,N(O,M,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case j:return M=M.get(te.key===null?P:te.key)||null,k(O,M,te,Ee);case w:return M=M.get(te.key===null?P:te.key)||null,B(O,M,te,Ee);case ee:return te=Ua(te),Y(M,O,P,te,Ee)}if(Ue(te)||Ne(te))return M=M.get(P)||null,J(O,M,te,Ee,null);if(typeof te.then=="function")return Y(M,O,P,vl(te),Ee);if(te.$$typeof===T)return Y(M,O,P,gl(O,te),Ee);wl(O,te)}return null}function ye(M,O,P,te){for(var Ee=null,Ze=null,_e=O,Ie=O=0,Qe=null;_e!==null&&Ie<P.length;Ie++){_e.index>Ie?(Qe=_e,_e=null):Qe=_e.sibling;var et=I(M,_e,P[Ie],te);if(et===null){_e===null&&(_e=Qe);break}t&&_e&&et.alternate===null&&n(M,_e),O=m(et,O,Ie),Ze===null?Ee=et:Ze.sibling=et,Ze=et,_e=Qe}if(Ie===P.length)return o(M,_e),Je&&Sn(M,Ie),Ee;if(_e===null){for(;Ie<P.length;Ie++)_e=ne(M,P[Ie],te),_e!==null&&(O=m(_e,O,Ie),Ze===null?Ee=_e:Ze.sibling=_e,Ze=_e);return Je&&Sn(M,Ie),Ee}for(_e=l(_e);Ie<P.length;Ie++)Qe=Y(_e,M,Ie,P[Ie],te),Qe!==null&&(t&&Qe.alternate!==null&&_e.delete(Qe.key===null?Ie:Qe.key),O=m(Qe,O,Ie),Ze===null?Ee=Qe:Ze.sibling=Qe,Ze=Qe);return t&&_e.forEach(function(ma){return n(M,ma)}),Je&&Sn(M,Ie),Ee}function Re(M,O,P,te){if(P==null)throw Error(r(151));for(var Ee=null,Ze=null,_e=O,Ie=O=0,Qe=null,et=P.next();_e!==null&&!et.done;Ie++,et=P.next()){_e.index>Ie?(Qe=_e,_e=null):Qe=_e.sibling;var ma=I(M,_e,et.value,te);if(ma===null){_e===null&&(_e=Qe);break}t&&_e&&ma.alternate===null&&n(M,_e),O=m(ma,O,Ie),Ze===null?Ee=ma:Ze.sibling=ma,Ze=ma,_e=Qe}if(et.done)return o(M,_e),Je&&Sn(M,Ie),Ee;if(_e===null){for(;!et.done;Ie++,et=P.next())et=ne(M,et.value,te),et!==null&&(O=m(et,O,Ie),Ze===null?Ee=et:Ze.sibling=et,Ze=et);return Je&&Sn(M,Ie),Ee}for(_e=l(_e);!et.done;Ie++,et=P.next())et=Y(_e,M,Ie,et.value,te),et!==null&&(t&&et.alternate!==null&&_e.delete(et.key===null?Ie:et.key),O=m(et,O,Ie),Ze===null?Ee=et:Ze.sibling=et,Ze=et);return t&&_e.forEach(function(WN){return n(M,WN)}),Je&&Sn(M,Ie),Ee}function ut(M,O,P,te){if(typeof P=="object"&&P!==null&&P.type===A&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case j:e:{for(var Ee=P.key;O!==null;){if(O.key===Ee){if(Ee=P.type,Ee===A){if(O.tag===7){o(M,O.sibling),te=h(O,P.props.children),te.return=M,M=te;break e}}else if(O.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ee&&Ua(Ee)===O.type){o(M,O.sibling),te=h(O,P.props),Ui(te,P),te.return=M,M=te;break e}o(M,O);break}else n(M,O);O=O.sibling}P.type===A?(te=Ra(P.props.children,M.mode,te,P.key),te.return=M,M=te):(te=fl(P.type,P.key,P.props,null,M.mode,te),Ui(te,P),te.return=M,M=te)}return y(M);case w:e:{for(Ee=P.key;O!==null;){if(O.key===Ee)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){o(M,O.sibling),te=h(O,P.children||[]),te.return=M,M=te;break e}else{o(M,O);break}else n(M,O);O=O.sibling}te=Uu(P,M.mode,te),te.return=M,M=te}return y(M);case ee:return P=Ua(P),ut(M,O,P,te)}if(Ue(P))return ye(M,O,P,te);if(Ne(P)){if(Ee=Ne(P),typeof Ee!="function")throw Error(r(150));return P=Ee.call(P),Re(M,O,P,te)}if(typeof P.then=="function")return ut(M,O,vl(P),te);if(P.$$typeof===T)return ut(M,O,gl(M,P),te);wl(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(o(M,O.sibling),te=h(O,P),te.return=M,M=te):(o(M,O),te=zu(P,M.mode,te),te.return=M,M=te),y(M)):o(M,O)}return function(M,O,P,te){try{zi=0;var Ee=ut(M,O,P,te);return Ar=null,Ee}catch(_e){if(_e===_r||_e===yl)throw _e;var Ze=Ds(29,_e,null,M.mode);return Ze.lanes=te,Ze.return=M,Ze}}}var Pa=Kp(!0),Fp=Kp(!1),Wn=!1;function Yu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Jn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(t,n,o){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=hl(t),Cp(t,null,o),n}return dl(t,l,n,o),hl(t)}function Li(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,o|=l,n.lanes=o,Wo(t,o)}}function Qu(t,n){var o=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var y={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=y:m=m.next=y,o=o.next}while(o!==null);m===null?h=m=n:m=m.next=n}else h=m=n;o={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}var Wu=!1;function Pi(){if(Wu){var t=Sr;if(t!==null)throw t}}function Bi(t,n,o,l){Wu=!1;var h=t.updateQueue;Wn=!1;var m=h.firstBaseUpdate,y=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var k=N,B=k.next;k.next=null,y===null?m=B:y.next=B,y=k;var J=t.alternate;J!==null&&(J=J.updateQueue,N=J.lastBaseUpdate,N!==y&&(N===null?J.firstBaseUpdate=B:N.next=B,J.lastBaseUpdate=k))}if(m!==null){var ne=h.baseState;y=0,J=B=k=null,N=m;do{var I=N.lane&-536870913,Y=I!==N.lane;if(Y?(Xe&I)===I:(l&I)===I){I!==0&&I===Nr&&(Wu=!0),J!==null&&(J=J.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ye=t,Re=N;I=n;var ut=o;switch(Re.tag){case 1:if(ye=Re.payload,typeof ye=="function"){ne=ye.call(ut,ne,I);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Re.payload,I=typeof ye=="function"?ye.call(ut,ne,I):ye,I==null)break e;ne=b({},ne,I);break e;case 2:Wn=!0}}I=N.callback,I!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[I]:Y.push(I))}else Y={lane:I,tag:N.tag,payload:N.payload,callback:N.callback,next:null},J===null?(B=J=Y,k=ne):J=J.next=Y,y|=I;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;Y=N,N=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);J===null&&(k=ne),h.baseState=k,h.firstBaseUpdate=B,h.lastBaseUpdate=J,m===null&&(h.shared.lanes=0),aa|=y,t.lanes=y,t.memoizedState=ne}}function Yp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Xp(t,n){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Yp(o[t],n)}var Tr=E(null),jl=E(0);function Qp(t,n){t=zn,Q(jl,t),Q(Tr,n),zn=t|n.baseLanes}function Ju(){Q(jl,zn),Q(Tr,Tr.current)}function Zu(){zn=jl.current,V(Tr),V(jl)}var Ms=E(null),Ys=null;function ea(t){var n=t.alternate;Q(Lt,Lt.current&1),Q(Ms,t),Ys===null&&(n===null||Tr.current!==null||n.memoizedState!==null)&&(Ys=t)}function ed(t){Q(Lt,Lt.current),Q(Ms,t),Ys===null&&(Ys=t)}function Wp(t){t.tag===22?(Q(Lt,Lt.current),Q(Ms,t),Ys===null&&(Ys=t)):ta()}function ta(){Q(Lt,Lt.current),Q(Ms,Ms.current)}function zs(t){V(Ms),Ys===t&&(Ys=null),V(Lt)}var Lt=E(0);function Nl(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ih(o)||oh(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tn=0,$e=null,lt=null,qt=null,Sl=!1,Er=!1,Ba=!1,_l=0,Vi=0,kr=null,$j=0;function kt(){throw Error(r(321))}function td(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!Os(t[o],n[o]))return!1;return!0}function sd(t,n,o,l,h,m){return Tn=m,$e=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?Mg:xd,Ba=!1,m=o(l,h),Ba=!1,Er&&(m=Zp(n,o,l,h)),Jp(t),m}function Jp(t){U.H=qi;var n=lt!==null&&lt.next!==null;if(Tn=0,qt=lt=$e=null,Sl=!1,Vi=0,kr=null,n)throw Error(r(300));t===null||Ht||(t=t.dependencies,t!==null&&pl(t)&&(Ht=!0))}function Zp(t,n,o,l){$e=t;var h=0;do{if(Er&&(kr=null),Vi=0,Er=!1,25<=h)throw Error(r(301));if(h+=1,qt=lt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=zg,m=n(o,l)}while(Er);return m}function Ij(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?$i(n):n,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&($e.flags|=1024),n}function nd(){var t=_l!==0;return _l=0,t}function ad(t,n,o){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~o}function rd(t){if(Sl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Sl=!1}Tn=0,qt=lt=$e=null,Er=!1,Vi=_l=0,kr=null}function bs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?$e.memoizedState=qt=t:qt=qt.next=t,qt}function Pt(){if(lt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var n=qt===null?$e.memoizedState:qt.next;if(n!==null)qt=n,lt=t;else{if(t===null)throw $e.alternate===null?Error(r(467)):Error(r(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},qt===null?$e.memoizedState=qt=t:qt=qt.next=t}return qt}function Al(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $i(t){var n=Vi;return Vi+=1,kr===null&&(kr=[]),t=qp(kr,t,n),n=$e,(qt===null?n.memoizedState:qt.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Mg:xd),t}function Tl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $i(t);if(t.$$typeof===T)return ls(t)}throw Error(r(438,String(t)))}function id(t){var n=null,o=$e.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var l=$e.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Al(),$e.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(t),l=0;l<t;l++)o[l]=ue;return n.index++,o}function En(t,n){return typeof n=="function"?n(t):n}function El(t){var n=Pt();return od(n,lt,t)}function od(t,n,o){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=o;var h=t.baseQueue,m=l.pending;if(m!==null){if(h!==null){var y=h.next;h.next=m.next,m.next=y}n.baseQueue=h=m,l.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var N=y=null,k=null,B=n,J=!1;do{var ne=B.lane&-536870913;if(ne!==B.lane?(Xe&ne)===ne:(Tn&ne)===ne){var I=B.revertLane;if(I===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ne===Nr&&(J=!0);else if((Tn&I)===I){B=B.next,I===Nr&&(J=!0);continue}else ne={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(N=k=ne,y=m):k=k.next=ne,$e.lanes|=I,aa|=I;ne=B.action,Ba&&o(m,ne),m=B.hasEagerState?B.eagerState:o(m,ne)}else I={lane:ne,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(N=k=I,y=m):k=k.next=I,$e.lanes|=ne,aa|=ne;B=B.next}while(B!==null&&B!==n);if(k===null?y=m:k.next=N,!Os(m,t.memoizedState)&&(Ht=!0,J&&(o=Sr,o!==null)))throw o;t.memoizedState=m,t.baseState=y,t.baseQueue=k,l.lastRenderedState=m}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var n=Pt(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var l=o.dispatch,h=o.pending,m=n.memoizedState;if(h!==null){o.pending=null;var y=h=h.next;do m=t(m,y.action),y=y.next;while(y!==h);Os(m,n.memoizedState)||(Ht=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,l]}function eg(t,n,o){var l=$e,h=Pt(),m=Je;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=n();var y=!Os((lt||h).memoizedState,o);if(y&&(h.memoizedState=o,Ht=!0),h=h.queue,dd(ng.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,Cr(9,{destroy:void 0},sg.bind(null,l,h,o,n),null),ft===null)throw Error(r(349));m||(Tn&127)!==0||tg(l,n,o)}return o}function tg(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=$e.updateQueue,n===null?(n=Al(),$e.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function sg(t,n,o,l){n.value=o,n.getSnapshot=l,ag(n)&&rg(t)}function ng(t,n,o){return o(function(){ag(n)&&rg(t)})}function ag(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!Os(t,o)}catch{return!0}}function rg(t){var n=Ca(t,2);n!==null&&Es(n,t,2)}function cd(t){var n=bs();if(typeof t=="function"){var o=t;if(t=o(),Ba){it(!0);try{o()}finally{it(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:t},n}function ig(t,n,o,l){return t.baseState=o,od(t,lt,typeof l=="function"?l:En)}function qj(t,n,o,l,h){if(Rl(t))throw Error(r(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){m.listeners.push(y)}};U.T!==null?o(!0):m.isTransition=!1,l(m),o=n.pending,o===null?(m.next=n.pending=m,og(n,m)):(m.next=o.next,n.pending=o.next=m)}}function og(t,n){var o=n.action,l=n.payload,h=t.state;if(n.isTransition){var m=U.T,y={};U.T=y;try{var N=o(h,l),k=U.S;k!==null&&k(y,N),lg(t,n,N)}catch(B){ud(t,n,B)}finally{m!==null&&y.types!==null&&(m.types=y.types),U.T=m}}else try{m=o(h,l),lg(t,n,m)}catch(B){ud(t,n,B)}}function lg(t,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){cg(t,n,l)},function(l){return ud(t,n,l)}):cg(t,n,o)}function cg(t,n,o){n.status="fulfilled",n.value=o,ug(n),t.state=o,n=t.pending,n!==null&&(o=n.next,o===n?t.pending=null:(o=o.next,n.next=o,og(t,o)))}function ud(t,n,o){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=o,ug(n),n=n.next;while(n!==l)}t.action=null}function ug(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dg(t,n){return n}function hg(t,n){if(Je){var o=ft.formState;if(o!==null){e:{var l=$e;if(Je){if(wt){t:{for(var h=wt,m=Fs;h.nodeType!==8;){if(!m){h=null;break t}if(h=Xs(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){wt=Xs(h.nextSibling),l=h.data==="F!";break e}}Xn(l)}l=!1}l&&(n=o[0])}}return o=bs(),o.memoizedState=o.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},o.queue=l,o=Rg.bind(null,$e,l),l.dispatch=o,l=cd(!1),m=gd.bind(null,$e,!1,l.queue),l=bs(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,o=qj.bind(null,$e,h,m,o),h.dispatch=o,l.memoizedState=t,[n,o,!1]}function fg(t){var n=Pt();return mg(n,lt,t)}function mg(t,n,o){if(n=od(t,n,dg)[0],t=El(En)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=$i(n)}catch(y){throw y===_r?yl:y}else l=n;n=Pt();var h=n.queue,m=h.dispatch;return o!==n.memoizedState&&($e.flags|=2048,Cr(9,{destroy:void 0},Hj.bind(null,h,o),null)),[l,m,t]}function Hj(t,n){t.action=n}function pg(t){var n=Pt(),o=lt;if(o!==null)return mg(n,o,t);Pt(),n=n.memoizedState,o=Pt();var l=o.queue.dispatch;return o.memoizedState=t,[n,l,!1]}function Cr(t,n,o,l){return t={tag:t,create:o,deps:l,inst:n,next:null},n=$e.updateQueue,n===null&&(n=Al(),$e.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=t.next=t:(l=o.next,o.next=t,t.next=l,n.lastEffect=t),t}function gg(){return Pt().memoizedState}function kl(t,n,o,l){var h=bs();$e.flags|=t,h.memoizedState=Cr(1|n,{destroy:void 0},o,l===void 0?null:l)}function Cl(t,n,o,l){var h=Pt();l=l===void 0?null:l;var m=h.memoizedState.inst;lt!==null&&l!==null&&td(l,lt.memoizedState.deps)?h.memoizedState=Cr(n,m,o,l):($e.flags|=t,h.memoizedState=Cr(1|n,m,o,l))}function xg(t,n){kl(8390656,8,t,n)}function dd(t,n){Cl(2048,8,t,n)}function Gj(t){$e.flags|=4;var n=$e.updateQueue;if(n===null)n=Al(),$e.updateQueue=n,n.events=[t];else{var o=n.events;o===null?n.events=[t]:o.push(t)}}function yg(t){var n=Pt().memoizedState;return Gj({ref:n,nextImpl:t}),function(){if((st&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function bg(t,n){return Cl(4,2,t,n)}function vg(t,n){return Cl(4,4,t,n)}function wg(t,n){if(typeof n=="function"){t=t();var o=n(t);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function jg(t,n,o){o=o!=null?o.concat([t]):null,Cl(4,4,wg.bind(null,n,t),o)}function hd(){}function Ng(t,n){var o=Pt();n=n===void 0?null:n;var l=o.memoizedState;return n!==null&&td(n,l[1])?l[0]:(o.memoizedState=[t,n],t)}function Sg(t,n){var o=Pt();n=n===void 0?null:n;var l=o.memoizedState;if(n!==null&&td(n,l[1]))return l[0];if(l=t(),Ba){it(!0);try{t()}finally{it(!1)}}return o.memoizedState=[l,n],l}function fd(t,n,o){return o===void 0||(Tn&1073741824)!==0&&(Xe&261930)===0?t.memoizedState=n:(t.memoizedState=o,t=_x(),$e.lanes|=t,aa|=t,o)}function _g(t,n,o,l){return Os(o,n)?o:Tr.current!==null?(t=fd(t,o,l),Os(t,n)||(Ht=!0),t):(Tn&42)===0||(Tn&1073741824)!==0&&(Xe&261930)===0?(Ht=!0,t.memoizedState=o):(t=_x(),$e.lanes|=t,aa|=t,n)}function Ag(t,n,o,l,h){var m=W.p;W.p=m!==0&&8>m?m:8;var y=U.T,N={};U.T=N,gd(t,!1,n,o);try{var k=h(),B=U.S;if(B!==null&&B(N,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var J=Vj(k,l);Ii(t,n,J,Ps(t))}else Ii(t,n,l,Ps(t))}catch(ne){Ii(t,n,{then:function(){},status:"rejected",reason:ne},Ps())}finally{W.p=m,y!==null&&N.types!==null&&(y.types=N.types),U.T=y}}function Kj(){}function md(t,n,o,l){if(t.tag!==5)throw Error(r(476));var h=Tg(t).queue;Ag(t,h,n,se,o===null?Kj:function(){return Eg(t),o(l)})}function Tg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:se},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:o},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Eg(t){var n=Tg(t);n.next===null&&(n=t.alternate.memoizedState),Ii(t,n.next.queue,{},Ps())}function pd(){return ls(ro)}function kg(){return Pt().memoizedState}function Cg(){return Pt().memoizedState}function Fj(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var o=Ps();t=Jn(o);var l=Zn(n,t,o);l!==null&&(Es(l,n,o),Li(l,n,o)),n={cache:Hu()},t.payload=n;return}n=n.return}}function Yj(t,n,o){var l=Ps();o={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Rl(t)?Og(n,o):(o=Du(t,n,o,l),o!==null&&(Es(o,t,l),Dg(o,n,l)))}function Rg(t,n,o){var l=Ps();Ii(t,n,o,l)}function Ii(t,n,o,l){var h={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rl(t))Og(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var y=n.lastRenderedState,N=m(y,o);if(h.hasEagerState=!0,h.eagerState=N,Os(N,y))return dl(t,n,h,0),ft===null&&ul(),!1}catch{}if(o=Du(t,n,h,l),o!==null)return Es(o,t,l),Dg(o,n,l),!0}return!1}function gd(t,n,o,l){if(l={lane:2,revertLane:Yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rl(t)){if(n)throw Error(r(479))}else n=Du(t,o,l,2),n!==null&&Es(n,t,2)}function Rl(t){var n=t.alternate;return t===$e||n!==null&&n===$e}function Og(t,n){Er=Sl=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function Dg(t,n,o){if((o&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,o|=l,n.lanes=o,Wo(t,o)}}var qi={readContext:ls,use:Tl,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};qi.useEffectEvent=kt;var Mg={readContext:ls,use:Tl,useCallback:function(t,n){return bs().memoizedState=[t,n===void 0?null:n],t},useContext:ls,useEffect:xg,useImperativeHandle:function(t,n,o){o=o!=null?o.concat([t]):null,kl(4194308,4,wg.bind(null,n,t),o)},useLayoutEffect:function(t,n){return kl(4194308,4,t,n)},useInsertionEffect:function(t,n){kl(4,2,t,n)},useMemo:function(t,n){var o=bs();n=n===void 0?null:n;var l=t();if(Ba){it(!0);try{t()}finally{it(!1)}}return o.memoizedState=[l,n],l},useReducer:function(t,n,o){var l=bs();if(o!==void 0){var h=o(n);if(Ba){it(!0);try{o(n)}finally{it(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Yj.bind(null,$e,t),[l.memoizedState,t]},useRef:function(t){var n=bs();return t={current:t},n.memoizedState=t},useState:function(t){t=cd(t);var n=t.queue,o=Rg.bind(null,$e,n);return n.dispatch=o,[t.memoizedState,o]},useDebugValue:hd,useDeferredValue:function(t,n){var o=bs();return fd(o,t,n)},useTransition:function(){var t=cd(!1);return t=Ag.bind(null,$e,t.queue,!0,!1),bs().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,o){var l=$e,h=bs();if(Je){if(o===void 0)throw Error(r(407));o=o()}else{if(o=n(),ft===null)throw Error(r(349));(Xe&127)!==0||tg(l,n,o)}h.memoizedState=o;var m={value:o,getSnapshot:n};return h.queue=m,xg(ng.bind(null,l,m,t),[t]),l.flags|=2048,Cr(9,{destroy:void 0},sg.bind(null,l,m,o,n),null),o},useId:function(){var t=bs(),n=ft.identifierPrefix;if(Je){var o=mn,l=fn;o=(l&~(1<<32-z(l)-1)).toString(32)+o,n="_"+n+"R_"+o,o=_l++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=$j++,n="_"+n+"r_"+o.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:pd,useFormState:hg,useActionState:hg,useOptimistic:function(t){var n=bs();n.memoizedState=n.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=gd.bind(null,$e,!0,o),o.dispatch=n,[t,n]},useMemoCache:id,useCacheRefresh:function(){return bs().memoizedState=Fj.bind(null,$e)},useEffectEvent:function(t){var n=bs(),o={impl:t};return n.memoizedState=o,function(){if((st&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},xd={readContext:ls,use:Tl,useCallback:Ng,useContext:ls,useEffect:dd,useImperativeHandle:jg,useInsertionEffect:bg,useLayoutEffect:vg,useMemo:Sg,useReducer:El,useRef:gg,useState:function(){return El(En)},useDebugValue:hd,useDeferredValue:function(t,n){var o=Pt();return _g(o,lt.memoizedState,t,n)},useTransition:function(){var t=El(En)[0],n=Pt().memoizedState;return[typeof t=="boolean"?t:$i(t),n]},useSyncExternalStore:eg,useId:kg,useHostTransitionStatus:pd,useFormState:fg,useActionState:fg,useOptimistic:function(t,n){var o=Pt();return ig(o,lt,t,n)},useMemoCache:id,useCacheRefresh:Cg};xd.useEffectEvent=yg;var zg={readContext:ls,use:Tl,useCallback:Ng,useContext:ls,useEffect:dd,useImperativeHandle:jg,useInsertionEffect:bg,useLayoutEffect:vg,useMemo:Sg,useReducer:ld,useRef:gg,useState:function(){return ld(En)},useDebugValue:hd,useDeferredValue:function(t,n){var o=Pt();return lt===null?fd(o,t,n):_g(o,lt.memoizedState,t,n)},useTransition:function(){var t=ld(En)[0],n=Pt().memoizedState;return[typeof t=="boolean"?t:$i(t),n]},useSyncExternalStore:eg,useId:kg,useHostTransitionStatus:pd,useFormState:pg,useActionState:pg,useOptimistic:function(t,n){var o=Pt();return lt!==null?ig(o,lt,t,n):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:id,useCacheRefresh:Cg};zg.useEffectEvent=yg;function yd(t,n,o,l){n=t.memoizedState,o=o(l,n),o=o==null?n:b({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var bd={enqueueSetState:function(t,n,o){t=t._reactInternals;var l=Ps(),h=Jn(l);h.payload=n,o!=null&&(h.callback=o),n=Zn(t,h,l),n!==null&&(Es(n,t,l),Li(n,t,l))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var l=Ps(),h=Jn(l);h.tag=1,h.payload=n,o!=null&&(h.callback=o),n=Zn(t,h,l),n!==null&&(Es(n,t,l),Li(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=Ps(),l=Jn(o);l.tag=2,n!=null&&(l.callback=n),n=Zn(t,l,o),n!==null&&(Es(n,t,o),Li(n,t,o))}};function Ug(t,n,o,l,h,m,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,y):n.prototype&&n.prototype.isPureReactComponent?!ki(o,l)||!ki(h,m):!0}function Lg(t,n,o,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,l),n.state!==t&&bd.enqueueReplaceState(n,n.state,null)}function Va(t,n){var o=n;if("ref"in n){o={};for(var l in n)l!=="ref"&&(o[l]=n[l])}if(t=t.defaultProps){o===n&&(o=b({},o));for(var h in t)o[h]===void 0&&(o[h]=t[h])}return o}function Pg(t){cl(t)}function Bg(t){console.error(t)}function Vg(t){cl(t)}function Ol(t,n){try{var o=t.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $g(t,n,o){try{var l=t.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function vd(t,n,o){return o=Jn(o),o.tag=3,o.payload={element:null},o.callback=function(){Ol(t,n)},o}function Ig(t){return t=Jn(t),t.tag=3,t}function qg(t,n,o,l){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;t.payload=function(){return h(m)},t.callback=function(){$g(n,o,l)}}var y=o.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){$g(n,o,l),typeof h!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})})}function Xj(t,n,o,l,h){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=o.alternate,n!==null&&jr(n,o,h,!0),o=Ms.current,o!==null){switch(o.tag){case 31:case 13:return Ys===null?Hl():o.alternate===null&&Ct===0&&(Ct=3),o.flags&=-257,o.flags|=65536,o.lanes=h,l===bl?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([l]):n.add(l),Gd(t,l,h)),!1;case 22:return o.flags|=65536,l===bl?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([l]):o.add(l)),Gd(t,l,h)),!1}throw Error(r(435,o.tag))}return Gd(t,l,h),Hl(),!1}if(Je)return n=Ms.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Bu&&(t=Error(r(422),{cause:l}),Oi(Hs(t,o)))):(l!==Bu&&(n=Error(r(423),{cause:l}),Oi(Hs(n,o))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Hs(l,o),h=vd(t.stateNode,l,h),Qu(t,h),Ct!==4&&(Ct=2)),!1;var m=Error(r(520),{cause:l});if(m=Hs(m,o),Wi===null?Wi=[m]:Wi.push(m),Ct!==4&&(Ct=2),n===null)return!0;l=Hs(l,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,t=h&-h,o.lanes|=t,t=vd(o.stateNode,l,t),Qu(o,t),!1;case 1:if(n=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ra===null||!ra.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Ig(h),qg(h,t,o,l),Qu(o,h),!1}o=o.return}while(o!==null);return!1}var wd=Error(r(461)),Ht=!1;function cs(t,n,o,l){n.child=t===null?Fp(n,null,o,l):Pa(n,t.child,o,l)}function Hg(t,n,o,l,h){o=o.render;var m=n.ref;if("ref"in l){var y={};for(var N in l)N!=="ref"&&(y[N]=l[N])}else y=l;return Ma(n),l=sd(t,n,o,y,m,h),N=nd(),t!==null&&!Ht?(ad(t,n,h),kn(t,n,h)):(Je&&N&&Lu(n),n.flags|=1,cs(t,n,l,h),n.child)}function Gg(t,n,o,l,h){if(t===null){var m=o.type;return typeof m=="function"&&!Mu(m)&&m.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=m,Kg(t,n,m,l,h)):(t=fl(o.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!kd(t,h)){var y=m.memoizedProps;if(o=o.compare,o=o!==null?o:ki,o(y,l)&&t.ref===n.ref)return kn(t,n,h)}return n.flags|=1,t=Nn(m,l),t.ref=n.ref,t.return=n,n.child=t}function Kg(t,n,o,l,h){if(t!==null){var m=t.memoizedProps;if(ki(m,l)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=l=m,kd(t,h))(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,kn(t,n,h)}return jd(t,n,o,l,h)}function Fg(t,n,o,l){var h=l.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,n.child=null;return Yg(t,n,m,o,l)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&xl(n,m!==null?m.cachePool:null),m!==null?Qp(n,m):Ju(),Wp(n);else return l=n.lanes=536870912,Yg(t,n,m!==null?m.baseLanes|o:o,o,l)}else m!==null?(xl(n,m.cachePool),Qp(n,m),ta(),n.memoizedState=null):(t!==null&&xl(n,null),Ju(),ta());return cs(t,n,h,o),n.child}function Hi(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yg(t,n,o,l,h){var m=Ku();return m=m===null?null:{parent:It._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},t!==null&&xl(n,null),Ju(),Wp(n),t!==null&&jr(t,n,l,!0),n.childLanes=h,null}function Dl(t,n){return n=zl({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Xg(t,n,o){return Pa(n,t.child,null,o),t=Dl(n,n.pendingProps),t.flags|=2,zs(n),n.memoizedState=null,t}function Qj(t,n,o){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Je){if(l.mode==="hidden")return t=Dl(n,l),n.lanes=536870912,Hi(null,t);if(ed(n),(t=wt)?(t=oy(t,Fs),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fn!==null?{id:fn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},o=Op(t),o.return=n,n.child=o,os=n,wt=null)):t=null,t===null)throw Xn(n);return n.lanes=536870912,null}return Dl(n,l)}var m=t.memoizedState;if(m!==null){var y=m.dehydrated;if(ed(n),h)if(n.flags&256)n.flags&=-257,n=Xg(t,n,o);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ht||jr(t,n,o,!1),h=(o&t.childLanes)!==0,Ht||h){if(l=ft,l!==null&&(y=Jo(l,o),y!==0&&y!==m.retryLane))throw m.retryLane=y,Ca(t,y),Es(l,t,y),wd;Hl(),n=Xg(t,n,o)}else t=m.treeContext,wt=Xs(y.nextSibling),os=n,Je=!0,Yn=null,Fs=!1,t!==null&&zp(n,t),n=Dl(n,l),n.flags|=4096;return n}return t=Nn(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ml(t,n){var o=n.ref;if(o===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(t===null||t.ref!==o)&&(n.flags|=4194816)}}function jd(t,n,o,l,h){return Ma(n),o=sd(t,n,o,l,void 0,h),l=nd(),t!==null&&!Ht?(ad(t,n,h),kn(t,n,h)):(Je&&l&&Lu(n),n.flags|=1,cs(t,n,o,h),n.child)}function Qg(t,n,o,l,h,m){return Ma(n),n.updateQueue=null,o=Zp(n,l,o,h),Jp(t),l=nd(),t!==null&&!Ht?(ad(t,n,m),kn(t,n,m)):(Je&&l&&Lu(n),n.flags|=1,cs(t,n,o,m),n.child)}function Wg(t,n,o,l,h){if(Ma(n),n.stateNode===null){var m=yr,y=o.contextType;typeof y=="object"&&y!==null&&(m=ls(y)),m=new o(l,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=bd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=l,m.state=n.memoizedState,m.refs={},Yu(n),y=o.contextType,m.context=typeof y=="object"&&y!==null?ls(y):yr,m.state=n.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(yd(n,o,y,l),m.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(y=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),y!==m.state&&bd.enqueueReplaceState(m,m.state,null),Bi(n,l,m,h),Pi(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){m=n.stateNode;var N=n.memoizedProps,k=Va(o,N);m.props=k;var B=m.context,J=o.contextType;y=yr,typeof J=="object"&&J!==null&&(y=ls(J));var ne=o.getDerivedStateFromProps;J=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",N=n.pendingProps!==N,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(N||B!==y)&&Lg(n,m,l,y),Wn=!1;var I=n.memoizedState;m.state=I,Bi(n,l,m,h),Pi(),B=n.memoizedState,N||I!==B||Wn?(typeof ne=="function"&&(yd(n,o,ne,l),B=n.memoizedState),(k=Wn||Ug(n,o,k,l,I,B,y))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),m.props=l,m.state=B,m.context=y,l=k):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{m=n.stateNode,Xu(t,n),y=n.memoizedProps,J=Va(o,y),m.props=J,ne=n.pendingProps,I=m.context,B=o.contextType,k=yr,typeof B=="object"&&B!==null&&(k=ls(B)),N=o.getDerivedStateFromProps,(B=typeof N=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==ne||I!==k)&&Lg(n,m,l,k),Wn=!1,I=n.memoizedState,m.state=I,Bi(n,l,m,h),Pi();var Y=n.memoizedState;y!==ne||I!==Y||Wn||t!==null&&t.dependencies!==null&&pl(t.dependencies)?(typeof N=="function"&&(yd(n,o,N,l),Y=n.memoizedState),(J=Wn||Ug(n,o,J,l,I,Y,k)||t!==null&&t.dependencies!==null&&pl(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,k)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),m.props=l,m.state=Y,m.context=k,l=J):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),l=!1)}return m=l,Ml(t,n),l=(n.flags&128)!==0,m||l?(m=n.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&l?(n.child=Pa(n,t.child,null,h),n.child=Pa(n,null,o,h)):cs(t,n,o,h),n.memoizedState=m.state,t=n.child):t=kn(t,n,h),t}function Jg(t,n,o,l){return Oa(),n.flags|=256,cs(t,n,o,l),n.child}var Nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:$p()}}function _d(t,n,o){return t=t!==null?t.childLanes&~o:0,n&&(t|=Ls),t}function Zg(t,n,o){var l=n.pendingProps,h=!1,m=(n.flags&128)!==0,y;if((y=m)||(y=t!==null&&t.memoizedState===null?!1:(Lt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Je){if(h?ea(n):ta(),(t=wt)?(t=oy(t,Fs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fn!==null?{id:fn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},o=Op(t),o.return=n,n.child=o,os=n,wt=null)):t=null,t===null)throw Xn(n);return oh(t)?n.lanes=32:n.lanes=536870912,null}var N=l.children;return l=l.fallback,h?(ta(),h=n.mode,N=zl({mode:"hidden",children:N},h),l=Ra(l,h,o,null),N.return=n,l.return=n,N.sibling=l,n.child=N,l=n.child,l.memoizedState=Sd(o),l.childLanes=_d(t,y,o),n.memoizedState=Nd,Hi(null,l)):(ea(n),Ad(n,N))}var k=t.memoizedState;if(k!==null&&(N=k.dehydrated,N!==null)){if(m)n.flags&256?(ea(n),n.flags&=-257,n=Td(t,n,o)):n.memoizedState!==null?(ta(),n.child=t.child,n.flags|=128,n=null):(ta(),N=l.fallback,h=n.mode,l=zl({mode:"visible",children:l.children},h),N=Ra(N,h,o,null),N.flags|=2,l.return=n,N.return=n,l.sibling=N,n.child=l,Pa(n,t.child,null,o),l=n.child,l.memoizedState=Sd(o),l.childLanes=_d(t,y,o),n.memoizedState=Nd,n=Hi(null,l));else if(ea(n),oh(N)){if(y=N.nextSibling&&N.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(r(419)),l.stack="",l.digest=y,Oi({value:l,source:null,stack:null}),n=Td(t,n,o)}else if(Ht||jr(t,n,o,!1),y=(o&t.childLanes)!==0,Ht||y){if(y=ft,y!==null&&(l=Jo(y,o),l!==0&&l!==k.retryLane))throw k.retryLane=l,Ca(t,l),Es(y,t,l),wd;ih(N)||Hl(),n=Td(t,n,o)}else ih(N)?(n.flags|=192,n.child=t.child,n=null):(t=k.treeContext,wt=Xs(N.nextSibling),os=n,Je=!0,Yn=null,Fs=!1,t!==null&&zp(n,t),n=Ad(n,l.children),n.flags|=4096);return n}return h?(ta(),N=l.fallback,h=n.mode,k=t.child,B=k.sibling,l=Nn(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,B!==null?N=Nn(B,N):(N=Ra(N,h,o,null),N.flags|=2),N.return=n,l.return=n,l.sibling=N,n.child=l,Hi(null,l),l=n.child,N=t.child.memoizedState,N===null?N=Sd(o):(h=N.cachePool,h!==null?(k=It._currentValue,h=h.parent!==k?{parent:k,pool:k}:h):h=$p(),N={baseLanes:N.baseLanes|o,cachePool:h}),l.memoizedState=N,l.childLanes=_d(t,y,o),n.memoizedState=Nd,Hi(t.child,l)):(ea(n),o=t.child,t=o.sibling,o=Nn(o,{mode:"visible",children:l.children}),o.return=n,o.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=o,n.memoizedState=null,o)}function Ad(t,n){return n=zl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zl(t,n){return t=Ds(22,t,null,n),t.lanes=0,t}function Td(t,n,o){return Pa(n,t.child,null,o),t=Ad(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ex(t,n,o){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Iu(t.return,n,o)}function Ed(t,n,o,l,h,m){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:h,treeForkCount:m}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=o,y.tailMode=h,y.treeForkCount=m)}function tx(t,n,o){var l=n.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var y=Lt.current,N=(y&2)!==0;if(N?(y=y&1|2,n.flags|=128):y&=1,Q(Lt,y),cs(t,n,l,o),l=Je?Ri:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ex(t,o,n);else if(t.tag===19)ex(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(o=n.child,h=null;o!==null;)t=o.alternate,t!==null&&Nl(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=n.child,n.child=null):(h=o.sibling,o.sibling=null),Ed(n,!1,h,o,m,l);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Nl(t)===null){n.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Ed(n,!0,o,null,m,l);break;case"together":Ed(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function kn(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),aa|=n.lanes,(o&n.childLanes)===0)if(t!==null){if(jr(t,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,o=Nn(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=Nn(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function kd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&pl(t)))}function Wj(t,n,o){switch(n.tag){case 3:Z(n,n.stateNode.containerInfo),Qn(n,It,t.memoizedState.cache),Oa();break;case 27:case 5:Le(n);break;case 4:Z(n,n.stateNode.containerInfo);break;case 10:Qn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ed(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ea(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Zg(t,n,o):(ea(n),t=kn(t,n,o),t!==null?t.sibling:null);ea(n);break;case 19:var h=(t.flags&128)!==0;if(l=(o&n.childLanes)!==0,l||(jr(t,n,o,!1),l=(o&n.childLanes)!==0),h){if(l)return tx(t,n,o);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(Lt,Lt.current),l)break;return null;case 22:return n.lanes=0,Fg(t,n,o,n.pendingProps);case 24:Qn(n,It,t.memoizedState.cache)}return kn(t,n,o)}function sx(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ht=!0;else{if(!kd(t,o)&&(n.flags&128)===0)return Ht=!1,Wj(t,n,o);Ht=(t.flags&131072)!==0}else Ht=!1,Je&&(n.flags&1048576)!==0&&Mp(n,Ri,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Ua(n.elementType),n.type=t,typeof t=="function")Mu(t)?(l=Va(t,l),n.tag=1,n=Wg(null,n,t,l,o)):(n.tag=0,n=jd(null,n,t,l,o));else{if(t!=null){var h=t.$$typeof;if(h===L){n.tag=11,n=Hg(null,n,t,l,o);break e}else if(h===X){n.tag=14,n=Gg(null,n,t,l,o);break e}}throw n=we(t)||t,Error(r(306,n,""))}}return n;case 0:return jd(t,n,n.type,n.pendingProps,o);case 1:return l=n.type,h=Va(l,n.pendingProps),Wg(t,n,l,h,o);case 3:e:{if(Z(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var m=n.memoizedState;h=m.element,Xu(t,n),Bi(n,l,null,o);var y=n.memoizedState;if(l=y.cache,Qn(n,It,l),l!==m.cache&&qu(n,[It],o,!0),Pi(),l=y.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Jg(t,n,l,o);break e}else if(l!==h){h=Hs(Error(r(424)),n),Oi(h),n=Jg(t,n,l,o);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,wt=Xs(t.firstChild),os=n,Je=!0,Yn=null,Fs=!0,o=Fp(n,null,l,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Oa(),l===h){n=kn(t,n,o);break e}cs(t,n,l,o)}n=n.child}return n;case 26:return Ml(t,n),t===null?(o=fy(n.type,null,n.pendingProps,null))?n.memoizedState=o:Je||(o=n.type,t=n.pendingProps,l=Wl(fe.current).createElement(o),l[gt]=n,l[is]=t,us(l,o,t),ss(l),n.stateNode=l):n.memoizedState=fy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Le(n),t===null&&Je&&(l=n.stateNode=uy(n.type,n.pendingProps,fe.current),os=n,Fs=!0,h=wt,ca(n.type)?(lh=h,wt=Xs(l.firstChild)):wt=h),cs(t,n,n.pendingProps.children,o),Ml(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Je&&((h=l=wt)&&(l=TN(l,n.type,n.pendingProps,Fs),l!==null?(n.stateNode=l,os=n,wt=Xs(l.firstChild),Fs=!1,h=!0):h=!1),h||Xn(n)),Le(n),h=n.type,m=n.pendingProps,y=t!==null?t.memoizedProps:null,l=m.children,nh(h,m)?l=null:y!==null&&nh(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=sd(t,n,Ij,null,null,o),ro._currentValue=h),Ml(t,n),cs(t,n,l,o),n.child;case 6:return t===null&&Je&&((t=o=wt)&&(o=EN(o,n.pendingProps,Fs),o!==null?(n.stateNode=o,os=n,wt=null,t=!0):t=!1),t||Xn(n)),null;case 13:return Zg(t,n,o);case 4:return Z(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Pa(n,null,l,o):cs(t,n,l,o),n.child;case 11:return Hg(t,n,n.type,n.pendingProps,o);case 7:return cs(t,n,n.pendingProps,o),n.child;case 8:return cs(t,n,n.pendingProps.children,o),n.child;case 12:return cs(t,n,n.pendingProps.children,o),n.child;case 10:return l=n.pendingProps,Qn(n,n.type,l.value),cs(t,n,l.children,o),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ma(n),h=ls(h),l=l(h),n.flags|=1,cs(t,n,l,o),n.child;case 14:return Gg(t,n,n.type,n.pendingProps,o);case 15:return Kg(t,n,n.type,n.pendingProps,o);case 19:return tx(t,n,o);case 31:return Qj(t,n,o);case 22:return Fg(t,n,o,n.pendingProps);case 24:return Ma(n),l=ls(It),t===null?(h=Ku(),h===null&&(h=ft,m=Hu(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),n.memoizedState={parent:l,cache:h},Yu(n),Qn(n,It,h)):((t.lanes&o)!==0&&(Xu(t,n),Bi(n,null,null,o),Pi()),h=t.memoizedState,m=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Qn(n,It,l)):(l=m.cache,Qn(n,It,l),l!==h.cache&&qu(n,[It],o,!0))),cs(t,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Cn(t){t.flags|=4}function Cd(t,n,o,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(kx())t.flags|=8192;else throw La=bl,Fu}else t.flags&=-16777217}function nx(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yy(n))if(kx())t.flags|=8192;else throw La=bl,Fu}function Ul(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Nt():536870912,t.lanes|=n,Mr|=n)}function Gi(t,n){if(!Je)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,l=0;if(n)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=o,n}function Jj(t,n,o){var l=n.pendingProps;switch(Pu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(n),null;case 1:return jt(n),null;case 3:return o=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),An(It),de(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(wr(n)?Cn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vu())),jt(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(Cn(n),m!==null?(jt(n),nx(n,m)):(jt(n),Cd(n,h,null,l,o))):m?m!==t.memoizedState?(Cn(n),jt(n),nx(n,m)):(jt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Cn(n),jt(n),Cd(n,h,t,l,o)),null;case 27:if(zt(n),o=fe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Cn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return jt(n),null}t=re.current,wr(n)?Up(n):(t=uy(h,l,o),n.stateNode=t,Cn(n))}return jt(n),null;case 5:if(zt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Cn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return jt(n),null}if(m=re.current,wr(n))Up(n);else{var y=Wl(fe.current);switch(m){case 1:m=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=y.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}m[gt]=n,m[is]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)m.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=m;e:switch(us(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Cn(n)}}return jt(n),Cd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,o),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Cn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=fe.current,wr(n)){if(t=n.stateNode,o=n.memoizedProps,l=null,h=os,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[gt]=n,t=!!(t.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||Zx(t.nodeValue,o)),t||Xn(n,!0)}else t=Wl(t).createTextNode(l),t[gt]=n,n.stateNode=t}return jt(n),null;case 31:if(o=n.memoizedState,t===null||t.memoizedState!==null){if(l=wr(n),o!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[gt]=n}else Oa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;jt(n),t=!1}else o=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return n.flags&256?(zs(n),n):(zs(n),null);if((n.flags&128)!==0)throw Error(r(558))}return jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[gt]=n}else Oa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;jt(n),h=!1}else h=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(zs(n),n):(zs(n),null)}return zs(n),(n.flags&128)!==0?(n.lanes=o,n):(o=l!==null,t=t!==null&&t.memoizedState!==null,o&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),o!==t&&o&&(n.child.flags|=8192),Ul(n,n.updateQueue),jt(n),null);case 4:return de(),t===null&&Jd(n.stateNode.containerInfo),jt(n),null;case 10:return An(n.type),jt(n),null;case 19:if(V(Lt),l=n.memoizedState,l===null)return jt(n),null;if(h=(n.flags&128)!==0,m=l.rendering,m===null)if(h)Gi(l,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Nl(t),m!==null){for(n.flags|=128,Gi(l,!1),t=m.updateQueue,n.updateQueue=t,Ul(n,t),n.subtreeFlags=0,t=o,o=n.child;o!==null;)Rp(o,t),o=o.sibling;return Q(Lt,Lt.current&1|2),Je&&Sn(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&ae()>$l&&(n.flags|=128,h=!0,Gi(l,!1),n.lanes=4194304)}else{if(!h)if(t=Nl(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Ul(n,t),Gi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Je)return jt(n),null}else 2*ae()-l.renderingStartTime>$l&&o!==536870912&&(n.flags|=128,h=!0,Gi(l,!1),n.lanes=4194304);l.isBackwards?(m.sibling=n.child,n.child=m):(t=l.last,t!==null?t.sibling=m:n.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ae(),t.sibling=null,o=Lt.current,Q(Lt,h?o&1|2:o&1),Je&&Sn(n,l.treeForkCount),t):(jt(n),null);case 22:case 23:return zs(n),Zu(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(o&536870912)!==0&&(n.flags&128)===0&&(jt(n),n.subtreeFlags&6&&(n.flags|=8192)):jt(n),o=n.updateQueue,o!==null&&Ul(n,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==o&&(n.flags|=2048),t!==null&&V(za),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),An(It),jt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Zj(t,n){switch(Pu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return An(It),de(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return zt(n),null;case 31:if(n.memoizedState!==null){if(zs(n),n.alternate===null)throw Error(r(340));Oa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(zs(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Oa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return V(Lt),null;case 4:return de(),null;case 10:return An(n.type),null;case 22:case 23:return zs(n),Zu(),t!==null&&V(za),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return An(It),null;case 25:return null;default:return null}}function ax(t,n){switch(Pu(n),n.tag){case 3:An(It),de();break;case 26:case 27:case 5:zt(n);break;case 4:de();break;case 31:n.memoizedState!==null&&zs(n);break;case 13:zs(n);break;case 19:V(Lt);break;case 10:An(n.type);break;case 22:case 23:zs(n),Zu(),t!==null&&V(za);break;case 24:An(It)}}function Ki(t,n){try{var o=n.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var h=l.next;o=h;do{if((o.tag&t)===t){l=void 0;var m=o.create,y=o.inst;l=m(),y.destroy=l}o=o.next}while(o!==h)}}catch(N){rt(n,n.return,N)}}function sa(t,n,o){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&t)===t){var y=l.inst,N=y.destroy;if(N!==void 0){y.destroy=void 0,h=n;var k=o,B=N;try{B()}catch(J){rt(h,k,J)}}}l=l.next}while(l!==m)}}catch(J){rt(n,n.return,J)}}function rx(t){var n=t.updateQueue;if(n!==null){var o=t.stateNode;try{Xp(n,o)}catch(l){rt(t,t.return,l)}}}function ix(t,n,o){o.props=Va(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(l){rt(t,n,l)}}function Fi(t,n){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof o=="function"?t.refCleanup=o(l):o.current=l}}catch(h){rt(t,n,h)}}function pn(t,n){var o=t.ref,l=t.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(h){rt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){rt(t,n,h)}else o.current=null}function ox(t){var n=t.type,o=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(h){rt(t,t.return,h)}}function Rd(t,n,o){try{var l=t.stateNode;wN(l,t.type,o,n),l[is]=n}catch(h){rt(t,t.return,h)}}function lx(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ca(t.type)||t.tag===4}function Od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ca(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dd(t,n,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(t),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=wn));else if(l!==4&&(l===27&&ca(t.type)&&(o=t.stateNode,n=null),t=t.child,t!==null))for(Dd(t,n,o),t=t.sibling;t!==null;)Dd(t,n,o),t=t.sibling}function Ll(t,n,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(l!==4&&(l===27&&ca(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Ll(t,n,o),t=t.sibling;t!==null;)Ll(t,n,o),t=t.sibling}function cx(t){var n=t.stateNode,o=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);us(n,l,o),n[gt]=t,n[is]=o}catch(m){rt(t,t.return,m)}}var Rn=!1,Gt=!1,Md=!1,ux=typeof WeakSet=="function"?WeakSet:Set,ns=null;function eN(t,n){if(t=t.containerInfo,th=ac,t=jp(t),Tu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var y=0,N=-1,k=-1,B=0,J=0,ne=t,I=null;t:for(;;){for(var Y;ne!==o||h!==0&&ne.nodeType!==3||(N=y+h),ne!==m||l!==0&&ne.nodeType!==3||(k=y+l),ne.nodeType===3&&(y+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)I=ne,ne=Y;for(;;){if(ne===t)break t;if(I===o&&++B===h&&(N=y),I===m&&++J===l&&(k=y),(Y=ne.nextSibling)!==null)break;ne=I,I=ne.parentNode}ne=Y}o=N===-1||k===-1?null:{start:N,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(sh={focusedElem:t,selectionRange:o},ac=!1,ns=n;ns!==null;)if(n=ns,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ns=t;else for(;ns!==null;){switch(n=ns,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)h=t[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,o=n,h=m.memoizedProps,m=m.memoizedState,l=o.stateNode;try{var ye=Va(o.type,h);t=l.getSnapshotBeforeUpdate(ye,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Re){rt(o,o.return,Re)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,o=t.nodeType,o===9)rh(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ns=t;break}ns=n.return}}function dx(t,n,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Dn(t,o),l&4&&Ki(5,o);break;case 1:if(Dn(t,o),l&4)if(t=o.stateNode,n===null)try{t.componentDidMount()}catch(y){rt(o,o.return,y)}else{var h=Va(o.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){rt(o,o.return,y)}}l&64&&rx(o),l&512&&Fi(o,o.return);break;case 3:if(Dn(t,o),l&64&&(t=o.updateQueue,t!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Xp(t,n)}catch(y){rt(o,o.return,y)}}break;case 27:n===null&&l&4&&cx(o);case 26:case 5:Dn(t,o),n===null&&l&4&&ox(o),l&512&&Fi(o,o.return);break;case 12:Dn(t,o);break;case 31:Dn(t,o),l&4&&mx(t,o);break;case 13:Dn(t,o),l&4&&px(t,o),l&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=cN.bind(null,o),kN(t,o))));break;case 22:if(l=o.memoizedState!==null||Rn,!l){n=n!==null&&n.memoizedState!==null||Gt,h=Rn;var m=Gt;Rn=l,(Gt=n)&&!m?Mn(t,o,(o.subtreeFlags&8772)!==0):Dn(t,o),Rn=h,Gt=m}break;case 30:break;default:Dn(t,o)}}function hx(t){var n=t.alternate;n!==null&&(t.alternate=null,hx(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&uu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,Ss=!1;function On(t,n,o){for(o=o.child;o!==null;)fx(t,n,o),o=o.sibling}function fx(t,n,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Ve,o)}catch{}switch(o.tag){case 26:Gt||pn(o,n),On(t,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Gt||pn(o,n);var l=_t,h=Ss;ca(o.type)&&(_t=o.stateNode,Ss=!1),On(t,n,o),so(o.stateNode),_t=l,Ss=h;break;case 5:Gt||pn(o,n);case 6:if(l=_t,h=Ss,_t=null,On(t,n,o),_t=l,Ss=h,_t!==null)if(Ss)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(o.stateNode)}catch(m){rt(o,n,m)}else try{_t.removeChild(o.stateNode)}catch(m){rt(o,n,m)}break;case 18:_t!==null&&(Ss?(t=_t,ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Ir(t)):ry(_t,o.stateNode));break;case 4:l=_t,h=Ss,_t=o.stateNode.containerInfo,Ss=!0,On(t,n,o),_t=l,Ss=h;break;case 0:case 11:case 14:case 15:sa(2,o,n),Gt||sa(4,o,n),On(t,n,o);break;case 1:Gt||(pn(o,n),l=o.stateNode,typeof l.componentWillUnmount=="function"&&ix(o,n,l)),On(t,n,o);break;case 21:On(t,n,o);break;case 22:Gt=(l=Gt)||o.memoizedState!==null,On(t,n,o),Gt=l;break;default:On(t,n,o)}}function mx(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ir(t)}catch(o){rt(n,n.return,o)}}}function px(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ir(t)}catch(o){rt(n,n.return,o)}}function tN(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ux),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ux),n;default:throw Error(r(435,t.tag))}}function Pl(t,n){var o=tN(t);n.forEach(function(l){if(!o.has(l)){o.add(l);var h=uN.bind(null,t,l);l.then(h,h)}})}function _s(t,n){var o=n.deletions;if(o!==null)for(var l=0;l<o.length;l++){var h=o[l],m=t,y=n,N=y;e:for(;N!==null;){switch(N.tag){case 27:if(ca(N.type)){_t=N.stateNode,Ss=!1;break e}break;case 5:_t=N.stateNode,Ss=!1;break e;case 3:case 4:_t=N.stateNode.containerInfo,Ss=!0;break e}N=N.return}if(_t===null)throw Error(r(160));fx(m,y,h),_t=null,Ss=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gx(n,t),n=n.sibling}var sn=null;function gx(t,n){var o=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_s(n,t),As(t),l&4&&(sa(3,t,t.return),Ki(3,t),sa(5,t,t.return));break;case 1:_s(n,t),As(t),l&512&&(Gt||o===null||pn(o,o.return)),l&64&&Rn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var h=sn;if(_s(n,t),As(t),l&512&&(Gt||o===null||pn(o,o.return)),l&4){var m=o!==null?o.memoizedState:null;if(l=t.memoizedState,o===null)if(l===null)if(t.stateNode===null){e:{l=t.type,o=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[vi]||m[gt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),us(m,l,o),m[gt]=t,ss(m),l=m;break e;case"link":var y=gy("link","href",h).get(l+(o.href||""));if(y){for(var N=0;N<y.length;N++)if(m=y[N],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){y.splice(N,1);break t}}m=h.createElement(l),us(m,l,o),h.head.appendChild(m);break;case"meta":if(y=gy("meta","content",h).get(l+(o.content||""))){for(N=0;N<y.length;N++)if(m=y[N],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){y.splice(N,1);break t}}m=h.createElement(l),us(m,l,o),h.head.appendChild(m);break;default:throw Error(r(468,l))}m[gt]=t,ss(m),l=m}t.stateNode=l}else xy(h,t.type,t.stateNode);else t.stateNode=py(h,l,t.memoizedProps);else m!==l?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,l===null?xy(h,t.type,t.stateNode):py(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rd(t,t.memoizedProps,o.memoizedProps)}break;case 27:_s(n,t),As(t),l&512&&(Gt||o===null||pn(o,o.return)),o!==null&&l&4&&Rd(t,t.memoizedProps,o.memoizedProps);break;case 5:if(_s(n,t),As(t),l&512&&(Gt||o===null||pn(o,o.return)),t.flags&32){h=t.stateNode;try{dr(h,"")}catch(ye){rt(t,t.return,ye)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Rd(t,h,o!==null?o.memoizedProps:h)),l&1024&&(Md=!0);break;case 6:if(_s(n,t),As(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,o=t.stateNode;try{o.nodeValue=l}catch(ye){rt(t,t.return,ye)}}break;case 3:if(ec=null,h=sn,sn=Jl(n.containerInfo),_s(n,t),sn=h,As(t),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Ir(n.containerInfo)}catch(ye){rt(t,t.return,ye)}Md&&(Md=!1,xx(t));break;case 4:l=sn,sn=Jl(t.stateNode.containerInfo),_s(n,t),As(t),sn=l;break;case 12:_s(n,t),As(t);break;case 31:_s(n,t),As(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pl(t,l)));break;case 13:_s(n,t),As(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Vl=ae()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pl(t,l)));break;case 22:h=t.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,B=Rn,J=Gt;if(Rn=B||h,Gt=J||k,_s(n,t),Gt=J,Rn=B,As(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(o===null||k||Rn||Gt||$a(t)),o=null,n=t;;){if(n.tag===5||n.tag===26){if(o===null){k=o=n;try{if(m=k.stateNode,h)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{N=k.stateNode;var ne=k.memoizedProps.style,I=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;N.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(ye){rt(k,k.return,ye)}}}else if(n.tag===6){if(o===null){k=n;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(ye){rt(k,k.return,ye)}}}else if(n.tag===18){if(o===null){k=n;try{var Y=k.stateNode;h?iy(Y,!0):iy(k.stateNode,!1)}catch(ye){rt(k,k.return,ye)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,Pl(t,o))));break;case 19:_s(n,t),As(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pl(t,l)));break;case 30:break;case 21:break;default:_s(n,t),As(t)}}function As(t){var n=t.flags;if(n&2){try{for(var o,l=t.return;l!==null;){if(lx(l)){o=l;break}l=l.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var h=o.stateNode,m=Od(t);Ll(t,m,h);break;case 5:var y=o.stateNode;o.flags&32&&(dr(y,""),o.flags&=-33);var N=Od(t);Ll(t,N,y);break;case 3:case 4:var k=o.stateNode.containerInfo,B=Od(t);Dd(t,B,k);break;default:throw Error(r(161))}}catch(J){rt(t,t.return,J)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function xx(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;xx(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Dn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dx(t,n.alternate,n),n=n.sibling}function $a(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:sa(4,n,n.return),$a(n);break;case 1:pn(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&ix(n,n.return,o),$a(n);break;case 27:so(n.stateNode);case 26:case 5:pn(n,n.return),$a(n);break;case 22:n.memoizedState===null&&$a(n);break;case 30:$a(n);break;default:$a(n)}t=t.sibling}}function Mn(t,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,m=n,y=m.flags;switch(m.tag){case 0:case 11:case 15:Mn(h,m,o),Ki(4,m);break;case 1:if(Mn(h,m,o),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){rt(l,l.return,B)}if(l=m,h=l.updateQueue,h!==null){var N=l.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)Yp(k[h],N)}catch(B){rt(l,l.return,B)}}o&&y&64&&rx(m),Fi(m,m.return);break;case 27:cx(m);case 26:case 5:Mn(h,m,o),o&&l===null&&y&4&&ox(m),Fi(m,m.return);break;case 12:Mn(h,m,o);break;case 31:Mn(h,m,o),o&&y&4&&mx(h,m);break;case 13:Mn(h,m,o),o&&y&4&&px(h,m);break;case 22:m.memoizedState===null&&Mn(h,m,o),Fi(m,m.return);break;case 30:break;default:Mn(h,m,o)}n=n.sibling}}function zd(t,n){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&Di(o))}function Ud(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Di(t))}function nn(t,n,o,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yx(t,n,o,l),n=n.sibling}function yx(t,n,o,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:nn(t,n,o,l),h&2048&&Ki(9,n);break;case 1:nn(t,n,o,l);break;case 3:nn(t,n,o,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Di(t)));break;case 12:if(h&2048){nn(t,n,o,l),t=n.stateNode;try{var m=n.memoizedProps,y=m.id,N=m.onPostCommit;typeof N=="function"&&N(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){rt(n,n.return,k)}}else nn(t,n,o,l);break;case 31:nn(t,n,o,l);break;case 13:nn(t,n,o,l);break;case 23:break;case 22:m=n.stateNode,y=n.alternate,n.memoizedState!==null?m._visibility&2?nn(t,n,o,l):Yi(t,n):m._visibility&2?nn(t,n,o,l):(m._visibility|=2,Rr(t,n,o,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&zd(y,n);break;case 24:nn(t,n,o,l),h&2048&&Ud(n.alternate,n);break;default:nn(t,n,o,l)}}function Rr(t,n,o,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,y=n,N=o,k=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:Rr(m,y,N,k,h),Ki(8,y);break;case 23:break;case 22:var J=y.stateNode;y.memoizedState!==null?J._visibility&2?Rr(m,y,N,k,h):Yi(m,y):(J._visibility|=2,Rr(m,y,N,k,h)),h&&B&2048&&zd(y.alternate,y);break;case 24:Rr(m,y,N,k,h),h&&B&2048&&Ud(y.alternate,y);break;default:Rr(m,y,N,k,h)}n=n.sibling}}function Yi(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=t,l=n,h=l.flags;switch(l.tag){case 22:Yi(o,l),h&2048&&zd(l.alternate,l);break;case 24:Yi(o,l),h&2048&&Ud(l.alternate,l);break;default:Yi(o,l)}n=n.sibling}}var Xi=8192;function Or(t,n,o){if(t.subtreeFlags&Xi)for(t=t.child;t!==null;)bx(t,n,o),t=t.sibling}function bx(t,n,o){switch(t.tag){case 26:Or(t,n,o),t.flags&Xi&&t.memoizedState!==null&&$N(o,sn,t.memoizedState,t.memoizedProps);break;case 5:Or(t,n,o);break;case 3:case 4:var l=sn;sn=Jl(t.stateNode.containerInfo),Or(t,n,o),sn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Xi,Xi=16777216,Or(t,n,o),Xi=l):Or(t,n,o));break;default:Or(t,n,o)}}function vx(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Qi(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var l=n[o];ns=l,jx(l,t)}vx(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wx(t),t=t.sibling}function wx(t){switch(t.tag){case 0:case 11:case 15:Qi(t),t.flags&2048&&sa(9,t,t.return);break;case 3:Qi(t);break;case 12:Qi(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Bl(t)):Qi(t);break;default:Qi(t)}}function Bl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var l=n[o];ns=l,jx(l,t)}vx(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:sa(8,n,n.return),Bl(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Bl(n));break;default:Bl(n)}t=t.sibling}}function jx(t,n){for(;ns!==null;){var o=ns;switch(o.tag){case 0:case 11:case 15:sa(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Di(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,ns=l;else e:for(o=t;ns!==null;){l=ns;var h=l.sibling,m=l.return;if(hx(l),l===o){ns=null;break e}if(h!==null){h.return=m,ns=h;break e}ns=m}}}var sN={getCacheForType:function(t){var n=ls(It),o=n.data.get(t);return o===void 0&&(o=t(),n.data.set(t,o)),o},cacheSignal:function(){return ls(It).controller.signal}},nN=typeof WeakMap=="function"?WeakMap:Map,st=0,ft=null,Ge=null,Xe=0,at=0,Us=null,na=!1,Dr=!1,Ld=!1,zn=0,Ct=0,aa=0,Ia=0,Pd=0,Ls=0,Mr=0,Wi=null,Ts=null,Bd=!1,Vl=0,Nx=0,$l=1/0,Il=null,ra=null,Wt=0,ia=null,zr=null,Un=0,Vd=0,$d=null,Sx=null,Ji=0,Id=null;function Ps(){return(st&2)!==0&&Xe!==0?Xe&-Xe:U.T!==null?Yd():$()}function _x(){if(Ls===0)if((Xe&536870912)===0||Je){var t=xe;xe<<=1,(xe&3932160)===0&&(xe=262144),Ls=t}else Ls=536870912;return t=Ms.current,t!==null&&(t.flags|=32),Ls}function Es(t,n,o){(t===ft&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(Ur(t,0),oa(t,Xe,Ls,!1)),Ut(t,o),((st&2)===0||t!==ft)&&(t===ft&&((st&2)===0&&(Ia|=o),Ct===4&&oa(t,Xe,Ls,!1)),gn(t))}function Ax(t,n,o){if((st&6)!==0)throw Error(r(327));var l=!o&&(n&127)===0&&(n&t.expiredLanes)===0||nt(t,n),h=l?iN(t,n):Hd(t,n,!0),m=l;do{if(h===0){Dr&&!l&&oa(t,n,0,!1);break}else{if(o=t.current.alternate,m&&!aN(o)){h=Hd(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var N=t;h=Wi;var k=N.current.memoizedState.isDehydrated;if(k&&(Ur(N,y).flags|=256),y=Hd(N,y,!1),y!==2){if(Ld&&!k){N.errorRecoveryDisabledLanes|=m,Ia|=m,h=4;break e}m=Ts,Ts=h,m!==null&&(Ts===null?Ts=m:Ts.push.apply(Ts,m))}h=y}if(m=!1,h!==2)continue}}if(h===1){Ur(t,0),oa(t,n,0,!0);break}e:{switch(l=t,m=h,m){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:oa(l,n,Ls,!na);break e;case 2:Ts=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Vl+300-ae(),10<h)){if(oa(l,n,Ls,!na),vt(l,0,!0)!==0)break e;Un=n,l.timeoutHandle=ny(Tx.bind(null,l,o,Ts,Il,Bd,n,Ls,Ia,Mr,na,m,"Throttled",-0,0),h);break e}Tx(l,o,Ts,Il,Bd,n,Ls,Ia,Mr,na,m,null,-0,0)}}break}while(!0);gn(t)}function Tx(t,n,o,l,h,m,y,N,k,B,J,ne,I,Y){if(t.timeoutHandle=-1,ne=n.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},bx(n,m,ne);var ye=(m&62914560)===m?Vl-ae():(m&4194048)===m?Nx-ae():0;if(ye=IN(ne,ye),ye!==null){Un=m,t.cancelPendingCommit=ye(zx.bind(null,t,n,m,o,l,h,y,N,k,J,ne,null,I,Y)),oa(t,m,y,!B);return}}zx(t,n,m,o,l,h,y,N,k)}function aN(t){for(var n=t;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var h=o[l],m=h.getSnapshot;h=h.value;try{if(!Os(m(),h))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function oa(t,n,o,l){n&=~Pd,n&=~Ia,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var m=31-z(h),y=1<<m;l[m]=-1,h&=~y}o!==0&&_a(t,o,n)}function ql(){return(st&6)===0?(Zi(0),!1):!0}function qd(){if(Ge!==null){if(at===0)var t=Ge.return;else t=Ge,_n=Da=null,rd(t),Ar=null,zi=0,t=Ge;for(;t!==null;)ax(t.alternate,t),t=t.return;Ge=null}}function Ur(t,n){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,SN(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),Un=0,qd(),ft=t,Ge=o=Nn(t.current,null),Xe=n,at=0,Us=null,na=!1,Dr=nt(t,n),Ld=!1,Mr=Ls=Pd=Ia=aa=Ct=0,Ts=Wi=null,Bd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-z(l),m=1<<h;n|=t[h],l&=~m}return zn=n,ul(),o}function Ex(t,n){$e=null,U.H=qi,n===_r||n===yl?(n=Hp(),at=3):n===Fu?(n=Hp(),at=4):at=n===wd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Us=n,Ge===null&&(Ct=1,Ol(t,Hs(n,t.current)))}function kx(){var t=Ms.current;return t===null?!0:(Xe&4194048)===Xe?Ys===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?t===Ys:!1}function Cx(){var t=U.H;return U.H=qi,t===null?qi:t}function Rx(){var t=U.A;return U.A=sN,t}function Hl(){Ct=4,na||(Xe&4194048)!==Xe&&Ms.current!==null||(Dr=!0),(aa&134217727)===0&&(Ia&134217727)===0||ft===null||oa(ft,Xe,Ls,!1)}function Hd(t,n,o){var l=st;st|=2;var h=Cx(),m=Rx();(ft!==t||Xe!==n)&&(Il=null,Ur(t,n)),n=!1;var y=Ct;e:do try{if(at!==0&&Ge!==null){var N=Ge,k=Us;switch(at){case 8:qd(),y=6;break e;case 3:case 2:case 9:case 6:Ms.current===null&&(n=!0);var B=at;if(at=0,Us=null,Lr(t,N,k,B),o&&Dr){y=0;break e}break;default:B=at,at=0,Us=null,Lr(t,N,k,B)}}rN(),y=Ct;break}catch(J){Ex(t,J)}while(!0);return n&&t.shellSuspendCounter++,_n=Da=null,st=l,U.H=h,U.A=m,Ge===null&&(ft=null,Xe=0,ul()),y}function rN(){for(;Ge!==null;)Ox(Ge)}function iN(t,n){var o=st;st|=2;var l=Cx(),h=Rx();ft!==t||Xe!==n?(Il=null,$l=ae()+500,Ur(t,n)):Dr=nt(t,n);e:do try{if(at!==0&&Ge!==null){n=Ge;var m=Us;t:switch(at){case 1:at=0,Us=null,Lr(t,n,m,1);break;case 2:case 9:if(Ip(m)){at=0,Us=null,Dx(n);break}n=function(){at!==2&&at!==9||ft!==t||(at=7),gn(t)},m.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Ip(m)?(at=0,Us=null,Dx(n)):(at=0,Us=null,Lr(t,n,m,7));break;case 5:var y=null;switch(Ge.tag){case 26:y=Ge.memoizedState;case 5:case 27:var N=Ge;if(y?yy(y):N.stateNode.complete){at=0,Us=null;var k=N.sibling;if(k!==null)Ge=k;else{var B=N.return;B!==null?(Ge=B,Gl(B)):Ge=null}break t}}at=0,Us=null,Lr(t,n,m,5);break;case 6:at=0,Us=null,Lr(t,n,m,6);break;case 8:qd(),Ct=6;break e;default:throw Error(r(462))}}oN();break}catch(J){Ex(t,J)}while(!0);return _n=Da=null,U.H=l,U.A=h,st=o,Ge!==null?0:(ft=null,Xe=0,ul(),Ct)}function oN(){for(;Ge!==null&&!as();)Ox(Ge)}function Ox(t){var n=sx(t.alternate,t,zn);t.memoizedProps=t.pendingProps,n===null?Gl(t):Ge=n}function Dx(t){var n=t,o=n.alternate;switch(n.tag){case 15:case 0:n=Qg(o,n,n.pendingProps,n.type,void 0,Xe);break;case 11:n=Qg(o,n,n.pendingProps,n.type.render,n.ref,Xe);break;case 5:rd(n);default:ax(o,n),n=Ge=Rp(n,zn),n=sx(o,n,zn)}t.memoizedProps=t.pendingProps,n===null?Gl(t):Ge=n}function Lr(t,n,o,l){_n=Da=null,rd(n),Ar=null,zi=0;var h=n.return;try{if(Xj(t,h,n,o,Xe)){Ct=1,Ol(t,Hs(o,t.current)),Ge=null;return}}catch(m){if(h!==null)throw Ge=h,m;Ct=1,Ol(t,Hs(o,t.current)),Ge=null;return}n.flags&32768?(Je||l===1?t=!0:Dr||(Xe&536870912)!==0?t=!1:(na=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ms.current,l!==null&&l.tag===13&&(l.flags|=16384))),Mx(n,t)):Gl(n)}function Gl(t){var n=t;do{if((n.flags&32768)!==0){Mx(n,na);return}t=n.return;var o=Jj(n.alternate,n,zn);if(o!==null){Ge=o;return}if(n=n.sibling,n!==null){Ge=n;return}Ge=n=t}while(n!==null);Ct===0&&(Ct=5)}function Mx(t,n){do{var o=Zj(t.alternate,t);if(o!==null){o.flags&=32767,Ge=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(t=t.sibling,t!==null)){Ge=t;return}Ge=t=o}while(t!==null);Ct=6,Ge=null}function zx(t,n,o,l,h,m,y,N,k){t.cancelPendingCommit=null;do Kl();while(Wt!==0);if((st&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(m=n.lanes|n.childLanes,m|=Ou,ot(t,o,m,y,N,k),t===ft&&(Ge=ft=null,Xe=0),zr=n,ia=t,Un=o,Vd=m,$d=h,Sx=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dN(mt,function(){return Vx(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,h=W.p,W.p=2,y=st,st|=4;try{eN(t,n,o)}finally{st=y,W.p=h,U.T=l}}Wt=1,Ux(),Lx(),Px()}}function Ux(){if(Wt===1){Wt=0;var t=ia,n=zr,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var l=W.p;W.p=2;var h=st;st|=4;try{gx(n,t);var m=sh,y=jp(t.containerInfo),N=m.focusedElem,k=m.selectionRange;if(y!==N&&N&&N.ownerDocument&&wp(N.ownerDocument.documentElement,N)){if(k!==null&&Tu(N)){var B=k.start,J=k.end;if(J===void 0&&(J=B),"selectionStart"in N)N.selectionStart=B,N.selectionEnd=Math.min(J,N.value.length);else{var ne=N.ownerDocument||document,I=ne&&ne.defaultView||window;if(I.getSelection){var Y=I.getSelection(),ye=N.textContent.length,Re=Math.min(k.start,ye),ut=k.end===void 0?Re:Math.min(k.end,ye);!Y.extend&&Re>ut&&(y=ut,ut=Re,Re=y);var M=vp(N,Re),O=vp(N,ut);if(M&&O&&(Y.rangeCount!==1||Y.anchorNode!==M.node||Y.anchorOffset!==M.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var P=ne.createRange();P.setStart(M.node,M.offset),Y.removeAllRanges(),Re>ut?(Y.addRange(P),Y.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),Y.addRange(P))}}}}for(ne=[],Y=N;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ne.length;N++){var te=ne[N];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}ac=!!th,sh=th=null}finally{st=h,W.p=l,U.T=o}}t.current=n,Wt=2}}function Lx(){if(Wt===2){Wt=0;var t=ia,n=zr,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var l=W.p;W.p=2;var h=st;st|=4;try{dx(t,n.alternate,n)}finally{st=h,W.p=l,U.T=o}}Wt=3}}function Px(){if(Wt===4||Wt===3){Wt=0,ys();var t=ia,n=zr,o=Un,l=Sx;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Wt=5:(Wt=0,zr=ia=null,Bx(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ra=null),ar(o),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Ve,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=U.T,h=W.p,W.p=2,U.T=null;try{for(var m=t.onRecoverableError,y=0;y<l.length;y++){var N=l[y];m(N.value,{componentStack:N.stack})}}finally{U.T=n,W.p=h}}(Un&3)!==0&&Kl(),gn(t),h=t.pendingLanes,(o&261930)!==0&&(h&42)!==0?t===Id?Ji++:(Ji=0,Id=t):Ji=0,Zi(0)}}function Bx(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Di(n)))}function Kl(){return Ux(),Lx(),Px(),Vx()}function Vx(){if(Wt!==5)return!1;var t=ia,n=Vd;Vd=0;var o=ar(Un),l=U.T,h=W.p;try{W.p=32>o?32:o,U.T=null,o=$d,$d=null;var m=ia,y=Un;if(Wt=0,zr=ia=null,Un=0,(st&6)!==0)throw Error(r(331));var N=st;if(st|=4,wx(m.current),yx(m,m.current,y,o),st=N,Zi(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Ve,m)}catch{}return!0}finally{W.p=h,U.T=l,Bx(t,n)}}function $x(t,n,o){n=Hs(o,n),n=vd(t.stateNode,n,2),t=Zn(t,n,2),t!==null&&(Ut(t,2),gn(t))}function rt(t,n,o){if(t.tag===3)$x(t,t,o);else for(;n!==null;){if(n.tag===3){$x(n,t,o);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ra===null||!ra.has(l))){t=Hs(o,t),o=Ig(2),l=Zn(n,o,2),l!==null&&(qg(o,l,n,t),Ut(l,2),gn(l));break}}n=n.return}}function Gd(t,n,o){var l=t.pingCache;if(l===null){l=t.pingCache=new nN;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(o)||(Ld=!0,h.add(o),t=lN.bind(null,t,n,o),n.then(t,t))}function lN(t,n,o){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,ft===t&&(Xe&o)===o&&(Ct===4||Ct===3&&(Xe&62914560)===Xe&&300>ae()-Vl?(st&2)===0&&Ur(t,0):Pd|=o,Mr===Xe&&(Mr=0)),gn(t)}function Ix(t,n){n===0&&(n=Nt()),t=Ca(t,n),t!==null&&(Ut(t,n),gn(t))}function cN(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),Ix(t,o)}function uN(t,n){var o=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ix(t,o)}function dN(t,n){return We(t,n)}var Fl=null,Pr=null,Kd=!1,Yl=!1,Fd=!1,la=0;function gn(t){t!==Pr&&t.next===null&&(Pr===null?Fl=Pr=t:Pr=Pr.next=t),Yl=!0,Kd||(Kd=!0,fN())}function Zi(t,n){if(!Fd&&Yl){Fd=!0;do for(var o=!1,l=Fl;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var y=l.suspendedLanes,N=l.pingedLanes;m=(1<<31-z(42|t)+1)-1,m&=h&~(y&~N),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Kx(l,m))}else m=Xe,m=vt(l,l===ft?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||nt(l,m)||(o=!0,Kx(l,m));l=l.next}while(o);Fd=!1}}function hN(){qx()}function qx(){Yl=Kd=!1;var t=0;la!==0&&NN()&&(t=la);for(var n=ae(),o=null,l=Fl;l!==null;){var h=l.next,m=Hx(l,n);m===0?(l.next=null,o===null?Fl=h:o.next=h,h===null&&(Pr=o)):(o=l,(t!==0||(m&3)!==0)&&(Yl=!0)),l=h}Wt!==0&&Wt!==5||Zi(t),la!==0&&(la=0)}function Hx(t,n){for(var o=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var y=31-z(m),N=1<<y,k=h[y];k===-1?((N&o)===0||(N&l)!==0)&&(h[y]=ht(N,n)):k<=n&&(t.expiredLanes|=N),m&=~N}if(n=ft,o=Xe,o=vt(t,t===n?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,o===0||t===n&&(at===2||at===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tt(l),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||nt(t,o)){if(n=o&-o,n===t.callbackPriority)return n;switch(l!==null&&Tt(l),ar(o)){case 2:case 8:o=ms;break;case 32:o=mt;break;case 268435456:o=Xt;break;default:o=mt}return l=Gx.bind(null,t),o=We(o,l),t.callbackPriority=n,t.callbackNode=o,n}return l!==null&&l!==null&&Tt(l),t.callbackPriority=2,t.callbackNode=null,2}function Gx(t,n){if(Wt!==0&&Wt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Kl()&&t.callbackNode!==o)return null;var l=Xe;return l=vt(t,t===ft?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ax(t,l,n),Hx(t,ae()),t.callbackNode!=null&&t.callbackNode===o?Gx.bind(null,t):null)}function Kx(t,n){if(Kl())return null;Ax(t,n,!0)}function fN(){_N(function(){(st&6)!==0?We(en,hN):qx()})}function Yd(){if(la===0){var t=Nr;t===0&&(t=he,he<<=1,(he&261888)===0&&(he=256)),la=t}return la}function Fx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sl(""+t)}function Yx(t,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,t.id&&o.setAttribute("form",t.id),n.parentNode.insertBefore(o,n),t=new FormData(t),o.parentNode.removeChild(o),t}function mN(t,n,o,l,h){if(n==="submit"&&o&&o.stateNode===h){var m=Fx((h[is]||null).action),y=l.submitter;y&&(n=(n=y[is]||null)?Fx(n.formAction):y.getAttribute("formAction"),n!==null&&(m=n,y=null));var N=new il("action","action",null,l,h);t.push({event:N,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var k=y?Yx(h,y):new FormData(h);md(o,{pending:!0,data:k,method:h.method,action:m},null,k)}}else typeof m=="function"&&(N.preventDefault(),k=y?Yx(h,y):new FormData(h),md(o,{pending:!0,data:k,method:h.method,action:m},m,k))},currentTarget:h}]})}}for(var Xd=0;Xd<Ru.length;Xd++){var Qd=Ru[Xd],pN=Qd.toLowerCase(),gN=Qd[0].toUpperCase()+Qd.slice(1);tn(pN,"on"+gN)}tn(_p,"onAnimationEnd"),tn(Ap,"onAnimationIteration"),tn(Tp,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(Oj,"onTransitionRun"),tn(Dj,"onTransitionStart"),tn(Mj,"onTransitionCancel"),tn(Ep,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function Xx(t,n){n=(n&4)!==0;for(var o=0;o<t.length;o++){var l=t[o],h=l.event;l=l.listeners;e:{var m=void 0;if(n)for(var y=l.length-1;0<=y;y--){var N=l[y],k=N.instance,B=N.currentTarget;if(N=N.listener,k!==m&&h.isPropagationStopped())break e;m=N,h.currentTarget=B;try{m(h)}catch(J){cl(J)}h.currentTarget=null,m=k}else for(y=0;y<l.length;y++){if(N=l[y],k=N.instance,B=N.currentTarget,N=N.listener,k!==m&&h.isPropagationStopped())break e;m=N,h.currentTarget=B;try{m(h)}catch(J){cl(J)}h.currentTarget=null,m=k}}}}function Ke(t,n){var o=n[cu];o===void 0&&(o=n[cu]=new Set);var l=t+"__bubble";o.has(l)||(Qx(n,t,2,!1),o.add(l))}function Wd(t,n,o){var l=0;n&&(l|=4),Qx(o,t,l,n)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Jd(t){if(!t[Xl]){t[Xl]=!0,qm.forEach(function(o){o!=="selectionchange"&&(xN.has(o)||Wd(o,!1,t),Wd(o,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Xl]||(n[Xl]=!0,Wd("selectionchange",!1,n))}}function Qx(t,n,o,l){switch(_y(n)){case 2:var h=GN;break;case 8:h=KN;break;default:h=fh}o=h.bind(null,n,o,t),h=void 0,!yu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,o,{capture:!0,passive:h}):t.addEventListener(n,o,!0):h!==void 0?t.addEventListener(n,o,{passive:h}):t.addEventListener(n,o,!1)}function Zd(t,n,o,l,h){var m=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var N=l.stateNode.containerInfo;if(N===h)break;if(y===4)for(y=l.return;y!==null;){var k=y.tag;if((k===3||k===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;N!==null;){if(y=ir(N),y===null)return;if(k=y.tag,k===5||k===6||k===26||k===27){l=m=y;continue e}N=N.parentNode}}l=l.return}tp(function(){var B=m,J=gu(o),ne=[];e:{var I=kp.get(t);if(I!==void 0){var Y=il,ye=t;switch(t){case"keypress":if(al(o)===0)break e;case"keydown":case"keyup":Y=uj;break;case"focusin":ye="focus",Y=ju;break;case"focusout":ye="blur",Y=ju;break;case"beforeblur":case"afterblur":Y=ju;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ap;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Jw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=fj;break;case _p:case Ap:case Tp:Y=tj;break;case Ep:Y=pj;break;case"scroll":case"scrollend":Y=Qw;break;case"wheel":Y=xj;break;case"copy":case"cut":case"paste":Y=nj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ip;break;case"toggle":case"beforetoggle":Y=bj}var Re=(n&4)!==0,ut=!Re&&(t==="scroll"||t==="scrollend"),M=Re?I!==null?I+"Capture":null:I;Re=[];for(var O=B,P;O!==null;){var te=O;if(P=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||P===null||M===null||(te=ji(O,M),te!=null&&Re.push(to(O,te,P))),ut)break;O=O.return}0<Re.length&&(I=new Y(I,ye,null,o,J),ne.push({event:I,listeners:Re}))}}if((n&7)===0){e:{if(I=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",I&&o!==pu&&(ye=o.relatedTarget||o.fromElement)&&(ir(ye)||ye[rr]))break e;if((Y||I)&&(I=J.window===J?J:(I=J.ownerDocument)?I.defaultView||I.parentWindow:window,Y?(ye=o.relatedTarget||o.toElement,Y=B,ye=ye?ir(ye):null,ye!==null&&(ut=u(ye),Re=ye.tag,ye!==ut||Re!==5&&Re!==27&&Re!==6)&&(ye=null)):(Y=null,ye=B),Y!==ye)){if(Re=ap,te="onMouseLeave",M="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Re=ip,te="onPointerLeave",M="onPointerEnter",O="pointer"),ut=Y==null?I:wi(Y),P=ye==null?I:wi(ye),I=new Re(te,O+"leave",Y,o,J),I.target=ut,I.relatedTarget=P,te=null,ir(J)===B&&(Re=new Re(M,O+"enter",ye,o,J),Re.target=P,Re.relatedTarget=ut,te=Re),ut=te,Y&&ye)t:{for(Re=yN,M=Y,O=ye,P=0,te=M;te;te=Re(te))P++;te=0;for(var Ee=O;Ee;Ee=Re(Ee))te++;for(;0<P-te;)M=Re(M),P--;for(;0<te-P;)O=Re(O),te--;for(;P--;){if(M===O||O!==null&&M===O.alternate){Re=M;break t}M=Re(M),O=Re(O)}Re=null}else Re=null;Y!==null&&Wx(ne,I,Y,Re,!1),ye!==null&&ut!==null&&Wx(ne,ut,ye,Re,!0)}}e:{if(I=B?wi(B):window,Y=I.nodeName&&I.nodeName.toLowerCase(),Y==="select"||Y==="input"&&I.type==="file")var Ze=mp;else if(hp(I))if(pp)Ze=kj;else{Ze=Tj;var _e=Aj}else Y=I.nodeName,!Y||Y.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?B&&mu(B.elementType)&&(Ze=mp):Ze=Ej;if(Ze&&(Ze=Ze(t,B))){fp(ne,Ze,o,J);break e}_e&&_e(t,I,B),t==="focusout"&&B&&I.type==="number"&&B.memoizedProps.value!=null&&fu(I,"number",I.value)}switch(_e=B?wi(B):window,t){case"focusin":(hp(_e)||_e.contentEditable==="true")&&(pr=_e,Eu=B,Ci=null);break;case"focusout":Ci=Eu=pr=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,Np(ne,o,J);break;case"selectionchange":if(Rj)break;case"keydown":case"keyup":Np(ne,o,J)}var Ie;if(Su)e:{switch(t){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else mr?up(t,o)&&(Qe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Qe="onCompositionStart");Qe&&(op&&o.locale!=="ko"&&(mr||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&mr&&(Ie=sp()):(Kn=J,bu="value"in Kn?Kn.value:Kn.textContent,mr=!0)),_e=Ql(B,Qe),0<_e.length&&(Qe=new rp(Qe,t,null,o,J),ne.push({event:Qe,listeners:_e}),Ie?Qe.data=Ie:(Ie=dp(o),Ie!==null&&(Qe.data=Ie)))),(Ie=wj?jj(t,o):Nj(t,o))&&(Qe=Ql(B,"onBeforeInput"),0<Qe.length&&(_e=new rp("onBeforeInput","beforeinput",null,o,J),ne.push({event:_e,listeners:Qe}),_e.data=Ie)),mN(ne,t,B,o,J)}Xx(ne,n)})}function to(t,n,o){return{instance:t,listener:n,currentTarget:o}}function Ql(t,n){for(var o=n+"Capture",l=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ji(t,o),h!=null&&l.unshift(to(t,h,m)),h=ji(t,n),h!=null&&l.push(to(t,h,m))),t.tag===3)return l;t=t.return}return[]}function yN(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wx(t,n,o,l,h){for(var m=n._reactName,y=[];o!==null&&o!==l;){var N=o,k=N.alternate,B=N.stateNode;if(N=N.tag,k!==null&&k===l)break;N!==5&&N!==26&&N!==27||B===null||(k=B,h?(B=ji(o,m),B!=null&&y.unshift(to(o,B,k))):h||(B=ji(o,m),B!=null&&y.push(to(o,B,k)))),o=o.return}y.length!==0&&t.push({event:n,listeners:y})}var bN=/\r\n?/g,vN=/\u0000|\uFFFD/g;function Jx(t){return(typeof t=="string"?t:""+t).replace(bN,`
`).replace(vN,"")}function Zx(t,n){return n=Jx(n),Jx(t)===n}function ct(t,n,o,l,h,m){switch(o){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dr(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dr(t,""+l);break;case"className":el(t,"class",l);break;case"tabIndex":el(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":el(t,o,l);break;case"style":Zm(t,l,m);break;case"data":if(n!=="object"){el(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||o!=="href")){t.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(o);break}l=sl(""+l),t.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(n!=="input"&&ct(t,n,"name",h.name,h,null),ct(t,n,"formEncType",h.formEncType,h,null),ct(t,n,"formMethod",h.formMethod,h,null),ct(t,n,"formTarget",h.formTarget,h,null)):(ct(t,n,"encType",h.encType,h,null),ct(t,n,"method",h.method,h,null),ct(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(o);break}l=sl(""+l),t.setAttribute(o,l);break;case"onClick":l!=null&&(t.onclick=wn);break;case"onScroll":l!=null&&Ke("scroll",t);break;case"onScrollEnd":l!=null&&Ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(o=l.__html,o!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}o=sl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(o,""+l):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":l===!0?t.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(o,l):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(o,l):t.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(o):t.setAttribute(o,l);break;case"popover":Ke("beforetoggle",t),Ke("toggle",t),Zo(t,"popover",l);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Zo(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Yw.get(o)||o,Zo(t,o,l))}}function eh(t,n,o,l,h,m){switch(o){case"style":Zm(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(o=l.__html,o!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"children":typeof l=="string"?dr(t,l):(typeof l=="number"||typeof l=="bigint")&&dr(t,""+l);break;case"onScroll":l!=null&&Ke("scroll",t);break;case"onScrollEnd":l!=null&&Ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hm.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),n=o.slice(2,h?o.length-7:void 0),m=t[is]||null,m=m!=null?m[o]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(n,l,h);break e}o in t?t[o]=l:l===!0?t.setAttribute(o,""):Zo(t,o,l)}}}function us(t,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",t),Ke("load",t);var l=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var y=o[m];if(y!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ct(t,n,m,y,o,null)}}h&&ct(t,n,"srcSet",o.srcSet,o,null),l&&ct(t,n,"src",o.src,o,null);return;case"input":Ke("invalid",t);var N=m=y=h=null,k=null,B=null;for(l in o)if(o.hasOwnProperty(l)){var J=o[l];if(J!=null)switch(l){case"name":h=J;break;case"type":y=J;break;case"checked":k=J;break;case"defaultChecked":B=J;break;case"value":m=J;break;case"defaultValue":N=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,n));break;default:ct(t,n,l,J,o,null)}}Xm(t,m,N,k,B,y,h,!1);return;case"select":Ke("invalid",t),l=y=m=null;for(h in o)if(o.hasOwnProperty(h)&&(N=o[h],N!=null))switch(h){case"value":m=N;break;case"defaultValue":y=N;break;case"multiple":l=N;default:ct(t,n,h,N,o,null)}n=m,o=y,t.multiple=!!l,n!=null?ur(t,!!l,n,!1):o!=null&&ur(t,!!l,o,!0);return;case"textarea":Ke("invalid",t),m=h=l=null;for(y in o)if(o.hasOwnProperty(y)&&(N=o[y],N!=null))switch(y){case"value":l=N;break;case"defaultValue":h=N;break;case"children":m=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:ct(t,n,y,N,o,null)}Wm(t,l,h,m);return;case"option":for(k in o)o.hasOwnProperty(k)&&(l=o[k],l!=null)&&(k==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ct(t,n,k,l,o,null));return;case"dialog":Ke("beforetoggle",t),Ke("toggle",t),Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":Ke("load",t);break;case"video":case"audio":for(l=0;l<eo.length;l++)Ke(eo[l],t);break;case"image":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"embed":case"source":case"link":Ke("error",t),Ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(l=o[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ct(t,n,B,l,o,null)}return;default:if(mu(n)){for(J in o)o.hasOwnProperty(J)&&(l=o[J],l!==void 0&&eh(t,n,J,l,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(l=o[N],l!=null&&ct(t,n,N,l,o,null))}function wN(t,n,o,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,y=null,N=null,k=null,B=null,J=null;for(Y in o){var ne=o[Y];if(o.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":k=ne;default:l.hasOwnProperty(Y)||ct(t,n,Y,null,l,ne)}}for(var I in l){var Y=l[I];if(ne=o[I],l.hasOwnProperty(I)&&(Y!=null||ne!=null))switch(I){case"type":m=Y;break;case"name":h=Y;break;case"checked":B=Y;break;case"defaultChecked":J=Y;break;case"value":y=Y;break;case"defaultValue":N=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Y!==ne&&ct(t,n,I,Y,l,ne)}}hu(t,y,N,k,B,J,m,h);return;case"select":Y=y=N=I=null;for(m in o)if(k=o[m],o.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":Y=k;default:l.hasOwnProperty(m)||ct(t,n,m,null,l,k)}for(h in l)if(m=l[h],k=o[h],l.hasOwnProperty(h)&&(m!=null||k!=null))switch(h){case"value":I=m;break;case"defaultValue":N=m;break;case"multiple":y=m;default:m!==k&&ct(t,n,h,m,l,k)}n=N,o=y,l=Y,I!=null?ur(t,!!o,I,!1):!!l!=!!o&&(n!=null?ur(t,!!o,n,!0):ur(t,!!o,o?[]:"",!1));return;case"textarea":Y=I=null;for(N in o)if(h=o[N],o.hasOwnProperty(N)&&h!=null&&!l.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:ct(t,n,N,null,l,h)}for(y in l)if(h=l[y],m=o[y],l.hasOwnProperty(y)&&(h!=null||m!=null))switch(y){case"value":I=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==m&&ct(t,n,y,h,l,m)}Qm(t,I,Y);return;case"option":for(var ye in o)I=o[ye],o.hasOwnProperty(ye)&&I!=null&&!l.hasOwnProperty(ye)&&(ye==="selected"?t.selected=!1:ct(t,n,ye,null,l,I));for(k in l)I=l[k],Y=o[k],l.hasOwnProperty(k)&&I!==Y&&(I!=null||Y!=null)&&(k==="selected"?t.selected=I&&typeof I!="function"&&typeof I!="symbol":ct(t,n,k,I,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)I=o[Re],o.hasOwnProperty(Re)&&I!=null&&!l.hasOwnProperty(Re)&&ct(t,n,Re,null,l,I);for(B in l)if(I=l[B],Y=o[B],l.hasOwnProperty(B)&&I!==Y&&(I!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,n));break;default:ct(t,n,B,I,l,Y)}return;default:if(mu(n)){for(var ut in o)I=o[ut],o.hasOwnProperty(ut)&&I!==void 0&&!l.hasOwnProperty(ut)&&eh(t,n,ut,void 0,l,I);for(J in l)I=l[J],Y=o[J],!l.hasOwnProperty(J)||I===Y||I===void 0&&Y===void 0||eh(t,n,J,I,l,Y);return}}for(var M in o)I=o[M],o.hasOwnProperty(M)&&I!=null&&!l.hasOwnProperty(M)&&ct(t,n,M,null,l,I);for(ne in l)I=l[ne],Y=o[ne],!l.hasOwnProperty(ne)||I===Y||I==null&&Y==null||ct(t,n,ne,I,l,Y)}function ey(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,o=performance.getEntriesByType("resource"),l=0;l<o.length;l++){var h=o[l],m=h.transferSize,y=h.initiatorType,N=h.duration;if(m&&N&&ey(y)){for(y=0,N=h.responseEnd,l+=1;l<o.length;l++){var k=o[l],B=k.startTime;if(B>N)break;var J=k.transferSize,ne=k.initiatorType;J&&ey(ne)&&(k=k.responseEnd,y+=J*(k<N?1:(N-B)/(k-B)))}if(--l,n+=8*(m+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var th=null,sh=null;function Wl(t){return t.nodeType===9?t:t.ownerDocument}function ty(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function nh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ah=null;function NN(){var t=window.event;return t&&t.type==="popstate"?t===ah?!1:(ah=t,!0):(ah=null,!1)}var ny=typeof setTimeout=="function"?setTimeout:void 0,SN=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,_N=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(t){return ay.resolve(null).then(t).catch(AN)}:ny;function AN(t){setTimeout(function(){throw t})}function ca(t){return t==="head"}function ry(t,n){var o=n,l=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(l===0){t.removeChild(h),Ir(n);return}l--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")l++;else if(o==="html")so(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,so(o);for(var m=o.firstChild;m;){var y=m.nextSibling,N=m.nodeName;m[vi]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=y}}else o==="body"&&so(t.ownerDocument.body);o=h}while(o);Ir(n)}function iy(t,n){var o=t;t=0;do{var l=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),l&&l.nodeType===8)if(o=l.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=l}while(o)}function rh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rh(o),uu(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function TN(t,n,o,l){for(;t.nodeType===1;){var h=o;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Xs(t.nextSibling),t===null)break}return null}function EN(t,n,o){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Xs(t.nextSibling),t===null))return null;return t}function oy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xs(t.nextSibling),t===null))return null;return t}function ih(t){return t.data==="$?"||t.data==="$~"}function oh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kN(t,n){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||o.readyState!=="loading")n();else{var l=function(){n(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xs(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var lh=null;function ly(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(n===0)return Xs(t.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}t=t.nextSibling}return null}function cy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return t;n--}else o!=="/$"&&o!=="/&"||n++}t=t.previousSibling}return null}function uy(t,n,o){switch(n=Wl(o),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function so(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);uu(t)}var Qs=new Map,dy=new Set;function Jl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ln=W.d;W.d={f:CN,r:RN,D:ON,C:DN,L:MN,m:zN,X:LN,S:UN,M:PN};function CN(){var t=Ln.f(),n=ql();return t||n}function RN(t){var n=or(t);n!==null&&n.tag===5&&n.type==="form"?Eg(n):Ln.r(t)}var Br=typeof document>"u"?null:document;function hy(t,n,o){var l=Br;if(l&&typeof n=="string"&&n){var h=Is(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),dy.has(h)||(dy.add(h),t={rel:t,crossOrigin:o,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),us(n,"link",t),ss(n),l.head.appendChild(n)))}}function ON(t){Ln.D(t),hy("dns-prefetch",t,null)}function DN(t,n){Ln.C(t,n),hy("preconnect",t,n)}function MN(t,n,o){Ln.L(t,n,o);var l=Br;if(l&&t&&n){var h='link[rel="preload"][as="'+Is(n)+'"]';n==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Is(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Is(o.imageSizes)+'"]')):h+='[href="'+Is(t)+'"]';var m=h;switch(n){case"style":m=Vr(t);break;case"script":m=$r(t)}Qs.has(m)||(t=b({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:t,as:n},o),Qs.set(m,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(no(m))||n==="script"&&l.querySelector(ao(m))||(n=l.createElement("link"),us(n,"link",t),ss(n),l.head.appendChild(n)))}}function zN(t,n){Ln.m(t,n);var o=Br;if(o&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Is(l)+'"][href="'+Is(t)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=$r(t)}if(!Qs.has(m)&&(t=b({rel:"modulepreload",href:t},n),Qs.set(m,t),o.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ao(m)))return}l=o.createElement("link"),us(l,"link",t),ss(l),o.head.appendChild(l)}}}function UN(t,n,o){Ln.S(t,n,o);var l=Br;if(l&&t){var h=lr(l).hoistableStyles,m=Vr(t);n=n||"default";var y=h.get(m);if(!y){var N={loading:0,preload:null};if(y=l.querySelector(no(m)))N.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},o),(o=Qs.get(m))&&ch(t,o);var k=y=l.createElement("link");ss(k),us(k,"link",t),k._p=new Promise(function(B,J){k.onload=B,k.onerror=J}),k.addEventListener("load",function(){N.loading|=1}),k.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Zl(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:N},h.set(m,y)}}}function LN(t,n){Ln.X(t,n);var o=Br;if(o&&t){var l=lr(o).hoistableScripts,h=$r(t),m=l.get(h);m||(m=o.querySelector(ao(h)),m||(t=b({src:t,async:!0},n),(n=Qs.get(h))&&uh(t,n),m=o.createElement("script"),ss(m),us(m,"link",t),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function PN(t,n){Ln.M(t,n);var o=Br;if(o&&t){var l=lr(o).hoistableScripts,h=$r(t),m=l.get(h);m||(m=o.querySelector(ao(h)),m||(t=b({src:t,async:!0,type:"module"},n),(n=Qs.get(h))&&uh(t,n),m=o.createElement("script"),ss(m),us(m,"link",t),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function fy(t,n,o,l){var h=(h=fe.current)?Jl(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Vr(o.href),o=lr(h).hoistableStyles,l=o.get(n),l||(l={type:"style",instance:null,count:0,state:null},o.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Vr(o.href);var m=lr(h).hoistableStyles,y=m.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,y),(m=h.querySelector(no(t)))&&!m._p&&(y.instance=m,y.state.loading=5),Qs.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Qs.set(t,o),m||BN(h,t,o,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$r(o),o=lr(h).hoistableScripts,l=o.get(n),l||(l={type:"script",instance:null,count:0,state:null},o.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Vr(t){return'href="'+Is(t)+'"'}function no(t){return'link[rel="stylesheet"]['+t+"]"}function my(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function BN(t,n,o,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),us(n,"link",o),ss(n),t.head.appendChild(n))}function $r(t){return'[src="'+Is(t)+'"]'}function ao(t){return"script[async]"+t}function py(t,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Is(o.href)+'"]');if(l)return n.instance=l,ss(l),l;var h=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ss(l),us(l,"style",h),Zl(l,o.precedence,t),n.instance=l;case"stylesheet":h=Vr(o.href);var m=t.querySelector(no(h));if(m)return n.state.loading|=4,n.instance=m,ss(m),m;l=my(o),(h=Qs.get(h))&&ch(l,h),m=(t.ownerDocument||t).createElement("link"),ss(m);var y=m;return y._p=new Promise(function(N,k){y.onload=N,y.onerror=k}),us(m,"link",l),n.state.loading|=4,Zl(m,o.precedence,t),n.instance=m;case"script":return m=$r(o.src),(h=t.querySelector(ao(m)))?(n.instance=h,ss(h),h):(l=o,(h=Qs.get(m))&&(l=b({},o),uh(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ss(h),us(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Zl(l,o.precedence,t));return n.instance}function Zl(t,n,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,y=0;y<l.length;y++){var N=l[y];if(N.dataset.precedence===n)m=N;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(t,n.firstChild))}function ch(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function uh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ec=null;function gy(t,n,o){if(ec===null){var l=new Map,h=ec=new Map;h.set(o,l)}else h=ec,l=h.get(o),l||(l=new Map,h.set(o,l));if(l.has(t))return l;for(l.set(t,null),o=o.getElementsByTagName(t),h=0;h<o.length;h++){var m=o[h];if(!(m[vi]||m[gt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var y=m.getAttribute(n)||"";y=t+y;var N=l.get(y);N?N.push(m):l.set(y,[m])}}return l}function xy(t,n,o){t=t.ownerDocument||t,t.head.insertBefore(o,n==="title"?t.querySelector("head > title"):null)}function VN(t,n,o){if(o===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $N(t,n,o,l){if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=Vr(l.href),m=n.querySelector(no(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=tc.bind(t),n.then(t,t)),o.state.loading|=4,o.instance=m,ss(m);return}m=n.ownerDocument||n,l=my(l),(h=Qs.get(h))&&ch(l,h),m=m.createElement("link"),ss(m);var y=m;y._p=new Promise(function(N,k){y.onload=N,y.onerror=k}),us(m,"link",l),o.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=tc.bind(t),n.addEventListener("load",o),n.addEventListener("error",o))}}var dh=0;function IN(t,n){return t.stylesheets&&t.count===0&&nc(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var l=setTimeout(function(){if(t.stylesheets&&nc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&dh===0&&(dh=62500*jN());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>dh?50:800)+n);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sc=null;function nc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sc=new Map,n.forEach(qN,t),sc=null,tc.call(t))}function qN(t,n){if(!(n.state.loading&4)){var o=sc.get(t);if(o)var l=o.get(null);else{o=new Map,sc.set(t,o);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var y=h[m];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(o.set(y.dataset.precedence,y),l=y)}l&&o.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),m=o.get(y)||l,m===l&&o.set(null,h),o.set(y,h),this.count++,l=tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ro={$$typeof:T,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function HN(t,n,o,l,h,m,y,N,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.hiddenUpdates=pt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function by(t,n,o,l,h,m,y,N,k,B,J,ne){return t=new HN(t,n,o,y,k,B,J,ne,N),n=1,m===!0&&(n|=24),m=Ds(3,null,null,n),t.current=m,m.stateNode=t,n=Hu(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:l,isDehydrated:o,cache:n},Yu(m),t}function vy(t){return t?(t=yr,t):yr}function wy(t,n,o,l,h,m){h=vy(h),l.context===null?l.context=h:l.pendingContext=h,l=Jn(n),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=Zn(t,l,n),o!==null&&(Es(o,t,n),Li(o,t,n))}function jy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function hh(t,n){jy(t,n),(t=t.alternate)&&jy(t,n)}function Ny(t){if(t.tag===13||t.tag===31){var n=Ca(t,67108864);n!==null&&Es(n,t,67108864),hh(t,67108864)}}function Sy(t){if(t.tag===13||t.tag===31){var n=Ps();n=bi(n);var o=Ca(t,n);o!==null&&Es(o,t,n),hh(t,n)}}var ac=!0;function GN(t,n,o,l){var h=U.T;U.T=null;var m=W.p;try{W.p=2,fh(t,n,o,l)}finally{W.p=m,U.T=h}}function KN(t,n,o,l){var h=U.T;U.T=null;var m=W.p;try{W.p=8,fh(t,n,o,l)}finally{W.p=m,U.T=h}}function fh(t,n,o,l){if(ac){var h=mh(l);if(h===null)Zd(t,n,l,rc,o),Ay(t,l);else if(YN(h,t,n,o,l))l.stopPropagation();else if(Ay(t,l),n&4&&-1<FN.indexOf(t)){for(;h!==null;){var m=or(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var y=Pe(m.pendingLanes);if(y!==0){var N=m;for(N.pendingLanes|=2,N.entangledLanes|=2;y;){var k=1<<31-z(y);N.entanglements[1]|=k,y&=~k}gn(m),(st&6)===0&&($l=ae()+500,Zi(0))}}break;case 31:case 13:N=Ca(m,2),N!==null&&Es(N,m,2),ql(),hh(m,2)}if(m=mh(l),m===null&&Zd(t,n,l,rc,o),m===h)break;h=m}h!==null&&l.stopPropagation()}else Zd(t,n,l,null,o)}}function mh(t){return t=gu(t),ph(t)}var rc=null;function ph(t){if(rc=null,t=ir(t),t!==null){var n=u(t);if(n===null)t=null;else{var o=n.tag;if(o===13){if(t=d(n),t!==null)return t;t=null}else if(o===31){if(t=f(n),t!==null)return t;t=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return rc=t,null}function _y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($t()){case en:return 2;case ms:return 8;case mt:case Yt:return 32;case Xt:return 268435456;default:return 32}default:return 32}}var gh=!1,ua=null,da=null,ha=null,io=new Map,oo=new Map,fa=[],FN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ay(t,n){switch(t){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(n.pointerId)}}function lo(t,n,o,l,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},n!==null&&(n=or(n),n!==null&&Ny(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function YN(t,n,o,l,h){switch(n){case"focusin":return ua=lo(ua,t,n,o,l,h),!0;case"dragenter":return da=lo(da,t,n,o,l,h),!0;case"mouseover":return ha=lo(ha,t,n,o,l,h),!0;case"pointerover":var m=h.pointerId;return io.set(m,lo(io.get(m)||null,t,n,o,l,h)),!0;case"gotpointercapture":return m=h.pointerId,oo.set(m,lo(oo.get(m)||null,t,n,o,l,h)),!0}return!1}function Ty(t){var n=ir(t.target);if(n!==null){var o=u(n);if(o!==null){if(n=o.tag,n===13){if(n=d(o),n!==null){t.blockedOn=n,St(t.priority,function(){Sy(o)});return}}else if(n===31){if(n=f(o),n!==null){t.blockedOn=n,St(t.priority,function(){Sy(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ic(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var o=mh(t.nativeEvent);if(o===null){o=t.nativeEvent;var l=new o.constructor(o.type,o);pu=l,o.target.dispatchEvent(l),pu=null}else return n=or(o),n!==null&&Ny(n),t.blockedOn=o,!1;n.shift()}return!0}function Ey(t,n,o){ic(t)&&o.delete(n)}function XN(){gh=!1,ua!==null&&ic(ua)&&(ua=null),da!==null&&ic(da)&&(da=null),ha!==null&&ic(ha)&&(ha=null),io.forEach(Ey),oo.forEach(Ey)}function oc(t,n){t.blockedOn===n&&(t.blockedOn=null,gh||(gh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,XN)))}var lc=null;function ky(t){lc!==t&&(lc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){lc===t&&(lc=null);for(var n=0;n<t.length;n+=3){var o=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(ph(l||o)===null)continue;break}var m=or(o);m!==null&&(t.splice(n,3),n-=3,md(m,{pending:!0,data:h,method:o.method,action:l},l,h))}}))}function Ir(t){function n(k){return oc(k,t)}ua!==null&&oc(ua,t),da!==null&&oc(da,t),ha!==null&&oc(ha,t),io.forEach(n),oo.forEach(n);for(var o=0;o<fa.length;o++){var l=fa[o];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fa.length&&(o=fa[0],o.blockedOn===null);)Ty(o),o.blockedOn===null&&fa.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var h=o[l],m=o[l+1],y=h[is]||null;if(typeof m=="function")y||ky(o);else if(y){var N=null;if(m&&m.hasAttribute("formAction")){if(h=m,y=m[is]||null)N=y.formAction;else if(ph(h)!==null)continue}else N=y.action;typeof N=="function"?o[l+1]=N:(o.splice(l,3),l-=3),ky(o)}}}function Cy(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(o,20)}function o(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xh(t){this._internalRoot=t}cc.prototype.render=xh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var o=n.current,l=Ps();wy(o,l,t,n,null,null)},cc.prototype.unmount=xh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;wy(t.current,2,null,t,null,null),ql(),n[rr]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=$();t={blockedOn:null,target:t,priority:n};for(var o=0;o<fa.length&&n!==0&&n<fa[o].priority;o++);fa.splice(o,0,t),o===0&&Ty(t)}};var Ry=e.version;if(Ry!=="19.2.4")throw Error(r(527,Ry,"19.2.4"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var QN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Ve=uc.inject(QN),Ye=uc}catch{}}return uo.createRoot=function(t,n){if(!c(t))throw Error(r(299));var o=!1,l="",h=Pg,m=Bg,y=Vg;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=by(t,1,!1,null,null,o,l,null,h,m,y,Cy),t[rr]=n.current,Jd(t),new xh(n)},uo.hydrateRoot=function(t,n,o){if(!c(t))throw Error(r(299));var l=!1,h="",m=Pg,y=Bg,N=Vg,k=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),n=by(t,1,!0,n,o??null,l,h,k,m,y,N,Cy),n.context=vy(null),o=n.current,l=Ps(),l=bi(l),h=Jn(l),h.callback=null,Zn(o,h,l),o=l,n.current.lanes=o,Ut(n,o),gn(n),t[rr]=n.current,Jd(t),new cc(n)},uo.version="19.2.4",uo}var $y;function iS(){if($y)return vh.exports;$y=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),vh.exports=rS(),vh.exports}var oS=iS();let ba=null;const yo=[];window.addEventListener("beforeinstallprompt",s=>{s.preventDefault(),ba=s,yo.forEach(e=>e(ba))});window.addEventListener("appinstalled",()=>{ba=null,yo.forEach(s=>s(null))});function lS(){return ba}function cS(s){return yo.push(s),()=>{const e=yo.indexOf(s);e>=0&&yo.splice(e,1)}}async function uS(){if(!ba)return!1;try{await ba.prompt();const{outcome:s}=await ba.userChoice;return ba=null,s==="accepted"}catch{return!1}}function sv(s,e){return function(){return s.apply(e,arguments)}}const{toString:dS}=Object.prototype,{getPrototypeOf:Wf}=Object,{iterator:Qc,toStringTag:nv}=Symbol,Wc=(s=>e=>{const a=dS.call(e);return s[a]||(s[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),hn=s=>(s=s.toLowerCase(),e=>Wc(e)===s),Jc=s=>e=>typeof e===s,{isArray:mi}=Array,di=Jc("undefined");function $o(s){return s!==null&&!di(s)&&s.constructor!==null&&!di(s.constructor)&&ks(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const av=hn("ArrayBuffer");function hS(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&av(s.buffer),e}const fS=Jc("string"),ks=Jc("function"),rv=Jc("number"),Io=s=>s!==null&&typeof s=="object",mS=s=>s===!0||s===!1,Sc=s=>{if(Wc(s)!=="object")return!1;const e=Wf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(nv in s)&&!(Qc in s)},pS=s=>{if(!Io(s)||$o(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},gS=hn("Date"),xS=hn("File"),yS=hn("Blob"),bS=hn("FileList"),vS=s=>Io(s)&&ks(s.pipe),wS=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||ks(s.append)&&((e=Wc(s))==="formdata"||e==="object"&&ks(s.toString)&&s.toString()==="[object FormData]"))},jS=hn("URLSearchParams"),[NS,SS,_S,AS]=["ReadableStream","Request","Response","Headers"].map(hn),TS=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qo(s,e,{allOwnKeys:a=!1}={}){if(s===null||typeof s>"u")return;let r,c;if(typeof s!="object"&&(s=[s]),mi(s))for(r=0,c=s.length;r<c;r++)e.call(null,s[r],r,s);else{if($o(s))return;const u=a?Object.getOwnPropertyNames(s):Object.keys(s),d=u.length;let f;for(r=0;r<d;r++)f=u[r],e.call(null,s[f],f,s)}}function iv(s,e){if($o(s))return null;e=e.toLowerCase();const a=Object.keys(s);let r=a.length,c;for(;r-- >0;)if(c=a[r],e===c.toLowerCase())return c;return null}const Qa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ov=s=>!di(s)&&s!==Qa;function af(){const{caseless:s,skipUndefined:e}=ov(this)&&this||{},a={},r=(c,u)=>{if(u==="__proto__"||u==="constructor"||u==="prototype")return;const d=s&&iv(a,u)||u;Sc(a[d])&&Sc(c)?a[d]=af(a[d],c):Sc(c)?a[d]=af({},c):mi(c)?a[d]=c.slice():(!e||!di(c))&&(a[d]=c)};for(let c=0,u=arguments.length;c<u;c++)arguments[c]&&qo(arguments[c],r);return a}const ES=(s,e,a,{allOwnKeys:r}={})=>(qo(e,(c,u)=>{a&&ks(c)?Object.defineProperty(s,u,{value:sv(c,a),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(s,u,{value:c,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),s),kS=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),CS=(s,e,a,r)=>{s.prototype=Object.create(e.prototype,r),Object.defineProperty(s.prototype,"constructor",{value:s,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(s,"super",{value:e.prototype}),a&&Object.assign(s.prototype,a)},RS=(s,e,a,r)=>{let c,u,d;const f={};if(e=e||{},s==null)return e;do{for(c=Object.getOwnPropertyNames(s),u=c.length;u-- >0;)d=c[u],(!r||r(d,s,e))&&!f[d]&&(e[d]=s[d],f[d]=!0);s=a!==!1&&Wf(s)}while(s&&(!a||a(s,e))&&s!==Object.prototype);return e},OS=(s,e,a)=>{s=String(s),(a===void 0||a>s.length)&&(a=s.length),a-=e.length;const r=s.indexOf(e,a);return r!==-1&&r===a},DS=s=>{if(!s)return null;if(mi(s))return s;let e=s.length;if(!rv(e))return null;const a=new Array(e);for(;e-- >0;)a[e]=s[e];return a},MS=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&Wf(Uint8Array)),zS=(s,e)=>{const r=(s&&s[Qc]).call(s);let c;for(;(c=r.next())&&!c.done;){const u=c.value;e.call(s,u[0],u[1])}},US=(s,e)=>{let a;const r=[];for(;(a=s.exec(e))!==null;)r.push(a);return r},LS=hn("HTMLFormElement"),PS=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,c){return r.toUpperCase()+c}),Iy=(({hasOwnProperty:s})=>(e,a)=>s.call(e,a))(Object.prototype),BS=hn("RegExp"),lv=(s,e)=>{const a=Object.getOwnPropertyDescriptors(s),r={};qo(a,(c,u)=>{let d;(d=e(c,u,s))!==!1&&(r[u]=d||c)}),Object.defineProperties(s,r)},VS=s=>{lv(s,(e,a)=>{if(ks(s)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=s[a];if(ks(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},$S=(s,e)=>{const a={},r=c=>{c.forEach(u=>{a[u]=!0})};return mi(s)?r(s):r(String(s).split(e)),a},IS=()=>{},qS=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function HS(s){return!!(s&&ks(s.append)&&s[nv]==="FormData"&&s[Qc])}const GS=s=>{const e=new Array(10),a=(r,c)=>{if(Io(r)){if(e.indexOf(r)>=0)return;if($o(r))return r;if(!("toJSON"in r)){e[c]=r;const u=mi(r)?[]:{};return qo(r,(d,f)=>{const p=a(d,c+1);!di(p)&&(u[f]=p)}),e[c]=void 0,u}}return r};return a(s,0)},KS=hn("AsyncFunction"),FS=s=>s&&(Io(s)||ks(s))&&ks(s.then)&&ks(s.catch),cv=((s,e)=>s?setImmediate:e?((a,r)=>(Qa.addEventListener("message",({source:c,data:u})=>{c===Qa&&u===a&&r.length&&r.shift()()},!1),c=>{r.push(c),Qa.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",ks(Qa.postMessage)),YS=typeof queueMicrotask<"u"?queueMicrotask.bind(Qa):typeof process<"u"&&process.nextTick||cv,XS=s=>s!=null&&ks(s[Qc]),K={isArray:mi,isArrayBuffer:av,isBuffer:$o,isFormData:wS,isArrayBufferView:hS,isString:fS,isNumber:rv,isBoolean:mS,isObject:Io,isPlainObject:Sc,isEmptyObject:pS,isReadableStream:NS,isRequest:SS,isResponse:_S,isHeaders:AS,isUndefined:di,isDate:gS,isFile:xS,isBlob:yS,isRegExp:BS,isFunction:ks,isStream:vS,isURLSearchParams:jS,isTypedArray:MS,isFileList:bS,forEach:qo,merge:af,extend:ES,trim:TS,stripBOM:kS,inherits:CS,toFlatObject:RS,kindOf:Wc,kindOfTest:hn,endsWith:OS,toArray:DS,forEachEntry:zS,matchAll:US,isHTMLForm:LS,hasOwnProperty:Iy,hasOwnProp:Iy,reduceDescriptors:lv,freezeMethods:VS,toObjectSet:$S,toCamelCase:PS,noop:IS,toFiniteNumber:qS,findKey:iv,global:Qa,isContextDefined:ov,isSpecCompliantForm:HS,toJSONObject:GS,isAsyncFn:KS,isThenable:FS,setImmediate:cv,asap:YS,isIterable:XS};let ze=class uv extends Error{static from(e,a,r,c,u,d){const f=new uv(e.message,a||e.code,r,c,u);return f.cause=e,f.name=e.name,d&&Object.assign(f,d),f}constructor(e,a,r,c,u){super(e),this.name="AxiosError",this.isAxiosError=!0,a&&(this.code=a),r&&(this.config=r),c&&(this.request=c),u&&(this.response=u,this.status=u.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}};ze.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";ze.ERR_BAD_OPTION="ERR_BAD_OPTION";ze.ECONNABORTED="ECONNABORTED";ze.ETIMEDOUT="ETIMEDOUT";ze.ERR_NETWORK="ERR_NETWORK";ze.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";ze.ERR_DEPRECATED="ERR_DEPRECATED";ze.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";ze.ERR_BAD_REQUEST="ERR_BAD_REQUEST";ze.ERR_CANCELED="ERR_CANCELED";ze.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";ze.ERR_INVALID_URL="ERR_INVALID_URL";const QS=null;function rf(s){return K.isPlainObject(s)||K.isArray(s)}function dv(s){return K.endsWith(s,"[]")?s.slice(0,-2):s}function qy(s,e,a){return s?s.concat(e).map(function(c,u){return c=dv(c),!a&&u?"["+c+"]":c}).join(a?".":""):e}function WS(s){return K.isArray(s)&&!s.some(rf)}const JS=K.toFlatObject(K,{},null,function(e){return/^is[A-Z]/.test(e)});function Zc(s,e,a){if(!K.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,a=K.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,_){return!K.isUndefined(_[A])});const r=a.metaTokens,c=a.visitor||x,u=a.dots,d=a.indexes,p=(a.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(c))throw new TypeError("visitor must be a function");function g(w){if(w===null)return"";if(K.isDate(w))return w.toISOString();if(K.isBoolean(w))return w.toString();if(!p&&K.isBlob(w))throw new ze("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(w)||K.isTypedArray(w)?p&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function x(w,A,_){let C=w;if(w&&!_&&typeof w=="object"){if(K.endsWith(A,"{}"))A=r?A:A.slice(0,-2),w=JSON.stringify(w);else if(K.isArray(w)&&WS(w)||(K.isFileList(w)||K.endsWith(A,"[]"))&&(C=K.toArray(w)))return A=dv(A),C.forEach(function(T,L){!(K.isUndefined(T)||T===null)&&e.append(d===!0?qy([A],L,u):d===null?A:A+"[]",g(T))}),!1}return rf(w)?!0:(e.append(qy(_,A,u),g(w)),!1)}const b=[],v=Object.assign(JS,{defaultVisitor:x,convertValue:g,isVisitable:rf});function j(w,A){if(!K.isUndefined(w)){if(b.indexOf(w)!==-1)throw Error("Circular reference detected in "+A.join("."));b.push(w),K.forEach(w,function(C,D){(!(K.isUndefined(C)||C===null)&&c.call(e,C,K.isString(D)?D.trim():D,A,v))===!0&&j(C,A?A.concat(D):[D])}),b.pop()}}if(!K.isObject(s))throw new TypeError("data must be an object");return j(s),e}function Hy(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Jf(s,e){this._pairs=[],s&&Zc(s,this,e)}const hv=Jf.prototype;hv.append=function(e,a){this._pairs.push([e,a])};hv.toString=function(e){const a=e?function(r){return e.call(this,r,Hy)}:Hy;return this._pairs.map(function(c){return a(c[0])+"="+a(c[1])},"").join("&")};function ZS(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function fv(s,e,a){if(!e)return s;const r=a&&a.encode||ZS,c=K.isFunction(a)?{serialize:a}:a,u=c&&c.serialize;let d;if(u?d=u(e,c):d=K.isURLSearchParams(e)?e.toString():new Jf(e,c).toString(r),d){const f=s.indexOf("#");f!==-1&&(s=s.slice(0,f)),s+=(s.indexOf("?")===-1?"?":"&")+d}return s}class Gy{constructor(){this.handlers=[]}use(e,a,r){return this.handlers.push({fulfilled:e,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Zf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},e2=typeof URLSearchParams<"u"?URLSearchParams:Jf,t2=typeof FormData<"u"?FormData:null,s2=typeof Blob<"u"?Blob:null,n2={isBrowser:!0,classes:{URLSearchParams:e2,FormData:t2,Blob:s2},protocols:["http","https","file","blob","url","data"]},em=typeof window<"u"&&typeof document<"u",of=typeof navigator=="object"&&navigator||void 0,a2=em&&(!of||["ReactNative","NativeScript","NS"].indexOf(of.product)<0),r2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",i2=em&&window.location.href||"http://localhost",o2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:em,hasStandardBrowserEnv:a2,hasStandardBrowserWebWorkerEnv:r2,navigator:of,origin:i2},Symbol.toStringTag,{value:"Module"})),gs={...o2,...n2};function l2(s,e){return Zc(s,new gs.classes.URLSearchParams,{visitor:function(a,r,c,u){return gs.isNode&&K.isBuffer(a)?(this.append(r,a.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...e})}function c2(s){return K.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function u2(s){const e={},a=Object.keys(s);let r;const c=a.length;let u;for(r=0;r<c;r++)u=a[r],e[u]=s[u];return e}function mv(s){function e(a,r,c,u){let d=a[u++];if(d==="__proto__")return!0;const f=Number.isFinite(+d),p=u>=a.length;return d=!d&&K.isArray(c)?c.length:d,p?(K.hasOwnProp(c,d)?c[d]=[c[d],r]:c[d]=r,!f):((!c[d]||!K.isObject(c[d]))&&(c[d]=[]),e(a,r,c[d],u)&&K.isArray(c[d])&&(c[d]=u2(c[d])),!f)}if(K.isFormData(s)&&K.isFunction(s.entries)){const a={};return K.forEachEntry(s,(r,c)=>{e(c2(r),c,a,0)}),a}return null}function d2(s,e,a){if(K.isString(s))try{return(e||JSON.parse)(s),K.trim(s)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(s)}const Ho={transitional:Zf,adapter:["xhr","http","fetch"],transformRequest:[function(e,a){const r=a.getContentType()||"",c=r.indexOf("application/json")>-1,u=K.isObject(e);if(u&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return c?JSON.stringify(mv(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e)||K.isReadableStream(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return l2(e,this.formSerializer).toString();if((f=K.isFileList(e))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Zc(f?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||c?(a.setContentType("application/json",!1),d2(e)):e}],transformResponse:[function(e){const a=this.transitional||Ho.transitional,r=a&&a.forcedJSONParsing,c=this.responseType==="json";if(K.isResponse(e)||K.isReadableStream(e))return e;if(e&&K.isString(e)&&(r&&!this.responseType||c)){const d=!(a&&a.silentJSONParsing)&&c;try{return JSON.parse(e,this.parseReviver)}catch(f){if(d)throw f.name==="SyntaxError"?ze.from(f,ze.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gs.classes.FormData,Blob:gs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],s=>{Ho.headers[s]={}});const h2=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),f2=s=>{const e={};let a,r,c;return s&&s.split(`
`).forEach(function(d){c=d.indexOf(":"),a=d.substring(0,c).trim().toLowerCase(),r=d.substring(c+1).trim(),!(!a||e[a]&&h2[a])&&(a==="set-cookie"?e[a]?e[a].push(r):e[a]=[r]:e[a]=e[a]?e[a]+", "+r:r)}),e},Ky=Symbol("internals");function ho(s){return s&&String(s).trim().toLowerCase()}function _c(s){return s===!1||s==null?s:K.isArray(s)?s.map(_c):String(s)}function m2(s){const e=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(s);)e[r[1]]=r[2];return e}const p2=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Sh(s,e,a,r,c){if(K.isFunction(r))return r.call(this,e,a);if(c&&(e=a),!!K.isString(e)){if(K.isString(r))return e.indexOf(r)!==-1;if(K.isRegExp(r))return r.test(e)}}function g2(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,a,r)=>a.toUpperCase()+r)}function x2(s,e){const a=K.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(s,r+a,{value:function(c,u,d){return this[r].call(this,e,c,u,d)},configurable:!0})})}let Cs=class{constructor(e){e&&this.set(e)}set(e,a,r){const c=this;function u(f,p,g){const x=ho(p);if(!x)throw new Error("header name must be a non-empty string");const b=K.findKey(c,x);(!b||c[b]===void 0||g===!0||g===void 0&&c[b]!==!1)&&(c[b||p]=_c(f))}const d=(f,p)=>K.forEach(f,(g,x)=>u(g,x,p));if(K.isPlainObject(e)||e instanceof this.constructor)d(e,a);else if(K.isString(e)&&(e=e.trim())&&!p2(e))d(f2(e),a);else if(K.isObject(e)&&K.isIterable(e)){let f={},p,g;for(const x of e){if(!K.isArray(x))throw TypeError("Object iterator must return a key-value pair");f[g=x[0]]=(p=f[g])?K.isArray(p)?[...p,x[1]]:[p,x[1]]:x[1]}d(f,a)}else e!=null&&u(a,e,r);return this}get(e,a){if(e=ho(e),e){const r=K.findKey(this,e);if(r){const c=this[r];if(!a)return c;if(a===!0)return m2(c);if(K.isFunction(a))return a.call(this,c,r);if(K.isRegExp(a))return a.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,a){if(e=ho(e),e){const r=K.findKey(this,e);return!!(r&&this[r]!==void 0&&(!a||Sh(this,this[r],r,a)))}return!1}delete(e,a){const r=this;let c=!1;function u(d){if(d=ho(d),d){const f=K.findKey(r,d);f&&(!a||Sh(r,r[f],f,a))&&(delete r[f],c=!0)}}return K.isArray(e)?e.forEach(u):u(e),c}clear(e){const a=Object.keys(this);let r=a.length,c=!1;for(;r--;){const u=a[r];(!e||Sh(this,this[u],u,e,!0))&&(delete this[u],c=!0)}return c}normalize(e){const a=this,r={};return K.forEach(this,(c,u)=>{const d=K.findKey(r,u);if(d){a[d]=_c(c),delete a[u];return}const f=e?g2(u):String(u).trim();f!==u&&delete a[u],a[f]=_c(c),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const a=Object.create(null);return K.forEach(this,(r,c)=>{r!=null&&r!==!1&&(a[c]=e&&K.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,a])=>e+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...a){const r=new this(e);return a.forEach(c=>r.set(c)),r}static accessor(e){const r=(this[Ky]=this[Ky]={accessors:{}}).accessors,c=this.prototype;function u(d){const f=ho(d);r[f]||(x2(c,d),r[f]=!0)}return K.isArray(e)?e.forEach(u):u(e),this}};Cs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(Cs.prototype,({value:s},e)=>{let a=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(r){this[a]=r}}});K.freezeMethods(Cs);function _h(s,e){const a=this||Ho,r=e||a,c=Cs.from(r.headers);let u=r.data;return K.forEach(s,function(f){u=f.call(a,u,c.normalize(),e?e.status:void 0)}),c.normalize(),u}function pv(s){return!!(s&&s.__CANCEL__)}let Go=class extends ze{constructor(e,a,r){super(e??"canceled",ze.ERR_CANCELED,a,r),this.name="CanceledError",this.__CANCEL__=!0}};function gv(s,e,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?s(a):e(new ze("Request failed with status code "+a.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function y2(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function b2(s,e){s=s||10;const a=new Array(s),r=new Array(s);let c=0,u=0,d;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),x=r[u];d||(d=g),a[c]=p,r[c]=g;let b=u,v=0;for(;b!==c;)v+=a[b++],b=b%s;if(c=(c+1)%s,c===u&&(u=(u+1)%s),g-d<e)return;const j=x&&g-x;return j?Math.round(v*1e3/j):void 0}}function v2(s,e){let a=0,r=1e3/e,c,u;const d=(g,x=Date.now())=>{a=x,c=null,u&&(clearTimeout(u),u=null),s(...g)};return[(...g)=>{const x=Date.now(),b=x-a;b>=r?d(g,x):(c=g,u||(u=setTimeout(()=>{u=null,d(c)},r-b)))},()=>c&&d(c)]}const zc=(s,e,a=3)=>{let r=0;const c=b2(50,250);return v2(u=>{const d=u.loaded,f=u.lengthComputable?u.total:void 0,p=d-r,g=c(p),x=d<=f;r=d;const b={loaded:d,total:f,progress:f?d/f:void 0,bytes:p,rate:g||void 0,estimated:g&&f&&x?(f-d)/g:void 0,event:u,lengthComputable:f!=null,[e?"download":"upload"]:!0};s(b)},a)},Fy=(s,e)=>{const a=s!=null;return[r=>e[0]({lengthComputable:a,total:s,loaded:r}),e[1]]},Yy=s=>(...e)=>K.asap(()=>s(...e)),w2=gs.hasStandardBrowserEnv?((s,e)=>a=>(a=new URL(a,gs.origin),s.protocol===a.protocol&&s.host===a.host&&(e||s.port===a.port)))(new URL(gs.origin),gs.navigator&&/(msie|trident)/i.test(gs.navigator.userAgent)):()=>!0,j2=gs.hasStandardBrowserEnv?{write(s,e,a,r,c,u,d){if(typeof document>"u")return;const f=[`${s}=${encodeURIComponent(e)}`];K.isNumber(a)&&f.push(`expires=${new Date(a).toUTCString()}`),K.isString(r)&&f.push(`path=${r}`),K.isString(c)&&f.push(`domain=${c}`),u===!0&&f.push("secure"),K.isString(d)&&f.push(`SameSite=${d}`),document.cookie=f.join("; ")},read(s){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function N2(s){return typeof s!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function S2(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function xv(s,e,a){let r=!N2(e);return s&&(r||a==!1)?S2(s,e):e}const Xy=s=>s instanceof Cs?{...s}:s;function sr(s,e){e=e||{};const a={};function r(g,x,b,v){return K.isPlainObject(g)&&K.isPlainObject(x)?K.merge.call({caseless:v},g,x):K.isPlainObject(x)?K.merge({},x):K.isArray(x)?x.slice():x}function c(g,x,b,v){if(K.isUndefined(x)){if(!K.isUndefined(g))return r(void 0,g,b,v)}else return r(g,x,b,v)}function u(g,x){if(!K.isUndefined(x))return r(void 0,x)}function d(g,x){if(K.isUndefined(x)){if(!K.isUndefined(g))return r(void 0,g)}else return r(void 0,x)}function f(g,x,b){if(b in e)return r(g,x);if(b in s)return r(void 0,g)}const p={url:u,method:u,data:u,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:f,headers:(g,x,b)=>c(Xy(g),Xy(x),b,!0)};return K.forEach(Object.keys({...s,...e}),function(x){if(x==="__proto__"||x==="constructor"||x==="prototype")return;const b=K.hasOwnProp(p,x)?p[x]:c,v=b(s[x],e[x],x);K.isUndefined(v)&&b!==f||(a[x]=v)}),a}const yv=s=>{const e=sr({},s);let{data:a,withXSRFToken:r,xsrfHeaderName:c,xsrfCookieName:u,headers:d,auth:f}=e;if(e.headers=d=Cs.from(d),e.url=fv(xv(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),f&&d.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),K.isFormData(a)){if(gs.hasStandardBrowserEnv||gs.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(K.isFunction(a.getHeaders)){const p=a.getHeaders(),g=["content-type","content-length"];Object.entries(p).forEach(([x,b])=>{g.includes(x.toLowerCase())&&d.set(x,b)})}}if(gs.hasStandardBrowserEnv&&(r&&K.isFunction(r)&&(r=r(e)),r||r!==!1&&w2(e.url))){const p=c&&u&&j2.read(u);p&&d.set(c,p)}return e},_2=typeof XMLHttpRequest<"u",A2=_2&&function(s){return new Promise(function(a,r){const c=yv(s);let u=c.data;const d=Cs.from(c.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:g}=c,x,b,v,j,w;function A(){j&&j(),w&&w(),c.cancelToken&&c.cancelToken.unsubscribe(x),c.signal&&c.signal.removeEventListener("abort",x)}let _=new XMLHttpRequest;_.open(c.method.toUpperCase(),c.url,!0),_.timeout=c.timeout;function C(){if(!_)return;const T=Cs.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),q={data:!f||f==="text"||f==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:T,config:s,request:_};gv(function(X){a(X),A()},function(X){r(X),A()},q),_=null}"onloadend"in _?_.onloadend=C:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(C)},_.onabort=function(){_&&(r(new ze("Request aborted",ze.ECONNABORTED,s,_)),_=null)},_.onerror=function(L){const q=L&&L.message?L.message:"Network Error",H=new ze(q,ze.ERR_NETWORK,s,_);H.event=L||null,r(H),_=null},_.ontimeout=function(){let L=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const q=c.transitional||Zf;c.timeoutErrorMessage&&(L=c.timeoutErrorMessage),r(new ze(L,q.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,s,_)),_=null},u===void 0&&d.setContentType(null),"setRequestHeader"in _&&K.forEach(d.toJSON(),function(L,q){_.setRequestHeader(q,L)}),K.isUndefined(c.withCredentials)||(_.withCredentials=!!c.withCredentials),f&&f!=="json"&&(_.responseType=c.responseType),g&&([v,w]=zc(g,!0),_.addEventListener("progress",v)),p&&_.upload&&([b,j]=zc(p),_.upload.addEventListener("progress",b),_.upload.addEventListener("loadend",j)),(c.cancelToken||c.signal)&&(x=T=>{_&&(r(!T||T.type?new Go(null,s,_):T),_.abort(),_=null)},c.cancelToken&&c.cancelToken.subscribe(x),c.signal&&(c.signal.aborted?x():c.signal.addEventListener("abort",x)));const D=y2(c.url);if(D&&gs.protocols.indexOf(D)===-1){r(new ze("Unsupported protocol "+D+":",ze.ERR_BAD_REQUEST,s));return}_.send(u||null)})},T2=(s,e)=>{const{length:a}=s=s?s.filter(Boolean):[];if(e||a){let r=new AbortController,c;const u=function(g){if(!c){c=!0,f();const x=g instanceof Error?g:this.reason;r.abort(x instanceof ze?x:new Go(x instanceof Error?x.message:x))}};let d=e&&setTimeout(()=>{d=null,u(new ze(`timeout of ${e}ms exceeded`,ze.ETIMEDOUT))},e);const f=()=>{s&&(d&&clearTimeout(d),d=null,s.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),s=null)};s.forEach(g=>g.addEventListener("abort",u));const{signal:p}=r;return p.unsubscribe=()=>K.asap(f),p}},E2=function*(s,e){let a=s.byteLength;if(a<e){yield s;return}let r=0,c;for(;r<a;)c=r+e,yield s.slice(r,c),r=c},k2=async function*(s,e){for await(const a of C2(s))yield*E2(a,e)},C2=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:a,value:r}=await e.read();if(a)break;yield r}}finally{await e.cancel()}},Qy=(s,e,a,r)=>{const c=k2(s,e);let u=0,d,f=p=>{d||(d=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:g,value:x}=await c.next();if(g){f(),p.close();return}let b=x.byteLength;if(a){let v=u+=b;a(v)}p.enqueue(new Uint8Array(x))}catch(g){throw f(g),g}},cancel(p){return f(p),c.return()}},{highWaterMark:2})},Wy=64*1024,{isFunction:dc}=K,R2=(({Request:s,Response:e})=>({Request:s,Response:e}))(K.global),{ReadableStream:Jy,TextEncoder:Zy}=K.global,e0=(s,...e)=>{try{return!!s(...e)}catch{return!1}},O2=s=>{s=K.merge.call({skipUndefined:!0},R2,s);const{fetch:e,Request:a,Response:r}=s,c=e?dc(e):typeof fetch=="function",u=dc(a),d=dc(r);if(!c)return!1;const f=c&&dc(Jy),p=c&&(typeof Zy=="function"?(w=>A=>w.encode(A))(new Zy):async w=>new Uint8Array(await new a(w).arrayBuffer())),g=u&&f&&e0(()=>{let w=!1;const A=new a(gs.origin,{body:new Jy,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!A}),x=d&&f&&e0(()=>K.isReadableStream(new r("").body)),b={stream:x&&(w=>w.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!b[w]&&(b[w]=(A,_)=>{let C=A&&A[w];if(C)return C.call(A);throw new ze(`Response type '${w}' is not supported`,ze.ERR_NOT_SUPPORT,_)})});const v=async w=>{if(w==null)return 0;if(K.isBlob(w))return w.size;if(K.isSpecCompliantForm(w))return(await new a(gs.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(K.isArrayBufferView(w)||K.isArrayBuffer(w))return w.byteLength;if(K.isURLSearchParams(w)&&(w=w+""),K.isString(w))return(await p(w)).byteLength},j=async(w,A)=>{const _=K.toFiniteNumber(w.getContentLength());return _??v(A)};return async w=>{let{url:A,method:_,data:C,signal:D,cancelToken:T,timeout:L,onDownloadProgress:q,onUploadProgress:H,responseType:X,headers:ee,withCredentials:oe="same-origin",fetchOptions:ue}=yv(w),ge=e||fetch;X=X?(X+"").toLowerCase():"text";let Ne=T2([D,T&&T.toAbortSignal()],L),Me=null;const we=Ne&&Ne.unsubscribe&&(()=>{Ne.unsubscribe()});let Ue;try{if(H&&g&&_!=="get"&&_!=="head"&&(Ue=await j(ee,C))!==0){let E=new a(A,{method:"POST",body:C,duplex:"half"}),V;if(K.isFormData(C)&&(V=E.headers.get("content-type"))&&ee.setContentType(V),E.body){const[Q,re]=Fy(Ue,zc(Yy(H)));C=Qy(E.body,Wy,Q,re)}}K.isString(oe)||(oe=oe?"include":"omit");const U=u&&"credentials"in a.prototype,W={...ue,signal:Ne,method:_.toUpperCase(),headers:ee.normalize().toJSON(),body:C,duplex:"half",credentials:U?oe:void 0};Me=u&&new a(A,W);let se=await(u?ge(Me,ue):ge(A,W));const pe=x&&(X==="stream"||X==="response");if(x&&(q||pe&&we)){const E={};["status","statusText","headers"].forEach(G=>{E[G]=se[G]});const V=K.toFiniteNumber(se.headers.get("content-length")),[Q,re]=q&&Fy(V,zc(Yy(q),!0))||[];se=new r(Qy(se.body,Wy,Q,()=>{re&&re(),we&&we()}),E)}X=X||"text";let ie=await b[K.findKey(b,X)||"text"](se,w);return!pe&&we&&we(),await new Promise((E,V)=>{gv(E,V,{data:ie,headers:Cs.from(se.headers),status:se.status,statusText:se.statusText,config:w,request:Me})})}catch(U){throw we&&we(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,w,Me,U&&U.response),{cause:U.cause||U}):ze.from(U,U&&U.code,w,Me,U&&U.response)}}},D2=new Map,bv=s=>{let e=s&&s.env||{};const{fetch:a,Request:r,Response:c}=e,u=[r,c,a];let d=u.length,f=d,p,g,x=D2;for(;f--;)p=u[f],g=x.get(p),g===void 0&&x.set(p,g=f?new Map:O2(e)),x=g;return g};bv();const tm={http:QS,xhr:A2,fetch:{get:bv}};K.forEach(tm,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const t0=s=>`- ${s}`,M2=s=>K.isFunction(s)||s===null||s===!1;function z2(s,e){s=K.isArray(s)?s:[s];const{length:a}=s;let r,c;const u={};for(let d=0;d<a;d++){r=s[d];let f;if(c=r,!M2(r)&&(c=tm[(f=String(r)).toLowerCase()],c===void 0))throw new ze(`Unknown adapter '${f}'`);if(c&&(K.isFunction(c)||(c=c.get(e))))break;u[f||"#"+d]=c}if(!c){const d=Object.entries(u).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let f=a?d.length>1?`since :
`+d.map(t0).join(`
`):" "+t0(d[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return c}const vv={getAdapter:z2,adapters:tm};function Ah(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Go(null,s)}function s0(s){return Ah(s),s.headers=Cs.from(s.headers),s.data=_h.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),vv.getAdapter(s.adapter||Ho.adapter,s)(s).then(function(r){return Ah(s),r.data=_h.call(s,s.transformResponse,r),r.headers=Cs.from(r.headers),r},function(r){return pv(r)||(Ah(s),r&&r.response&&(r.response.data=_h.call(s,s.transformResponse,r.response),r.response.headers=Cs.from(r.response.headers))),Promise.reject(r)})}const wv="1.13.5",eu={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{eu[s]=function(r){return typeof r===s||"a"+(e<1?"n ":" ")+s}});const n0={};eu.transitional=function(e,a,r){function c(u,d){return"[Axios v"+wv+"] Transitional option '"+u+"'"+d+(r?". "+r:"")}return(u,d,f)=>{if(e===!1)throw new ze(c(d," has been removed"+(a?" in "+a:"")),ze.ERR_DEPRECATED);return a&&!n0[d]&&(n0[d]=!0,console.warn(c(d," has been deprecated since v"+a+" and will be removed in the near future"))),e?e(u,d,f):!0}};eu.spelling=function(e){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function U2(s,e,a){if(typeof s!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(s);let c=r.length;for(;c-- >0;){const u=r[c],d=e[u];if(d){const f=s[u],p=f===void 0||d(f,u,s);if(p!==!0)throw new ze("option "+u+" must be "+p,ze.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new ze("Unknown option "+u,ze.ERR_BAD_OPTION)}}const Ac={assertOptions:U2,validators:eu},Ws=Ac.validators;let er=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Gy,response:new Gy}}async request(e,a){try{return await this._request(e,a)}catch(r){if(r instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const u=c.stack?c.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(e,a){typeof e=="string"?(a=a||{},a.url=e):a=e||{},a=sr(this.defaults,a);const{transitional:r,paramsSerializer:c,headers:u}=a;r!==void 0&&Ac.assertOptions(r,{silentJSONParsing:Ws.transitional(Ws.boolean),forcedJSONParsing:Ws.transitional(Ws.boolean),clarifyTimeoutError:Ws.transitional(Ws.boolean),legacyInterceptorReqResOrdering:Ws.transitional(Ws.boolean)},!1),c!=null&&(K.isFunction(c)?a.paramsSerializer={serialize:c}:Ac.assertOptions(c,{encode:Ws.function,serialize:Ws.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Ac.assertOptions(a,{baseUrl:Ws.spelling("baseURL"),withXsrfToken:Ws.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let d=u&&K.merge(u.common,u[a.method]);u&&K.forEach(["delete","get","head","post","put","patch","common"],w=>{delete u[w]}),a.headers=Cs.concat(d,u);const f=[];let p=!0;this.interceptors.request.forEach(function(A){if(typeof A.runWhen=="function"&&A.runWhen(a)===!1)return;p=p&&A.synchronous;const _=a.transitional||Zf;_&&_.legacyInterceptorReqResOrdering?f.unshift(A.fulfilled,A.rejected):f.push(A.fulfilled,A.rejected)});const g=[];this.interceptors.response.forEach(function(A){g.push(A.fulfilled,A.rejected)});let x,b=0,v;if(!p){const w=[s0.bind(this),void 0];for(w.unshift(...f),w.push(...g),v=w.length,x=Promise.resolve(a);b<v;)x=x.then(w[b++],w[b++]);return x}v=f.length;let j=a;for(;b<v;){const w=f[b++],A=f[b++];try{j=w(j)}catch(_){A.call(this,_);break}}try{x=s0.call(this,j)}catch(w){return Promise.reject(w)}for(b=0,v=g.length;b<v;)x=x.then(g[b++],g[b++]);return x}getUri(e){e=sr(this.defaults,e);const a=xv(e.baseURL,e.url,e.allowAbsoluteUrls);return fv(a,e.params,e.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(e){er.prototype[e]=function(a,r){return this.request(sr(r||{},{method:e,url:a,data:(r||{}).data}))}});K.forEach(["post","put","patch"],function(e){function a(r){return function(u,d,f){return this.request(sr(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:d}))}}er.prototype[e]=a(),er.prototype[e+"Form"]=a(!0)});let L2=class jv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(u){a=u});const r=this;this.promise.then(c=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](c);r._listeners=null}),this.promise.then=c=>{let u;const d=new Promise(f=>{r.subscribe(f),u=f}).then(c);return d.cancel=function(){r.unsubscribe(u)},d},e(function(u,d,f){r.reason||(r.reason=new Go(u,d,f),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const a=this._listeners.indexOf(e);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const e=new AbortController,a=r=>{e.abort(r)};return this.subscribe(a),e.signal.unsubscribe=()=>this.unsubscribe(a),e.signal}static source(){let e;return{token:new jv(function(c){e=c}),cancel:e}}};function P2(s){return function(a){return s.apply(null,a)}}function B2(s){return K.isObject(s)&&s.isAxiosError===!0}const lf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(lf).forEach(([s,e])=>{lf[e]=s});function Nv(s){const e=new er(s),a=sv(er.prototype.request,e);return K.extend(a,er.prototype,e,{allOwnKeys:!0}),K.extend(a,e,null,{allOwnKeys:!0}),a.create=function(c){return Nv(sr(s,c))},a}const Mt=Nv(Ho);Mt.Axios=er;Mt.CanceledError=Go;Mt.CancelToken=L2;Mt.isCancel=pv;Mt.VERSION=wv;Mt.toFormData=Zc;Mt.AxiosError=ze;Mt.Cancel=Mt.CanceledError;Mt.all=function(e){return Promise.all(e)};Mt.spread=P2;Mt.isAxiosError=B2;Mt.mergeConfig=sr;Mt.AxiosHeaders=Cs;Mt.formToJSON=s=>mv(K.isHTMLForm(s)?new FormData(s):s);Mt.getAdapter=vv.getAdapter;Mt.HttpStatusCode=lf;Mt.default=Mt;const{Axios:TO,AxiosError:EO,CanceledError:kO,isCancel:CO,CancelToken:RO,VERSION:OO,all:DO,Cancel:MO,isAxiosError:zO,spread:UO,toFormData:LO,AxiosHeaders:PO,HttpStatusCode:BO,formToJSON:VO,getAdapter:$O,mergeConfig:IO}=Mt,Sv="https://eltahan.vip472.com/api",be=Mt.create({baseURL:Sv});be.interceptors.request.use(s=>{const e=localStorage.getItem("token");return e&&(s.headers.Authorization=`Bearer ${e}`),s});be.interceptors.response.use(s=>s,s=>(s.code==="ERR_NETWORK"||!s.response?console.error("API Network Error:    ",Sv):console.error("API Error:",s.response?.status,s.response?.data),Promise.reject(s)));const V2=(s,e)=>be.post("/auth.php?path=login",{email:s,password:e}),$2=()=>be.get("/auth.php?path=verify"),_v=()=>be.get("/users.php"),I2=()=>be.get("/users.php?path=stats"),q2=s=>be.post("/users.php",s),Av=(s,e)=>be.put(`/users.php?id=${s}`,e),H2=s=>be.delete(`/users.php?id=${s}`),Tv=()=>be.get("/pricing.php"),G2=s=>be.post("/pricing.php",s),K2=(s,e)=>be.put(`/pricing.php?id=${s}`,e),F2=s=>be.delete(`/pricing.php?id=${s}`),Y2=()=>be.get("/settings.php"),X2=s=>be.put("/settings.php",s),sm=()=>be.get("/customers.php"),Ev=s=>be.post("/customers.php",s),Q2=(s,e)=>be.put(`/customers.php?id=${s}`,e),W2=s=>be.delete(`/customers.php?id=${s}`),J2=()=>be.get("/invoices.php"),Th=s=>be.get(`/invoices.php?id=${s}`),Z2=s=>be.post("/invoices.php",s),e_=(s,e)=>be.put(`/invoices.php?id=${s}`,e),t_=s=>be.delete(`/invoices.php?id=${s}`),kv=()=>be.get("/weddingPricing.php?path=albums"),s_=s=>be.post("/weddingPricing.php?path=albums",s),n_=(s,e)=>be.put(`/weddingPricing.php?path=albums&id=${s}`,e),a_=s=>be.delete(`/weddingPricing.php?path=albums&id=${s}`),Cv=()=>be.get("/weddingPricing.php?path=videos"),r_=s=>be.post("/weddingPricing.php?path=videos",s),i_=(s,e)=>be.put(`/weddingPricing.php?path=videos&id=${s}`,e),o_=s=>be.delete(`/weddingPricing.php?path=videos&id=${s}`),a0=()=>be.get("/weddingInvoices.php"),r0=s=>be.get(`/weddingInvoices.php?id=${s}`),l_=s=>be.post("/weddingInvoices.php",s),c_=(s,e)=>be.put(`/weddingInvoices.php?id=${s}`,e),u_=s=>be.delete(`/weddingInvoices.php?id=${s}`),d_=()=>be.post("/whatsapp.php?path=start"),nm=()=>be.get("/whatsapp.php?path=status"),h_=()=>be.post("/whatsapp.php?path=stop"),Rv=s=>be.post("/whatsapp.php?path=send-message",s),qO=()=>be.get("/purchases.php"),am=()=>be.get("/inventory.php"),f_=s=>be.post("/inventory.php",s),m_=(s,e)=>be.put(`/inventory.php?id=${s}`,e),p_=s=>be.delete(`/inventory.php?id=${s}`),g_=()=>be.get("/inventory.php?path=categories"),x_=s=>be.post("/inventory.php?path=categories",s),y_=()=>be.get("/expenses.php?path=expenses"),b_=s=>be.post("/expenses.php?path=expenses",s),v_=s=>be.delete(`/expenses.php?path=expenses&id=${s}`),w_=()=>be.get("/expenses.php?path=advances"),j_=s=>be.post("/expenses.php?path=advances",s),N_=s=>be.delete(`/expenses.php?path=advances&id=${s}`),S_=(s,e)=>be.get("/expenses.php?path=attendance"),__=s=>be.post("/expenses.php?path=attendance",s),A_=s=>be.delete(`/expenses.php?path=attendance&id=${s}`),T_=(s,e)=>be.get(`/expenses.php?path=salary-report&user_id=${s}&month=${e}`),E_=()=>be.get("/expenses.php?path=salaries"),k_=s=>be.post("/expenses.php?path=salaries",s),C_=s=>be.delete(`/expenses.php?path=salaries&id=${s}`);const Ov=(...s)=>s.filter((e,a,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===a).join(" ").trim();const R_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const O_=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,r)=>r?r.toUpperCase():a.toLowerCase());const i0=s=>{const e=O_(s);return e.charAt(0).toUpperCase()+e.slice(1)};var D_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const M_=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const z_=S.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:c="",children:u,iconNode:d,...f},p)=>S.createElement("svg",{ref:p,...D_,width:e,height:e,stroke:s,strokeWidth:r?Number(a)*24/Number(e):a,className:Ov("lucide",c),...!u&&!M_(f)&&{"aria-hidden":"true"},...f},[...d.map(([g,x])=>S.createElement(g,x)),...Array.isArray(u)?u:[u]]));const me=(s,e)=>{const a=S.forwardRef(({className:r,...c},u)=>S.createElement(z_,{ref:u,iconNode:e,className:Ov(`lucide-${R_(i0(s))}`,`lucide-${s}`,r),...c}));return a.displayName=i0(s),a};const U_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],o0=me("aperture",U_);const L_=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],P_=me("ban",L_);const B_=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Dv=me("bell",B_);const V_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],l0=me("book-open",V_);const $_=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],cf=me("brain",$_);const I_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$n=me("calendar",I_);const q_=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],In=me("camera",q_);const H_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],G_=me("check",H_);const K_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ao=me("chevron-left",K_);const F_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],To=me("chevron-right",F_);const Y_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uf=me("circle-alert",Y_);const X_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bt=me("circle-check-big",X_);const Q_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],W_=me("circle-x",Q_);const J_=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Z_=me("clipboard-list",J_);const eA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bn=me("clock",eA);const tA=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Eh=me("credit-card",tA);const sA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],vs=me("dollar-sign",sA);const nA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Uc=me("download",nA);const aA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],df=me("eye",aA);const rA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vn=me("file-text",rA);const iA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],oA=me("film",iA);const lA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],cA=me("funnel",lA);const uA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hf=me("globe",uA);const dA=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],rm=me("hash",dA);const hA=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ga=me("heart",hA);const fA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ff=me("image",fA);const mA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mf=me("info",mA);const pA=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],gA=me("key",pA);const xA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],yA=me("layout-dashboard",xA);const bA=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],dt=me("loader",bA);const vA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],pf=me("lock",vA);const wA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jA=me("log-out",wA);const NA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Eo=me("mail",NA);const SA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Lc=me("map-pin",SA);const _A=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],AA=me("menu",_A);const TA=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],hi=me("message-circle",TA);const EA=[["path",{d:"M5 12h14",key:"1ays0h"}]],bo=me("minus",EA);const kA=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],CA=me("monitor",kA);const RA=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Mv=me("moon",RA);const OA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],va=me("package",OA);const DA=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gf=me("pen-line",DA);const MA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],nr=me("pen",MA);const zA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],c0=me("phone",zA);const UA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],At=me("plus",UA);const LA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],oi=me("printer",LA);const PA=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],u0=me("receipt",PA);const BA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kh=me("refresh-cw",BA);const VA=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],d0=me("ruler",VA);const $A=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pc=me("save",$A);const IA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qn=me("search",IA);const qA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HA=me("settings",qA);const GA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],KA=me("shield-check",GA);const FA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zv=me("shield",FA);const YA=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],h0=me("shopping-bag",YA);const XA=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],im=me("shopping-cart",XA);const QA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Tc=me("smartphone",QA);const WA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],JA=me("sparkles",WA);const ZA=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],f0=me("store",ZA);const eT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Uv=me("sun",eT);const tT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],sT=me("tag",tT);const nT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],es=me("trash-2",nT);const aT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],rT=me("trending-up",aT);const iT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],li=me("triangle-alert",iT);const oT=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lT=me("user-cog",oT);const cT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Lv=me("user-plus",cT);const uT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dn=me("user",uT);const dT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ei=me("users",dT);const hT=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ch=me("video",hT);const fT=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],po=me("wallet",fT);const mT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],pT=me("wifi-off",mT);const gT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Rh=me("wifi",gT);const xT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dt=me("x",xT);const yT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],bT=me("zap",yT),vT=({onLogin:s})=>{const[e,a]=S.useState(""),[r,c]=S.useState(""),[u,d]=S.useState(""),[f,p]=S.useState(!1),g=async x=>{x.preventDefault(),d(""),p(!0);try{const b=await V2(e,r),{token:v,user:j}=b.data;localStorage.setItem("token",v),s(j,v)}catch(b){const v=b.response?.data?.message||"    ";d(v)}finally{p(!1)}};return i.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-[hsl(262,50%,8%)] via-[hsl(260,30%,12%)] to-[hsl(240,25%,6%)] fixed inset-0 overflow-hidden p-4 sm:p-5 font-cairo",dir:"rtl",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-[300px] sm:w-[500px] h-[300px] sm:h-[500px] rounded-full bg-primary/10 blur-3xl pointer-events-none"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-[250px] sm:w-[400px] h-[250px] sm:h-[400px] rounded-full bg-accent/8 blur-3xl pointer-events-none"}),i.jsx("div",{className:"w-full max-w-[420px] animate-slide-up relative z-10",children:i.jsxs("div",{className:"bg-white/[0.04] backdrop-blur-2xl border border-white/[0.08] rounded-2xl sm:rounded-3xl p-6 sm:p-10 shadow-2xl",children:[i.jsxs("div",{className:"text-center mb-6 sm:mb-9",children:[i.jsxs("div",{className:"w-12 h-12 sm:w-14 sm:h-14 mx-auto mb-3 sm:mb-4 rounded-2xl flex items-center justify-center bg-gradient-to-br from-primary to-accent shadow-lg shadow-primary/30",children:[i.jsx(o0,{size:26,className:"text-white sm:hidden"}),i.jsx(o0,{size:30,className:"text-white hidden sm:block"})]}),i.jsx("h1",{className:"text-white text-2xl sm:text-[28px] font-extrabold tracking-tight mb-1.5 sm:mb-2",children:" "}),i.jsx("p",{className:"text-slate-400 text-xs sm:text-sm",children:"  !   "})]}),u&&i.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 text-red-300 px-4 py-3 rounded-xl text-sm mb-5 flex items-center gap-2",children:[i.jsx("span",{children:""})," ",u]}),i.jsxs("form",{onSubmit:g,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/70 text-xs font-semibold mb-2",children:" "}),i.jsxs("div",{className:"flex items-center gap-3 px-4 py-3.5 bg-black/20 border border-white/[0.08] rounded-xl transition-all focus-within:border-primary/50 focus-within:bg-black/30",children:[i.jsx(Eo,{size:18,className:"text-slate-500 shrink-0"}),i.jsx("input",{type:"email",placeholder:"admin@studio.com",value:e,onChange:x=>a(x.target.value),required:!0,disabled:f,className:"flex-1 bg-transparent border-none outline-none text-white text-sm font-cairo placeholder:text-slate-600"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/70 text-xs font-semibold mb-2",children:" "}),i.jsxs("div",{className:"flex items-center gap-3 px-4 py-3.5 bg-black/20 border border-white/[0.08] rounded-xl transition-all focus-within:border-primary/50 focus-within:bg-black/30",children:[i.jsx(pf,{size:18,className:"text-slate-500 shrink-0"}),i.jsx("input",{type:"password",placeholder:"",value:r,onChange:x=>c(x.target.value),required:!0,disabled:f,className:"flex-1 bg-transparent border-none outline-none text-white text-sm font-cairo placeholder:text-slate-600"})]})]}),i.jsxs("div",{className:"flex justify-between items-center text-xs pt-1",children:[i.jsxs("label",{className:"flex items-center gap-2 text-slate-400 cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-primary cursor-pointer rounded"}),i.jsx("span",{children:""})]}),i.jsx("a",{href:"#",className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"  "})]}),i.jsx("button",{type:"submit",disabled:f,className:"w-full py-3.5 bg-gradient-to-r from-primary to-accent text-white border-none rounded-xl text-base font-bold cursor-pointer font-cairo transition-all hover:shadow-lg hover:shadow-primary/25 disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:f?i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsx(dt,{size:20,className:"animate-spin"}),"  ..."]}):""}),i.jsxs("div",{className:"text-center mt-4 text-xs text-slate-500 space-y-2",children:[i.jsx("span",{className:"block",children:"  :"}),i.jsx("code",{className:"block dir-ltr bg-primary/[0.08] px-3.5 py-2 rounded-lg text-primary text-xs font-mono border border-primary/10",dir:"ltr",children:"admin@stodio.com / admin"})]})]})]})})]})},wT="modulepreload",jT=function(s){return"/"+s},m0={},Pv=function(e,a,r){let c=Promise.resolve();if(a&&a.length>0){let p=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");c=p(a.map(g=>{if(g=jT(g),g in m0)return;m0[g]=!0;const x=g.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const v=document.createElement("link");if(v.rel=x?"stylesheet":wT,x||(v.as="script"),v.crossOrigin="",v.href=g,f&&v.setAttribute("nonce",f),document.head.appendChild(v),x)return new Promise((j,w)=>{v.addEventListener("load",j),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return c.then(d=>{for(const f of d||[])f.status==="rejected"&&u(f.reason);return e().catch(u)})},om=S.createContext({});function lm(s){const e=S.useRef(null);return e.current===null&&(e.current=s()),e.current}const Bv=typeof window<"u",Vv=Bv?S.useLayoutEffect:S.useEffect,tu=S.createContext(null);function cm(s,e){s.indexOf(e)===-1&&s.push(e)}function Bc(s,e){const a=s.indexOf(e);a>-1&&s.splice(a,1)}const bn=(s,e,a)=>a>e?e:a<s?s:a;let um=()=>{};const Hn={},$v=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function Iv(s){return typeof s=="object"&&s!==null}const qv=s=>/^0[^.\s]+$/u.test(s);function dm(s){let e;return()=>(e===void 0&&(e=s()),e)}const Zs=s=>s,NT=(s,e)=>a=>e(s(a)),Ko=(...s)=>s.reduce(NT),ko=(s,e,a)=>{const r=e-s;return r===0?1:(a-s)/r};class hm{constructor(){this.subscriptions=[]}add(e){return cm(this.subscriptions,e),()=>Bc(this.subscriptions,e)}notify(e,a,r){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](e,a,r);else for(let u=0;u<c;u++){const d=this.subscriptions[u];d&&d(e,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const un=s=>s*1e3,Js=s=>s/1e3;function Hv(s,e){return e?s*(1e3/e):0}const Gv=(s,e,a)=>(((1-3*a+3*e)*s+(3*a-6*e))*s+3*e)*s,ST=1e-7,_T=12;function AT(s,e,a,r,c){let u,d,f=0;do d=e+(a-e)/2,u=Gv(d,r,c)-s,u>0?a=d:e=d;while(Math.abs(u)>ST&&++f<_T);return d}function Fo(s,e,a,r){if(s===e&&a===r)return Zs;const c=u=>AT(u,0,1,s,a);return u=>u===0||u===1?u:Gv(c(u),e,r)}const Kv=s=>e=>e<=.5?s(2*e)/2:(2-s(2*(1-e)))/2,Fv=s=>e=>1-s(1-e),Yv=Fo(.33,1.53,.69,.99),fm=Fv(Yv),Xv=Kv(fm),Qv=s=>(s*=2)<1?.5*fm(s):.5*(2-Math.pow(2,-10*(s-1))),mm=s=>1-Math.sin(Math.acos(s)),Wv=Fv(mm),Jv=Kv(mm),TT=Fo(.42,0,1,1),ET=Fo(0,0,.58,1),Zv=Fo(.42,0,.58,1),kT=s=>Array.isArray(s)&&typeof s[0]!="number",e1=s=>Array.isArray(s)&&typeof s[0]=="number",CT={linear:Zs,easeIn:TT,easeInOut:Zv,easeOut:ET,circIn:mm,circInOut:Jv,circOut:Wv,backIn:fm,backInOut:Xv,backOut:Yv,anticipate:Qv},RT=s=>typeof s=="string",p0=s=>{if(e1(s)){um(s.length===4);const[e,a,r,c]=s;return Fo(e,a,r,c)}else if(RT(s))return CT[s];return s},hc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function OT(s,e){let a=new Set,r=new Set,c=!1,u=!1;const d=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(x){d.has(x)&&(g.schedule(x),s()),x(f)}const g={schedule:(x,b=!1,v=!1)=>{const w=v&&c?a:r;return b&&d.add(x),w.has(x)||w.add(x),x},cancel:x=>{r.delete(x),d.delete(x)},process:x=>{if(f=x,c){u=!0;return}c=!0,[a,r]=[r,a],a.forEach(p),a.clear(),c=!1,u&&(u=!1,g.process(x))}};return g}const DT=40;function t1(s,e){let a=!1,r=!0;const c={delta:0,timestamp:0,isProcessing:!1},u=()=>a=!0,d=hc.reduce((T,L)=>(T[L]=OT(u),T),{}),{setup:f,read:p,resolveKeyframes:g,preUpdate:x,update:b,preRender:v,render:j,postRender:w}=d,A=()=>{const T=Hn.useManualTiming?c.timestamp:performance.now();a=!1,Hn.useManualTiming||(c.delta=r?1e3/60:Math.max(Math.min(T-c.timestamp,DT),1)),c.timestamp=T,c.isProcessing=!0,f.process(c),p.process(c),g.process(c),x.process(c),b.process(c),v.process(c),j.process(c),w.process(c),c.isProcessing=!1,a&&e&&(r=!1,s(A))},_=()=>{a=!0,r=!0,c.isProcessing||s(A)};return{schedule:hc.reduce((T,L)=>{const q=d[L];return T[L]=(H,X=!1,ee=!1)=>(a||_(),q.schedule(H,X,ee)),T},{}),cancel:T=>{for(let L=0;L<hc.length;L++)d[hc[L]].cancel(T)},state:c,steps:d}}const{schedule:yt,cancel:ja,state:fs,steps:Oh}=t1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zs,!0);let Ec;function MT(){Ec=void 0}const ws={now:()=>(Ec===void 0&&ws.set(fs.isProcessing||Hn.useManualTiming?fs.timestamp:performance.now()),Ec),set:s=>{Ec=s,queueMicrotask(MT)}},s1=s=>e=>typeof e=="string"&&e.startsWith(s),n1=s1("--"),zT=s1("var(--"),pm=s=>zT(s)?UT.test(s.split("/*")[0].trim()):!1,UT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function g0(s){return typeof s!="string"?!1:s.split("/*")[0].includes("var(--")}const pi={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Co={...pi,transform:s=>bn(0,1,s)},fc={...pi,default:1},vo=s=>Math.round(s*1e5)/1e5,gm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LT(s){return s==null}const PT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xm=(s,e)=>a=>!!(typeof a=="string"&&PT.test(a)&&a.startsWith(s)||e&&!LT(a)&&Object.prototype.hasOwnProperty.call(a,e)),a1=(s,e,a)=>r=>{if(typeof r!="string")return r;const[c,u,d,f]=r.match(gm);return{[s]:parseFloat(c),[e]:parseFloat(u),[a]:parseFloat(d),alpha:f!==void 0?parseFloat(f):1}},BT=s=>bn(0,255,s),Dh={...pi,transform:s=>Math.round(BT(s))},Wa={test:xm("rgb","red"),parse:a1("red","green","blue"),transform:({red:s,green:e,blue:a,alpha:r=1})=>"rgba("+Dh.transform(s)+", "+Dh.transform(e)+", "+Dh.transform(a)+", "+vo(Co.transform(r))+")"};function VT(s){let e="",a="",r="",c="";return s.length>5?(e=s.substring(1,3),a=s.substring(3,5),r=s.substring(5,7),c=s.substring(7,9)):(e=s.substring(1,2),a=s.substring(2,3),r=s.substring(3,4),c=s.substring(4,5),e+=e,a+=a,r+=r,c+=c),{red:parseInt(e,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:c?parseInt(c,16)/255:1}}const xf={test:xm("#"),parse:VT,transform:Wa.transform},Yo=s=>({test:e=>typeof e=="string"&&e.endsWith(s)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${s}`}),pa=Yo("deg"),yn=Yo("%"),ve=Yo("px"),$T=Yo("vh"),IT=Yo("vw"),x0={...yn,parse:s=>yn.parse(s)/100,transform:s=>yn.transform(s*100)},ti={test:xm("hsl","hue"),parse:a1("hue","saturation","lightness"),transform:({hue:s,saturation:e,lightness:a,alpha:r=1})=>"hsla("+Math.round(s)+", "+yn.transform(vo(e))+", "+yn.transform(vo(a))+", "+vo(Co.transform(r))+")"},Ft={test:s=>Wa.test(s)||xf.test(s)||ti.test(s),parse:s=>Wa.test(s)?Wa.parse(s):ti.test(s)?ti.parse(s):xf.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?Wa.transform(s):ti.transform(s),getAnimatableNone:s=>{const e=Ft.parse(s);return e.alpha=0,Ft.transform(e)}},qT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HT(s){return isNaN(s)&&typeof s=="string"&&(s.match(gm)?.length||0)+(s.match(qT)?.length||0)>0}const r1="number",i1="color",GT="var",KT="var(",y0="${}",FT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ro(s){const e=s.toString(),a=[],r={color:[],number:[],var:[]},c=[];let u=0;const f=e.replace(FT,p=>(Ft.test(p)?(r.color.push(u),c.push(i1),a.push(Ft.parse(p))):p.startsWith(KT)?(r.var.push(u),c.push(GT),a.push(p)):(r.number.push(u),c.push(r1),a.push(parseFloat(p))),++u,y0)).split(y0);return{values:a,split:f,indexes:r,types:c}}function o1(s){return Ro(s).values}function l1(s){const{split:e,types:a}=Ro(s),r=e.length;return c=>{let u="";for(let d=0;d<r;d++)if(u+=e[d],c[d]!==void 0){const f=a[d];f===r1?u+=vo(c[d]):f===i1?u+=Ft.transform(c[d]):u+=c[d]}return u}}const YT=s=>typeof s=="number"?0:Ft.test(s)?Ft.getAnimatableNone(s):s;function XT(s){const e=o1(s);return l1(s)(e.map(YT))}const Na={test:HT,parse:o1,createTransformer:l1,getAnimatableNone:XT};function Mh(s,e,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?s+(e-s)*6*a:a<1/2?e:a<2/3?s+(e-s)*(2/3-a)*6:s}function QT({hue:s,saturation:e,lightness:a,alpha:r}){s/=360,e/=100,a/=100;let c=0,u=0,d=0;if(!e)c=u=d=a;else{const f=a<.5?a*(1+e):a+e-a*e,p=2*a-f;c=Mh(p,f,s+1/3),u=Mh(p,f,s),d=Mh(p,f,s-1/3)}return{red:Math.round(c*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:r}}function Vc(s,e){return a=>a>0?e:s}const Et=(s,e,a)=>s+(e-s)*a,zh=(s,e,a)=>{const r=s*s,c=a*(e*e-r)+r;return c<0?0:Math.sqrt(c)},WT=[xf,Wa,ti],JT=s=>WT.find(e=>e.test(s));function b0(s){const e=JT(s);if(!e)return!1;let a=e.parse(s);return e===ti&&(a=QT(a)),a}const v0=(s,e)=>{const a=b0(s),r=b0(e);if(!a||!r)return Vc(s,e);const c={...a};return u=>(c.red=zh(a.red,r.red,u),c.green=zh(a.green,r.green,u),c.blue=zh(a.blue,r.blue,u),c.alpha=Et(a.alpha,r.alpha,u),Wa.transform(c))},yf=new Set(["none","hidden"]);function ZT(s,e){return yf.has(s)?a=>a<=0?s:e:a=>a>=1?e:s}function e5(s,e){return a=>Et(s,e,a)}function ym(s){return typeof s=="number"?e5:typeof s=="string"?pm(s)?Vc:Ft.test(s)?v0:n5:Array.isArray(s)?c1:typeof s=="object"?Ft.test(s)?v0:t5:Vc}function c1(s,e){const a=[...s],r=a.length,c=s.map((u,d)=>ym(u)(u,e[d]));return u=>{for(let d=0;d<r;d++)a[d]=c[d](u);return a}}function t5(s,e){const a={...s,...e},r={};for(const c in a)s[c]!==void 0&&e[c]!==void 0&&(r[c]=ym(s[c])(s[c],e[c]));return c=>{for(const u in r)a[u]=r[u](c);return a}}function s5(s,e){const a=[],r={color:0,var:0,number:0};for(let c=0;c<e.values.length;c++){const u=e.types[c],d=s.indexes[u][r[u]],f=s.values[d]??0;a[c]=f,r[u]++}return a}const n5=(s,e)=>{const a=Na.createTransformer(e),r=Ro(s),c=Ro(e);return r.indexes.var.length===c.indexes.var.length&&r.indexes.color.length===c.indexes.color.length&&r.indexes.number.length>=c.indexes.number.length?yf.has(s)&&!c.values.length||yf.has(e)&&!r.values.length?ZT(s,e):Ko(c1(s5(r,c),c.values),a):Vc(s,e)};function u1(s,e,a){return typeof s=="number"&&typeof e=="number"&&typeof a=="number"?Et(s,e,a):ym(s)(s,e)}const a5=s=>{const e=({timestamp:a})=>s(a);return{start:(a=!0)=>yt.update(e,a),stop:()=>ja(e),now:()=>fs.isProcessing?fs.timestamp:ws.now()}},d1=(s,e,a=10)=>{let r="";const c=Math.max(Math.round(e/a),2);for(let u=0;u<c;u++)r+=Math.round(s(u/(c-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},$c=2e4;function bm(s){let e=0;const a=50;let r=s.next(e);for(;!r.done&&e<$c;)e+=a,r=s.next(e);return e>=$c?1/0:e}function r5(s,e=100,a){const r=a({...s,keyframes:[0,e]}),c=Math.min(bm(r),$c);return{type:"keyframes",ease:u=>r.next(c*u).value/e,duration:Js(c)}}const i5=5;function h1(s,e,a){const r=Math.max(e-i5,0);return Hv(a-s(r),e-r)}const Ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Uh=.001;function o5({duration:s=Ot.duration,bounce:e=Ot.bounce,velocity:a=Ot.velocity,mass:r=Ot.mass}){let c,u,d=1-e;d=bn(Ot.minDamping,Ot.maxDamping,d),s=bn(Ot.minDuration,Ot.maxDuration,Js(s)),d<1?(c=g=>{const x=g*d,b=x*s,v=x-a,j=bf(g,d),w=Math.exp(-b);return Uh-v/j*w},u=g=>{const b=g*d*s,v=b*a+a,j=Math.pow(d,2)*Math.pow(g,2)*s,w=Math.exp(-b),A=bf(Math.pow(g,2),d);return(-c(g)+Uh>0?-1:1)*((v-j)*w)/A}):(c=g=>{const x=Math.exp(-g*s),b=(g-a)*s+1;return-Uh+x*b},u=g=>{const x=Math.exp(-g*s),b=(a-g)*(s*s);return x*b});const f=5/s,p=c5(c,u,f);if(s=un(s),isNaN(p))return{stiffness:Ot.stiffness,damping:Ot.damping,duration:s};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:d*2*Math.sqrt(r*g),duration:s}}}const l5=12;function c5(s,e,a){let r=a;for(let c=1;c<l5;c++)r=r-s(r)/e(r);return r}function bf(s,e){return s*Math.sqrt(1-e*e)}const u5=["duration","bounce"],d5=["stiffness","damping","mass"];function w0(s,e){return e.some(a=>s[a]!==void 0)}function h5(s){let e={velocity:Ot.velocity,stiffness:Ot.stiffness,damping:Ot.damping,mass:Ot.mass,isResolvedFromDuration:!1,...s};if(!w0(s,d5)&&w0(s,u5))if(s.visualDuration){const a=s.visualDuration,r=2*Math.PI/(a*1.2),c=r*r,u=2*bn(.05,1,1-(s.bounce||0))*Math.sqrt(c);e={...e,mass:Ot.mass,stiffness:c,damping:u}}else{const a=o5(s);e={...e,...a,mass:Ot.mass},e.isResolvedFromDuration=!0}return e}function Ic(s=Ot.visualDuration,e=Ot.bounce){const a=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:e}:s;let{restSpeed:r,restDelta:c}=a;const u=a.keyframes[0],d=a.keyframes[a.keyframes.length-1],f={done:!1,value:u},{stiffness:p,damping:g,mass:x,duration:b,velocity:v,isResolvedFromDuration:j}=h5({...a,velocity:-Js(a.velocity||0)}),w=v||0,A=g/(2*Math.sqrt(p*x)),_=d-u,C=Js(Math.sqrt(p/x)),D=Math.abs(_)<5;r||(r=D?Ot.restSpeed.granular:Ot.restSpeed.default),c||(c=D?Ot.restDelta.granular:Ot.restDelta.default);let T;if(A<1){const q=bf(C,A);T=H=>{const X=Math.exp(-A*C*H);return d-X*((w+A*C*_)/q*Math.sin(q*H)+_*Math.cos(q*H))}}else if(A===1)T=q=>d-Math.exp(-C*q)*(_+(w+C*_)*q);else{const q=C*Math.sqrt(A*A-1);T=H=>{const X=Math.exp(-A*C*H),ee=Math.min(q*H,300);return d-X*((w+A*C*_)*Math.sinh(ee)+q*_*Math.cosh(ee))/q}}const L={calculatedDuration:j&&b||null,next:q=>{const H=T(q);if(j)f.done=q>=b;else{let X=q===0?w:0;A<1&&(X=q===0?un(w):h1(T,q,H));const ee=Math.abs(X)<=r,oe=Math.abs(d-H)<=c;f.done=ee&&oe}return f.value=f.done?d:H,f},toString:()=>{const q=Math.min(bm(L),$c),H=d1(X=>L.next(q*X).value,q,30);return q+"ms "+H},toTransition:()=>{}};return L}Ic.applyToOptions=s=>{const e=r5(s,100,Ic);return s.ease=e.ease,s.duration=un(e.duration),s.type="keyframes",s};function vf({keyframes:s,velocity:e=0,power:a=.8,timeConstant:r=325,bounceDamping:c=10,bounceStiffness:u=500,modifyTarget:d,min:f,max:p,restDelta:g=.5,restSpeed:x}){const b=s[0],v={done:!1,value:b},j=ee=>f!==void 0&&ee<f||p!==void 0&&ee>p,w=ee=>f===void 0?p:p===void 0||Math.abs(f-ee)<Math.abs(p-ee)?f:p;let A=a*e;const _=b+A,C=d===void 0?_:d(_);C!==_&&(A=C-b);const D=ee=>-A*Math.exp(-ee/r),T=ee=>C+D(ee),L=ee=>{const oe=D(ee),ue=T(ee);v.done=Math.abs(oe)<=g,v.value=v.done?C:ue};let q,H;const X=ee=>{j(v.value)&&(q=ee,H=Ic({keyframes:[v.value,w(v.value)],velocity:h1(T,ee,v.value),damping:c,stiffness:u,restDelta:g,restSpeed:x}))};return X(0),{calculatedDuration:null,next:ee=>{let oe=!1;return!H&&q===void 0&&(oe=!0,L(ee),X(ee)),q!==void 0&&ee>=q?H.next(ee-q):(!oe&&L(ee),v)}}}function f5(s,e,a){const r=[],c=a||Hn.mix||u1,u=s.length-1;for(let d=0;d<u;d++){let f=c(s[d],s[d+1]);if(e){const p=Array.isArray(e)?e[d]||Zs:e;f=Ko(p,f)}r.push(f)}return r}function m5(s,e,{clamp:a=!0,ease:r,mixer:c}={}){const u=s.length;if(um(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const d=s[0]===s[1];s[0]>s[u-1]&&(s=[...s].reverse(),e=[...e].reverse());const f=f5(e,r,c),p=f.length,g=x=>{if(d&&x<s[0])return e[0];let b=0;if(p>1)for(;b<s.length-2&&!(x<s[b+1]);b++);const v=ko(s[b],s[b+1],x);return f[b](v)};return a?x=>g(bn(s[0],s[u-1],x)):g}function p5(s,e){const a=s[s.length-1];for(let r=1;r<=e;r++){const c=ko(0,e,r);s.push(Et(a,1,c))}}function g5(s){const e=[0];return p5(e,s.length-1),e}function x5(s,e){return s.map(a=>a*e)}function y5(s,e){return s.map(()=>e||Zv).splice(0,s.length-1)}function wo({duration:s=300,keyframes:e,times:a,ease:r="easeInOut"}){const c=kT(r)?r.map(p0):p0(r),u={done:!1,value:e[0]},d=x5(a&&a.length===e.length?a:g5(e),s),f=m5(d,e,{ease:Array.isArray(c)?c:y5(e,c)});return{calculatedDuration:s,next:p=>(u.value=f(p),u.done=p>=s,u)}}const b5=s=>s!==null;function vm(s,{repeat:e,repeatType:a="loop"},r,c=1){const u=s.filter(b5),f=c<0||e&&a!=="loop"&&e%2===1?0:u.length-1;return!f||r===void 0?u[f]:r}const v5={decay:vf,inertia:vf,tween:wo,keyframes:wo,spring:Ic};function f1(s){typeof s.type=="string"&&(s.type=v5[s.type])}class wm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,a){return this.finished.then(e,a)}}const w5=s=>s/100;class jm extends wm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==ws.now()&&this.tick(ws.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;f1(e);const{type:a=wo,repeat:r=0,repeatDelay:c=0,repeatType:u,velocity:d=0}=e;let{keyframes:f}=e;const p=a||wo;p!==wo&&typeof f[0]!="number"&&(this.mixKeyframes=Ko(w5,u1(f[0],f[1])),f=[0,100]);const g=p({...e,keyframes:f});u==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=bm(g));const{calculatedDuration:x}=g;this.calculatedDuration=x,this.resolvedDuration=x+c,this.totalDuration=this.resolvedDuration*(r+1)-c,this.generator=g}updateTime(e){const a=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(e,a=!1){const{generator:r,totalDuration:c,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:x,repeat:b,repeatType:v,repeatDelay:j,type:w,onUpdate:A,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),a?this.currentTime=e:this.updateTime(e);const C=this.currentTime-g*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?C<0:C>c;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let T=this.currentTime,L=r;if(b){const ee=Math.min(this.currentTime,c)/f;let oe=Math.floor(ee),ue=ee%1;!ue&&ee>=1&&(ue=1),ue===1&&oe--,oe=Math.min(oe,b+1),oe%2&&(v==="reverse"?(ue=1-ue,j&&(ue-=j/f)):v==="mirror"&&(L=d)),T=bn(0,1,ue)*f}const q=D?{done:!1,value:x[0]}:L.next(T);u&&(q.value=u(q.value));let{done:H}=q;!D&&p!==null&&(H=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const X=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return X&&w!==vf&&(q.value=vm(x,this.options,_,this.speed)),A&&A(q.value),X&&this.finish(),q}then(e,a){return this.finished.then(e,a)}get duration(){return Js(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Js(e)}get time(){return Js(this.currentTime)}set time(e){e=un(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ws.now());const a=this.playbackSpeed!==e;this.playbackSpeed=e,a&&(this.time=Js(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=a5,startTime:a}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ws.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function j5(s){for(let e=1;e<s.length;e++)s[e]??(s[e]=s[e-1])}const Ja=s=>s*180/Math.PI,wf=s=>{const e=Ja(Math.atan2(s[1],s[0]));return jf(e)},N5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:wf,rotateZ:wf,skewX:s=>Ja(Math.atan(s[1])),skewY:s=>Ja(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},jf=s=>(s=s%360,s<0&&(s+=360),s),j0=wf,N0=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),S0=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),S5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:N0,scaleY:S0,scale:s=>(N0(s)+S0(s))/2,rotateX:s=>jf(Ja(Math.atan2(s[6],s[5]))),rotateY:s=>jf(Ja(Math.atan2(-s[2],s[0]))),rotateZ:j0,rotate:j0,skewX:s=>Ja(Math.atan(s[4])),skewY:s=>Ja(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function Nf(s){return s.includes("scale")?1:0}function Sf(s,e){if(!s||s==="none")return Nf(e);const a=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,c;if(a)r=S5,c=a;else{const f=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=N5,c=f}if(!c)return Nf(e);const u=r[e],d=c[1].split(",").map(A5);return typeof u=="function"?u(d):d[u]}const _5=(s,e)=>{const{transform:a="none"}=getComputedStyle(s);return Sf(a,e)};function A5(s){return parseFloat(s.trim())}const gi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xi=new Set(gi),_0=s=>s===pi||s===ve,T5=new Set(["x","y","z"]),E5=gi.filter(s=>!T5.has(s));function k5(s){const e=[];return E5.forEach(a=>{const r=s.getValue(a);r!==void 0&&(e.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),e}const wa={width:({x:s},{paddingLeft:e="0",paddingRight:a="0"})=>s.max-s.min-parseFloat(e)-parseFloat(a),height:({y:s},{paddingTop:e="0",paddingBottom:a="0"})=>s.max-s.min-parseFloat(e)-parseFloat(a),top:(s,{top:e})=>parseFloat(e),left:(s,{left:e})=>parseFloat(e),bottom:({y:s},{top:e})=>parseFloat(e)+(s.max-s.min),right:({x:s},{left:e})=>parseFloat(e)+(s.max-s.min),x:(s,{transform:e})=>Sf(e,"x"),y:(s,{transform:e})=>Sf(e,"y")};wa.translateX=wa.x;wa.translateY=wa.y;const tr=new Set;let _f=!1,Af=!1,Tf=!1;function m1(){if(Af){const s=Array.from(tr).filter(r=>r.needsMeasurement),e=new Set(s.map(r=>r.element)),a=new Map;e.forEach(r=>{const c=k5(r);c.length&&(a.set(r,c),r.render())}),s.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const c=a.get(r);c&&c.forEach(([u,d])=>{r.getValue(u)?.set(d)})}),s.forEach(r=>r.measureEndState()),s.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Af=!1,_f=!1,tr.forEach(s=>s.complete(Tf)),tr.clear()}function p1(){tr.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(Af=!0)})}function C5(){Tf=!0,p1(),m1(),Tf=!1}class Nm{constructor(e,a,r,c,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=a,this.name=r,this.motionValue=c,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(tr.add(this),_f||(_f=!0,yt.read(p1),yt.resolveKeyframes(m1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:a,element:r,motionValue:c}=this;if(e[0]===null){const u=c?.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&a){const f=r.readValue(a,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),c&&u===void 0&&c.set(e[0])}j5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),tr.delete(this)}cancel(){this.state==="scheduled"&&(tr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R5=s=>s.startsWith("--");function O5(s,e,a){R5(e)?s.style.setProperty(e,a):s.style[e]=a}const D5=dm(()=>window.ScrollTimeline!==void 0),M5={};function z5(s,e){const a=dm(s);return()=>M5[e]??a()}const g1=z5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),go=([s,e,a,r])=>`cubic-bezier(${s}, ${e}, ${a}, ${r})`,A0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:go([0,.65,.55,1]),circOut:go([.55,0,1,.45]),backIn:go([.31,.01,.66,-.59]),backOut:go([.33,1.53,.69,.99])};function x1(s,e){if(s)return typeof s=="function"?g1()?d1(s,e):"ease-out":e1(s)?go(s):Array.isArray(s)?s.map(a=>x1(a,e)||A0.easeOut):A0[s]}function U5(s,e,a,{delay:r=0,duration:c=300,repeat:u=0,repeatType:d="loop",ease:f="easeOut",times:p}={},g=void 0){const x={[e]:a};p&&(x.offset=p);const b=x1(f,c);Array.isArray(b)&&(x.easing=b);const v={delay:r,duration:c,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return g&&(v.pseudoElement=g),s.animate(x,v)}function y1(s){return typeof s=="function"&&"applyToOptions"in s}function L5({type:s,...e}){return y1(s)&&g1()?s.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class b1 extends wm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:a,name:r,keyframes:c,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=e,um(typeof e.type!="string");const g=L5(e);this.animation=U5(a,r,c,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const x=vm(c,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(x):O5(a,r,x),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Js(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Js(e)}get time(){return Js(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=un(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&D5()?(this.animation.timeline=e,Zs):a(this)}}const v1={anticipate:Qv,backInOut:Xv,circInOut:Jv};function P5(s){return s in v1}function B5(s){typeof s.ease=="string"&&P5(s.ease)&&(s.ease=v1[s.ease])}const Lh=10;class V5 extends b1{constructor(e){B5(e),f1(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:a,onUpdate:r,onComplete:c,element:u,...d}=this.options;if(!a)return;if(e!==void 0){a.set(e);return}const f=new jm({...d,autoplay:!1}),p=Math.max(Lh,ws.now()-this.startTime),g=bn(0,Lh,p-Lh);a.setWithVelocity(f.sample(Math.max(0,p-g)).value,f.sample(p).value,g),f.stop()}}const T0=(s,e)=>e==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Na.test(s)||s==="0")&&!s.startsWith("url("));function $5(s){const e=s[0];if(s.length===1)return!0;for(let a=0;a<s.length;a++)if(s[a]!==e)return!0}function I5(s,e,a,r){const c=s[0];if(c===null)return!1;if(e==="display"||e==="visibility")return!0;const u=s[s.length-1],d=T0(c,e),f=T0(u,e);return!d||!f?!1:$5(s)||(a==="spring"||y1(a))&&r}function Ef(s){s.duration=0,s.type="keyframes"}const q5=new Set(["opacity","clipPath","filter","transform"]),H5=dm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function G5(s){const{motionValue:e,name:a,repeatDelay:r,repeatType:c,damping:u,type:d}=s;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return H5()&&a&&q5.has(a)&&(a!=="transform"||!g)&&!p&&!r&&c!=="mirror"&&u!==0&&d!=="inertia"}const K5=40;class F5 extends wm{constructor({autoplay:e=!0,delay:a=0,type:r="keyframes",repeat:c=0,repeatDelay:u=0,repeatType:d="loop",keyframes:f,name:p,motionValue:g,element:x,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ws.now();const v={autoplay:e,delay:a,type:r,repeat:c,repeatDelay:u,repeatType:d,name:p,motionValue:g,element:x,...b},j=x?.KeyframeResolver||Nm;this.keyframeResolver=new j(f,(w,A,_)=>this.onKeyframesResolved(w,A,v,!_),p,g,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,a,r,c){this.keyframeResolver=void 0;const{name:u,type:d,velocity:f,delay:p,isHandoff:g,onUpdate:x}=r;this.resolvedAt=ws.now(),I5(e,u,d,f)||((Hn.instantAnimations||!p)&&x?.(vm(e,r,a)),e[0]=e[e.length-1],Ef(r),r.repeat=0);const v={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>K5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:e},j=!g&&G5(v),w=v.motionValue?.owner?.current,A=j?new V5({...v,element:w}):new jm(v);A.finished.then(()=>{this.notifyFinished()}).catch(Zs),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,a){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),C5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function w1(s,e,a,r=0,c=1){const u=Array.from(s).sort((g,x)=>g.sortNodePosition(x)).indexOf(e),d=s.size,f=(d-1)*r;return typeof a=="function"?a(u,d):c===1?u*r:f-u*r}const Y5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X5(s){const e=Y5.exec(s);if(!e)return[,];const[,a,r,c]=e;return[`--${a??r}`,c]}function j1(s,e,a=1){const[r,c]=X5(s);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const d=u.trim();return $v(d)?parseFloat(d):d}return pm(c)?j1(c,e,a+1):c}const Q5={type:"spring",stiffness:500,damping:25,restSpeed:10},W5=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),J5={type:"keyframes",duration:.8},Z5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eE=(s,{keyframes:e})=>e.length>2?J5:xi.has(s)?s.startsWith("scale")?W5(e[1]):Q5:Z5,tE=s=>s!==null;function sE(s,{repeat:e,repeatType:a="loop"},r){const c=s.filter(tE),u=e&&a!=="loop"&&e%2===1?0:c.length-1;return c[u]}function N1(s,e){if(s?.inherit&&e){const{inherit:a,...r}=s;return{...e,...r}}return s}function Sm(s,e){const a=s?.[e]??s?.default??s;return a!==s?N1(a,s):a}function nE({when:s,delay:e,delayChildren:a,staggerChildren:r,staggerDirection:c,repeat:u,repeatType:d,repeatDelay:f,from:p,elapsed:g,...x}){return!!Object.keys(x).length}const _m=(s,e,a,r={},c,u)=>d=>{const f=Sm(r,s)||{},p=f.delay||r.delay||0;let{elapsed:g=0}=r;g=g-un(p);const x={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:v=>{e.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{d(),f.onComplete&&f.onComplete()},name:s,motionValue:e,element:u?void 0:c};nE(f)||Object.assign(x,eE(s,x)),x.duration&&(x.duration=un(x.duration)),x.repeatDelay&&(x.repeatDelay=un(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let b=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(Ef(x),x.delay===0&&(b=!0)),(Hn.instantAnimations||Hn.skipAnimations||c?.shouldSkipAnimations)&&(b=!0,Ef(x),x.delay=0),x.allowFlatten=!f.type&&!f.ease,b&&!u&&e.get()!==void 0){const v=sE(x.keyframes,f);if(v!==void 0){yt.update(()=>{x.onUpdate(v),x.onComplete()});return}}return f.isSync?new jm(x):new F5(x)};function E0(s){const e=[{},{}];return s?.values.forEach((a,r)=>{e[0][r]=a.get(),e[1][r]=a.getVelocity()}),e}function Am(s,e,a,r){if(typeof e=="function"){const[c,u]=E0(r);e=e(a!==void 0?a:s.custom,c,u)}if(typeof e=="string"&&(e=s.variants&&s.variants[e]),typeof e=="function"){const[c,u]=E0(r);e=e(a!==void 0?a:s.custom,c,u)}return e}function ci(s,e,a){const r=s.getProps();return Am(r,e,a!==void 0?a:r.custom,s)}const S1=new Set(["width","height","top","left","right","bottom",...gi]),k0=30,aE=s=>!isNaN(parseFloat(s));class rE{constructor(e,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const c=ws.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=a.owner}setCurrent(e){this.current=e,this.updatedAt=ws.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=aE(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,a){this.events[e]||(this.events[e]=new hm);const r=this.events[e].add(a);return e==="change"?()=>{r(),yt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,a){this.passiveEffect=e,this.stopPassiveEffect=a}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,a=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ws.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>k0)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,k0);return Hv(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(e){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=e(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fi(s,e){return new rE(s,e)}const kf=s=>Array.isArray(s);function iE(s,e,a){s.hasValue(e)?s.getValue(e).set(a):s.addValue(e,fi(a))}function oE(s){return kf(s)?s[s.length-1]||0:s}function lE(s,e){const a=ci(s,e);let{transitionEnd:r={},transition:c={},...u}=a||{};u={...u,...r};for(const d in u){const f=oE(u[d]);iE(s,d,f)}}const xs=s=>!!(s&&s.getVelocity);function cE(s){return!!(xs(s)&&s.add)}function Cf(s,e){const a=s.getValue("willChange");if(cE(a))return a.add(e);if(!a&&Hn.WillChange){const r=new Hn.WillChange("auto");s.addValue("willChange",r),r.add(e)}}function Tm(s){return s.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const uE="framerAppearId",_1="data-"+Tm(uE);function A1(s){return s.props[_1]}function dE({protectedKeys:s,needsAnimating:e},a){const r=s.hasOwnProperty(a)&&e[a]!==!0;return e[a]=!1,r}function T1(s,e,{delay:a=0,transitionOverride:r,type:c}={}){let{transition:u,transitionEnd:d,...f}=e;const p=s.getDefaultTransition();u=u?N1(u,p):p;const g=u?.reduceMotion;r&&(u=r);const x=[],b=c&&s.animationState&&s.animationState.getState()[c];for(const v in f){const j=s.getValue(v,s.latestValues[v]??null),w=f[v];if(w===void 0||b&&dE(b,v))continue;const A={delay:a,...Sm(u||{},v)},_=j.get();if(_!==void 0&&!j.isAnimating&&!Array.isArray(w)&&w===_&&!A.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const L=A1(s);if(L){const q=window.MotionHandoffAnimation(L,v,yt);q!==null&&(A.startTime=q,C=!0)}}Cf(s,v);const D=g??s.shouldReduceMotion;j.start(_m(v,j,w,D&&S1.has(v)?{type:!1}:A,s,C));const T=j.animation;T&&x.push(T)}if(d){const v=()=>yt.update(()=>{d&&lE(s,d)});x.length?Promise.all(x).then(v):v()}return x}function Rf(s,e,a={}){const r=ci(s,e,a.type==="exit"?s.presenceContext?.custom:void 0);let{transition:c=s.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(c=a.transitionOverride);const u=r?()=>Promise.all(T1(s,r,a)):()=>Promise.resolve(),d=s.variantChildren&&s.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:b}=c;return hE(s,e,p,g,x,b,a)}:()=>Promise.resolve(),{when:f}=c;if(f){const[p,g]=f==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(a.delay)])}function hE(s,e,a=0,r=0,c=0,u=1,d){const f=[];for(const p of s.variantChildren)p.notify("AnimationStart",e),f.push(Rf(p,e,{...d,delay:a+(typeof r=="function"?0:r)+w1(s.variantChildren,p,r,c,u)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(f)}function fE(s,e,a={}){s.notify("AnimationStart",e);let r;if(Array.isArray(e)){const c=e.map(u=>Rf(s,u,a));r=Promise.all(c)}else if(typeof e=="string")r=Rf(s,e,a);else{const c=typeof e=="function"?ci(s,e,a.custom):e;r=Promise.all(T1(s,c,a))}return r.then(()=>{s.notify("AnimationComplete",e)})}const mE={test:s=>s==="auto",parse:s=>s},E1=s=>e=>e.test(s),k1=[pi,ve,yn,pa,IT,$T,mE],C0=s=>k1.find(E1(s));function pE(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||qv(s):!0}const gE=new Set(["brightness","contrast","saturate","opacity"]);function xE(s){const[e,a]=s.slice(0,-1).split("(");if(e==="drop-shadow")return s;const[r]=a.match(gm)||[];if(!r)return s;const c=a.replace(r,"");let u=gE.has(e)?1:0;return r!==a&&(u*=100),e+"("+u+c+")"}const yE=/\b([a-z-]*)\(.*?\)/gu,Of={...Na,getAnimatableNone:s=>{const e=s.match(yE);return e?e.map(xE).join(" "):s}},R0={...pi,transform:Math.round},bE={rotate:pa,rotateX:pa,rotateY:pa,rotateZ:pa,scale:fc,scaleX:fc,scaleY:fc,scaleZ:fc,skew:pa,skewX:pa,skewY:pa,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:Co,originX:x0,originY:x0,originZ:ve},Em={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,inset:ve,insetBlock:ve,insetBlockStart:ve,insetBlockEnd:ve,insetInline:ve,insetInlineStart:ve,insetInlineEnd:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,paddingBlock:ve,paddingBlockStart:ve,paddingBlockEnd:ve,paddingInline:ve,paddingInlineStart:ve,paddingInlineEnd:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,marginBlock:ve,marginBlockStart:ve,marginBlockEnd:ve,marginInline:ve,marginInlineStart:ve,marginInlineEnd:ve,fontSize:ve,backgroundPositionX:ve,backgroundPositionY:ve,...bE,zIndex:R0,fillOpacity:Co,strokeOpacity:Co,numOctaves:R0},vE={...Em,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:Of,WebkitFilter:Of},C1=s=>vE[s];function R1(s,e){let a=C1(s);return a!==Of&&(a=Na),a.getAnimatableNone?a.getAnimatableNone(e):void 0}const wE=new Set(["auto","none","0"]);function jE(s,e,a){let r=0,c;for(;r<s.length&&!c;){const u=s[r];typeof u=="string"&&!wE.has(u)&&Ro(u).values.length&&(c=s[r]),r++}if(c&&a)for(const u of e)s[u]=R1(a,c)}class NE extends Nm{constructor(e,a,r,c,u){super(e,a,r,c,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let x=0;x<e.length;x++){let b=e[x];if(typeof b=="string"&&(b=b.trim(),pm(b))){const v=j1(b,a.current);v!==void 0&&(e[x]=v),x===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!S1.has(r)||e.length!==2)return;const[c,u]=e,d=C0(c),f=C0(u),p=g0(c),g=g0(u);if(p!==g&&wa[r]){this.needsMeasurement=!0;return}if(d!==f)if(_0(d)&&_0(f))for(let x=0;x<e.length;x++){const b=e[x];typeof b=="string"&&(e[x]=parseFloat(b))}else wa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:a}=this,r=[];for(let c=0;c<e.length;c++)(e[c]===null||pE(e[c]))&&r.push(c);r.length&&jE(e,r,a)}measureInitialState(){const{element:e,unresolvedKeyframes:a,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a[0]=this.measuredOrigin;const c=a[a.length-1];c!==void 0&&e.getValue(r,c).jump(c,!1)}measureEndState(){const{element:e,name:a,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const c=e.getValue(a);c&&c.jump(this.measuredOrigin,!1);const u=r.length-1,d=r[u];r[u]=wa[a](e.measureViewportBox(),window.getComputedStyle(e.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const SE=new Set(["opacity","clipPath","filter","transform"]);function O1(s,e,a){if(s==null)return[];if(s instanceof EventTarget)return[s];if(typeof s=="string"){let r=document;const c=a?.[s]??r.querySelectorAll(s);return c?Array.from(c):[]}return Array.from(s).filter(r=>r!=null)}const D1=(s,e)=>e&&typeof s=="number"?e.transform(s):s;function Df(s){return Iv(s)&&"offsetHeight"in s}const{schedule:km}=t1(queueMicrotask,!1),on={x:!1,y:!1};function M1(){return on.x||on.y}function _E(s){return s==="x"||s==="y"?on[s]?null:(on[s]=!0,()=>{on[s]=!1}):on.x||on.y?null:(on.x=on.y=!0,()=>{on.x=on.y=!1})}function z1(s,e){const a=O1(s),r=new AbortController,c={passive:!0,...e,signal:r.signal};return[a,c,()=>r.abort()]}function AE(s){return!(s.pointerType==="touch"||M1())}function TE(s,e,a={}){const[r,c,u]=z1(s,a);return r.forEach(d=>{let f=!1,p=!1,g;const x=()=>{d.removeEventListener("pointerleave",w)},b=_=>{g&&(g(_),g=void 0),x()},v=_=>{f=!1,window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",v),p&&(p=!1,b(_))},j=()=>{f=!0,window.addEventListener("pointerup",v,c),window.addEventListener("pointercancel",v,c)},w=_=>{if(_.pointerType!=="touch"){if(f){p=!0;return}b(_)}},A=_=>{if(!AE(_))return;p=!1;const C=e(d,_);typeof C=="function"&&(g=C,d.addEventListener("pointerleave",w,c))};d.addEventListener("pointerenter",A,c),d.addEventListener("pointerdown",j,c)}),u}const U1=(s,e)=>e?s===e?!0:U1(s,e.parentElement):!1,Cm=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,EE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kE(s){return EE.has(s.tagName)||s.isContentEditable===!0}const CE=new Set(["INPUT","SELECT","TEXTAREA"]);function RE(s){return CE.has(s.tagName)||s.isContentEditable===!0}const kc=new WeakSet;function O0(s){return e=>{e.key==="Enter"&&s(e)}}function Ph(s,e){s.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const OE=(s,e)=>{const a=s.currentTarget;if(!a)return;const r=O0(()=>{if(kc.has(a))return;Ph(a,"down");const c=O0(()=>{Ph(a,"up")}),u=()=>Ph(a,"cancel");a.addEventListener("keyup",c,e),a.addEventListener("blur",u,e)});a.addEventListener("keydown",r,e),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),e)};function D0(s){return Cm(s)&&!M1()}const M0=new WeakSet;function DE(s,e,a={}){const[r,c,u]=z1(s,a),d=f=>{const p=f.currentTarget;if(!D0(f)||M0.has(f))return;kc.add(p),a.stopPropagation&&M0.add(f);const g=e(p,f),x=(j,w)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",v),kc.has(p)&&kc.delete(p),D0(j)&&typeof g=="function"&&g(j,{success:w})},b=j=>{x(j,p===window||p===document||a.useGlobalTarget||U1(p,j.target))},v=j=>{x(j,!1)};window.addEventListener("pointerup",b,c),window.addEventListener("pointercancel",v,c)};return r.forEach(f=>{(a.useGlobalTarget?window:f).addEventListener("pointerdown",d,c),Df(f)&&(f.addEventListener("focus",g=>OE(g,c)),!kE(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function Rm(s){return Iv(s)&&"ownerSVGElement"in s}const Cc=new WeakMap;let Rc;const L1=(s,e,a)=>(r,c)=>c&&c[0]?c[0][s+"Size"]:Rm(r)&&"getBBox"in r?r.getBBox()[e]:r[a],ME=L1("inline","width","offsetWidth"),zE=L1("block","height","offsetHeight");function UE({target:s,borderBoxSize:e}){Cc.get(s)?.forEach(a=>{a(s,{get width(){return ME(s,e)},get height(){return zE(s,e)}})})}function LE(s){s.forEach(UE)}function PE(){typeof ResizeObserver>"u"||(Rc=new ResizeObserver(LE))}function BE(s,e){Rc||PE();const a=O1(s);return a.forEach(r=>{let c=Cc.get(r);c||(c=new Set,Cc.set(r,c)),c.add(e),Rc?.observe(r)}),()=>{a.forEach(r=>{const c=Cc.get(r);c?.delete(e),c?.size||Rc?.unobserve(r)})}}const Oc=new Set;let si;function VE(){si=()=>{const s={get width(){return window.innerWidth},get height(){return window.innerHeight}};Oc.forEach(e=>e(s))},window.addEventListener("resize",si)}function $E(s){return Oc.add(s),si||VE(),()=>{Oc.delete(s),!Oc.size&&typeof si=="function"&&(window.removeEventListener("resize",si),si=void 0)}}function z0(s,e){return typeof s=="function"?$E(s):BE(s,e)}function IE(s){return Rm(s)&&s.tagName==="svg"}const qE=[...k1,Ft,Na],HE=s=>qE.find(E1(s)),U0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ni=()=>({x:U0(),y:U0()}),L0=()=>({min:0,max:0}),Zt=()=>({x:L0(),y:L0()}),GE=new WeakMap;function su(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function Oo(s){return typeof s=="string"||Array.isArray(s)}const Om=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dm=["initial",...Om];function nu(s){return su(s.animate)||Dm.some(e=>Oo(s[e]))}function P1(s){return!!(nu(s)||s.variants)}function KE(s,e,a){for(const r in e){const c=e[r],u=a[r];if(xs(c))s.addValue(r,c);else if(xs(u))s.addValue(r,fi(c,{owner:s}));else if(u!==c)if(s.hasValue(r)){const d=s.getValue(r);d.liveStyle===!0?d.jump(c):d.hasAnimated||d.set(c)}else{const d=s.getStaticValue(r);s.addValue(r,fi(d!==void 0?d:c,{owner:s}))}}for(const r in a)e[r]===void 0&&s.removeValue(r);return e}const Mf={current:null},B1={current:!1},FE=typeof window<"u";function YE(){if(B1.current=!0,!!FE)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),e=()=>Mf.current=s.matches;s.addEventListener("change",e),e()}else Mf.current=!1}const P0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let qc={};function V1(s){qc=s}function XE(){return qc}class QE{scrapeMotionValuesFromProps(e,a,r){return{}}constructor({parent:e,props:a,presenceContext:r,reducedMotionConfig:c,skipAnimations:u,blockInitialAnimation:d,visualState:f},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Nm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const j=ws.now();this.renderScheduledAt<j&&(this.renderScheduledAt=j,yt.render(this.render,!1,!0))};const{latestValues:g,renderState:x}=f;this.latestValues=g,this.baseTarget={...g},this.initialValues=a.initial?{...g}:{},this.renderState=x,this.parent=e,this.props=a,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=c,this.skipAnimationsConfig=u,this.options=p,this.blockInitialAnimation=!!d,this.isControllingVariants=nu(a),this.isVariantNode=P1(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...v}=this.scrapeMotionValuesFromProps(a,{},this);for(const j in v){const w=v[j];g[j]!==void 0&&xs(w)&&w.set(g[j])}}mount(e){if(this.hasBeenMounted)for(const a in this.initialValues)this.values.get(a)?.jump(this.initialValues[a]),this.latestValues[a]=this.initialValues[a];this.current=e,GE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(B1.current||YE(),this.shouldReduceMotion=Mf.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ja(this.notifyUpdate),ja(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const a=this.features[e];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,a){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),a.accelerate&&SE.has(e)&&this.current instanceof HTMLElement){const{factory:d,keyframes:f,times:p,ease:g,duration:x}=a.accelerate,b=new b1({element:this.current,name:e,keyframes:f,times:p,ease:g,duration:un(x)}),v=d(b);this.valueSubscriptions.set(e,()=>{v(),b.cancel()});return}const r=xi.has(e);r&&this.onBindTransform&&this.onBindTransform();const c=a.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&yt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,a)),this.valueSubscriptions.set(e,()=>{c(),u&&u(),a.owner&&a.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qc){const a=qc[e];if(!a)continue;const{isEnabled:r,Feature:c}=a;if(!this.features[e]&&c&&r(this.props)&&(this.features[e]=new c(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,a){this.latestValues[e]=a}update(e,a){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<P0.length;r++){const c=P0[r];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const u="on"+c,d=e[u];d&&(this.propEventSubscriptions[c]=this.on(c,d))}this.prevMotionValues=KE(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(e),()=>a.variantChildren.delete(e)}addValue(e,a){const r=this.values.get(e);a!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,a),this.values.set(e,a),this.latestValues[e]=a.get())}removeValue(e){this.values.delete(e);const a=this.valueSubscriptions.get(e);a&&(a(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,a){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&a!==void 0&&(r=fi(a===null?void 0:a,{owner:this}),this.addValue(e,r)),r}readValue(e,a){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&($v(r)||qv(r))?r=parseFloat(r):!HE(r)&&Na.test(a)&&(r=R1(e,a)),this.setBaseTarget(e,xs(r)?r.get():r)),xs(r)?r.get():r}setBaseTarget(e,a){this.baseTarget[e]=a}getBaseTarget(e){const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const u=Am(this.props,a,this.presenceContext?.custom);u&&(r=u[e])}if(a&&r!==void 0)return r;const c=this.getBaseTargetFromProps(this.props,e);return c!==void 0&&!xs(c)?c:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,a){return this.events[e]||(this.events[e]=new hm),this.events[e].add(a)}notify(e,...a){this.events[e]&&this.events[e].notify(...a)}scheduleRenderMicrotask(){km.render(this.render)}}class $1 extends QE{constructor(){super(...arguments),this.KeyframeResolver=NE}sortInstanceNodePosition(e,a){return e.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(e,a){const r=e.style;return r?r[a]:void 0}removeValueFromRenderState(e,{vars:a,style:r}){delete a[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xs(e)&&(this.childSubscription=e.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}class Sa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function I1({top:s,left:e,right:a,bottom:r}){return{x:{min:e,max:a},y:{min:s,max:r}}}function WE({x:s,y:e}){return{top:e.min,right:s.max,bottom:e.max,left:s.min}}function JE(s,e){if(!e)return s;const a=e({x:s.left,y:s.top}),r=e({x:s.right,y:s.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function Bh(s){return s===void 0||s===1}function zf({scale:s,scaleX:e,scaleY:a}){return!Bh(s)||!Bh(e)||!Bh(a)}function Ka(s){return zf(s)||q1(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function q1(s){return B0(s.x)||B0(s.y)}function B0(s){return s&&s!=="0%"}function Hc(s,e,a){const r=s-a,c=e*r;return a+c}function V0(s,e,a,r,c){return c!==void 0&&(s=Hc(s,c,r)),Hc(s,a,r)+e}function Uf(s,e=0,a=1,r,c){s.min=V0(s.min,e,a,r,c),s.max=V0(s.max,e,a,r,c)}function H1(s,{x:e,y:a}){Uf(s.x,e.translate,e.scale,e.originPoint),Uf(s.y,a.translate,a.scale,a.originPoint)}const $0=.999999999999,I0=1.0000000000001;function ZE(s,e,a,r=!1){const c=a.length;if(!c)return;e.x=e.y=1;let u,d;for(let f=0;f<c;f++){u=a[f],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ri(s,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,H1(s,d)),r&&Ka(u.latestValues)&&ri(s,u.latestValues))}e.x<I0&&e.x>$0&&(e.x=1),e.y<I0&&e.y>$0&&(e.y=1)}function ai(s,e){s.min=s.min+e,s.max=s.max+e}function q0(s,e,a,r,c=.5){const u=Et(s.min,s.max,c);Uf(s,e,a,u,r)}function ri(s,e){q0(s.x,e.x,e.scaleX,e.scale,e.originX),q0(s.y,e.y,e.scaleY,e.scale,e.originY)}function G1(s,e){return I1(JE(s.getBoundingClientRect(),e))}function ek(s,e,a){const r=G1(s,a),{scroll:c}=e;return c&&(ai(r.x,c.offset.x),ai(r.y,c.offset.y)),r}const tk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sk=gi.length;function nk(s,e,a){let r="",c=!0;for(let u=0;u<sk;u++){const d=gi[u],f=s[d];if(f===void 0)continue;let p=!0;if(typeof f=="number")p=f===(d.startsWith("scale")?1:0);else{const g=parseFloat(f);p=d.startsWith("scale")?g===1:g===0}if(!p||a){const g=D1(f,Em[d]);if(!p){c=!1;const x=tk[d]||d;r+=`${x}(${g}) `}a&&(e[d]=g)}}return r=r.trim(),a?r=a(e,c?"":r):c&&(r="none"),r}function Mm(s,e,a){const{style:r,vars:c,transformOrigin:u}=s;let d=!1,f=!1;for(const p in e){const g=e[p];if(xi.has(p)){d=!0;continue}else if(n1(p)){c[p]=g;continue}else{const x=D1(g,Em[p]);p.startsWith("origin")?(f=!0,u[p]=x):r[p]=x}}if(e.transform||(d||a?r.transform=nk(e,s.transform,a):r.transform&&(r.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:x=0}=u;r.transformOrigin=`${p} ${g} ${x}`}}function K1(s,{style:e,vars:a},r,c){const u=s.style;let d;for(d in e)u[d]=e[d];c?.applyProjectionStyles(u,r);for(d in a)u.setProperty(d,a[d])}function H0(s,e){return e.max===e.min?0:s/(e.max-e.min)*100}const fo={correct:(s,e)=>{if(!e.target)return s;if(typeof s=="string")if(ve.test(s))s=parseFloat(s);else return s;const a=H0(s,e.target.x),r=H0(s,e.target.y);return`${a}% ${r}%`}},ak={correct:(s,{treeScale:e,projectionDelta:a})=>{const r=s,c=Na.parse(s);if(c.length>5)return r;const u=Na.createTransformer(s),d=typeof c[0]!="number"?1:0,f=a.x.scale*e.x,p=a.y.scale*e.y;c[0+d]/=f,c[1+d]/=p;const g=Et(f,p,.5);return typeof c[2+d]=="number"&&(c[2+d]/=g),typeof c[3+d]=="number"&&(c[3+d]/=g),u(c)}},Lf={borderRadius:{...fo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fo,borderTopRightRadius:fo,borderBottomLeftRadius:fo,borderBottomRightRadius:fo,boxShadow:ak};function F1(s,{layout:e,layoutId:a}){return xi.has(s)||s.startsWith("origin")||(e||a!==void 0)&&(!!Lf[s]||s==="opacity")}function zm(s,e,a){const r=s.style,c=e?.style,u={};if(!r)return u;for(const d in r)(xs(r[d])||c&&xs(c[d])||F1(d,s)||a?.getValue(d)?.liveStyle!==void 0)&&(u[d]=r[d]);return u}function rk(s){return window.getComputedStyle(s)}class ik extends $1{constructor(){super(...arguments),this.type="html",this.renderInstance=K1}readValueFromInstance(e,a){if(xi.has(a))return this.projection?.isProjecting?Nf(a):_5(e,a);{const r=rk(e),c=(n1(a)?r.getPropertyValue(a):r[a])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(e,{transformPagePoint:a}){return G1(e,a)}build(e,a,r){Mm(e,a,r.transformTemplate)}scrapeMotionValuesFromProps(e,a,r){return zm(e,a,r)}}const ok={offset:"stroke-dashoffset",array:"stroke-dasharray"},lk={offset:"strokeDashoffset",array:"strokeDasharray"};function ck(s,e,a=1,r=0,c=!0){s.pathLength=1;const u=c?ok:lk;s[u.offset]=`${-r}`,s[u.array]=`${e} ${a}`}const uk=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Y1(s,{attrX:e,attrY:a,attrScale:r,pathLength:c,pathSpacing:u=1,pathOffset:d=0,...f},p,g,x){if(Mm(s,f,g),p){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:b,style:v}=s;b.transform&&(v.transform=b.transform,delete b.transform),(v.transform||b.transformOrigin)&&(v.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),v.transform&&(v.transformBox=x?.transformBox??"fill-box",delete b.transformBox);for(const j of uk)b[j]!==void 0&&(v[j]=b[j],delete b[j]);e!==void 0&&(b.x=e),a!==void 0&&(b.y=a),r!==void 0&&(b.scale=r),c!==void 0&&ck(b,c,u,d,!1)}const X1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Q1=s=>typeof s=="string"&&s.toLowerCase()==="svg";function dk(s,e,a,r){K1(s,e,void 0,r);for(const c in e.attrs)s.setAttribute(X1.has(c)?c:Tm(c),e.attrs[c])}function W1(s,e,a){const r=zm(s,e,a);for(const c in s)if(xs(s[c])||xs(e[c])){const u=gi.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;r[u]=s[c]}return r}class hk extends $1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zt}getBaseTargetFromProps(e,a){return e[a]}readValueFromInstance(e,a){if(xi.has(a)){const r=C1(a);return r&&r.default||0}return a=X1.has(a)?a:Tm(a),e.getAttribute(a)}scrapeMotionValuesFromProps(e,a,r){return W1(e,a,r)}build(e,a,r){Y1(e,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,a,r,c){dk(e,a,r,c)}mount(e){this.isSVGTag=Q1(e.tagName),super.mount(e)}}const fk=Dm.length;function J1(s){if(!s)return;if(!s.isControllingVariants){const a=s.parent?J1(s.parent)||{}:{};return s.props.initial!==void 0&&(a.initial=s.props.initial),a}const e={};for(let a=0;a<fk;a++){const r=Dm[a],c=s.props[r];(Oo(c)||c===!1)&&(e[r]=c)}return e}function Z1(s,e){if(!Array.isArray(e))return!1;const a=e.length;if(a!==s.length)return!1;for(let r=0;r<a;r++)if(e[r]!==s[r])return!1;return!0}const mk=[...Om].reverse(),pk=Om.length;function gk(s){return e=>Promise.all(e.map(({animation:a,options:r})=>fE(s,a,r)))}function xk(s){let e=gk(s),a=G0(),r=!0;const c=p=>(g,x)=>{const b=ci(s,x,p==="exit"?s.presenceContext?.custom:void 0);if(b){const{transition:v,transitionEnd:j,...w}=b;g={...g,...w,...j}}return g};function u(p){e=p(s)}function d(p){const{props:g}=s,x=J1(s.parent)||{},b=[],v=new Set;let j={},w=1/0;for(let _=0;_<pk;_++){const C=mk[_],D=a[C],T=g[C]!==void 0?g[C]:x[C],L=Oo(T),q=C===p?D.isActive:null;q===!1&&(w=_);let H=T===x[C]&&T!==g[C]&&L;if(H&&r&&s.manuallyAnimateOnMount&&(H=!1),D.protectedKeys={...j},!D.isActive&&q===null||!T&&!D.prevProp||su(T)||typeof T=="boolean")continue;if(C==="exit"&&D.isActive&&q!==!0){D.prevResolvedValues&&(j={...j,...D.prevResolvedValues});continue}const X=yk(D.prevProp,T);let ee=X||C===p&&D.isActive&&!H&&L||_>w&&L,oe=!1;const ue=Array.isArray(T)?T:[T];let ge=ue.reduce(c(C),{});q===!1&&(ge={});const{prevResolvedValues:Ne={}}=D,Me={...Ne,...ge},we=W=>{ee=!0,v.has(W)&&(oe=!0,v.delete(W)),D.needsAnimating[W]=!0;const se=s.getValue(W);se&&(se.liveStyle=!1)};for(const W in Me){const se=ge[W],pe=Ne[W];if(j.hasOwnProperty(W))continue;let ie=!1;kf(se)&&kf(pe)?ie=!Z1(se,pe):ie=se!==pe,ie?se!=null?we(W):v.add(W):se!==void 0&&v.has(W)?we(W):D.protectedKeys[W]=!0}D.prevProp=T,D.prevResolvedValues=ge,D.isActive&&(j={...j,...ge}),r&&s.blockInitialAnimation&&(ee=!1);const Ue=H&&X;ee&&(!Ue||oe)&&b.push(...ue.map(W=>{const se={type:C};if(typeof W=="string"&&r&&!Ue&&s.manuallyAnimateOnMount&&s.parent){const{parent:pe}=s,ie=ci(pe,W);if(pe.enteringChildren&&ie){const{delayChildren:E}=ie.transition||{};se.delay=w1(pe.enteringChildren,s,E)}}return{animation:W,options:se}}))}if(v.size){const _={};if(typeof g.initial!="boolean"){const C=ci(s,Array.isArray(g.initial)?g.initial[0]:g.initial);C&&C.transition&&(_.transition=C.transition)}v.forEach(C=>{const D=s.getBaseTarget(C),T=s.getValue(C);T&&(T.liveStyle=!0),_[C]=D??null}),b.push({animation:_})}let A=!!b.length;return r&&(g.initial===!1||g.initial===g.animate)&&!s.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(b):Promise.resolve()}function f(p,g){if(a[p].isActive===g)return Promise.resolve();s.variantChildren?.forEach(b=>b.animationState?.setActive(p,g)),a[p].isActive=g;const x=d(p);for(const b in a)a[b].protectedKeys={};return x}return{animateChanges:d,setActive:f,setAnimateFunction:u,getState:()=>a,reset:()=>{a=G0()}}}function yk(s,e){return typeof e=="string"?e!==s:Array.isArray(e)?!Z1(e,s):!1}function qa(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function G0(){return{animate:qa(!0),whileInView:qa(),whileHover:qa(),whileTap:qa(),whileDrag:qa(),whileFocus:qa(),exit:qa()}}function K0(s,e){s.min=e.min,s.max=e.max}function an(s,e){K0(s.x,e.x),K0(s.y,e.y)}function F0(s,e){s.translate=e.translate,s.scale=e.scale,s.originPoint=e.originPoint,s.origin=e.origin}const ew=1e-4,bk=1-ew,vk=1+ew,tw=.01,wk=0-tw,jk=0+tw;function js(s){return s.max-s.min}function Nk(s,e,a){return Math.abs(s-e)<=a}function Y0(s,e,a,r=.5){s.origin=r,s.originPoint=Et(e.min,e.max,s.origin),s.scale=js(a)/js(e),s.translate=Et(a.min,a.max,s.origin)-s.originPoint,(s.scale>=bk&&s.scale<=vk||isNaN(s.scale))&&(s.scale=1),(s.translate>=wk&&s.translate<=jk||isNaN(s.translate))&&(s.translate=0)}function jo(s,e,a,r){Y0(s.x,e.x,a.x,r?r.originX:void 0),Y0(s.y,e.y,a.y,r?r.originY:void 0)}function X0(s,e,a){s.min=a.min+e.min,s.max=s.min+js(e)}function Sk(s,e,a){X0(s.x,e.x,a.x),X0(s.y,e.y,a.y)}function Q0(s,e,a){s.min=e.min-a.min,s.max=s.min+js(e)}function Gc(s,e,a){Q0(s.x,e.x,a.x),Q0(s.y,e.y,a.y)}function W0(s,e,a,r,c){return s-=e,s=Hc(s,1/a,r),c!==void 0&&(s=Hc(s,1/c,r)),s}function _k(s,e=0,a=1,r=.5,c,u=s,d=s){if(yn.test(e)&&(e=parseFloat(e),e=Et(d.min,d.max,e/100)-d.min),typeof e!="number")return;let f=Et(u.min,u.max,r);s===u&&(f-=e),s.min=W0(s.min,e,a,f,c),s.max=W0(s.max,e,a,f,c)}function J0(s,e,[a,r,c],u,d){_k(s,e[a],e[r],e[c],e.scale,u,d)}const Ak=["x","scaleX","originX"],Tk=["y","scaleY","originY"];function Z0(s,e,a,r){J0(s.x,e,Ak,a?a.x:void 0,r?r.x:void 0),J0(s.y,e,Tk,a?a.y:void 0,r?r.y:void 0)}function eb(s){return s.translate===0&&s.scale===1}function sw(s){return eb(s.x)&&eb(s.y)}function tb(s,e){return s.min===e.min&&s.max===e.max}function Ek(s,e){return tb(s.x,e.x)&&tb(s.y,e.y)}function sb(s,e){return Math.round(s.min)===Math.round(e.min)&&Math.round(s.max)===Math.round(e.max)}function nw(s,e){return sb(s.x,e.x)&&sb(s.y,e.y)}function nb(s){return js(s.x)/js(s.y)}function ab(s,e){return s.translate===e.translate&&s.scale===e.scale&&s.originPoint===e.originPoint}function xn(s){return[s("x"),s("y")]}function kk(s,e,a){let r="";const c=s.x.translate/e.x,u=s.y.translate/e.y,d=a?.z||0;if((c||u||d)&&(r=`translate3d(${c}px, ${u}px, ${d}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),a){const{transformPerspective:g,rotate:x,rotateX:b,rotateY:v,skewX:j,skewY:w}=a;g&&(r=`perspective(${g}px) ${r}`),x&&(r+=`rotate(${x}deg) `),b&&(r+=`rotateX(${b}deg) `),v&&(r+=`rotateY(${v}deg) `),j&&(r+=`skewX(${j}deg) `),w&&(r+=`skewY(${w}deg) `)}const f=s.x.scale*e.x,p=s.y.scale*e.y;return(f!==1||p!==1)&&(r+=`scale(${f}, ${p})`),r||"none"}const aw=["TopLeft","TopRight","BottomLeft","BottomRight"],Ck=aw.length,rb=s=>typeof s=="string"?parseFloat(s):s,ib=s=>typeof s=="number"||ve.test(s);function Rk(s,e,a,r,c,u){c?(s.opacity=Et(0,a.opacity??1,Ok(r)),s.opacityExit=Et(e.opacity??1,0,Dk(r))):u&&(s.opacity=Et(e.opacity??1,a.opacity??1,r));for(let d=0;d<Ck;d++){const f=`border${aw[d]}Radius`;let p=ob(e,f),g=ob(a,f);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||ib(p)===ib(g)?(s[f]=Math.max(Et(rb(p),rb(g),r),0),(yn.test(g)||yn.test(p))&&(s[f]+="%")):s[f]=g}(e.rotate||a.rotate)&&(s.rotate=Et(e.rotate||0,a.rotate||0,r))}function ob(s,e){return s[e]!==void 0?s[e]:s.borderRadius}const Ok=rw(0,.5,Wv),Dk=rw(.5,.95,Zs);function rw(s,e,a){return r=>r<s?0:r>e?1:a(ko(s,e,r))}function Mk(s,e,a){const r=xs(s)?s:fi(s);return r.start(_m("",r,e,a)),r.animation}function Do(s,e,a,r={passive:!0}){return s.addEventListener(e,a,r),()=>s.removeEventListener(e,a)}const zk=(s,e)=>s.depth-e.depth;class Uk{constructor(){this.children=[],this.isDirty=!1}add(e){cm(this.children,e),this.isDirty=!0}remove(e){Bc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zk),this.isDirty=!1,this.children.forEach(e)}}function Lk(s,e){const a=ws.now(),r=({timestamp:c})=>{const u=c-a;u>=e&&(ja(r),s(u-e))};return yt.setup(r,!0),()=>ja(r)}function Dc(s){return xs(s)?s.get():s}class Pk{constructor(){this.members=[]}add(e){cm(this.members,e);for(let a=this.members.length-1;a>=0;a--){const r=this.members[a];if(r===e||r===this.lead||r===this.prevLead)continue;const c=r.instance;c&&c.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&Bc(this.members,r)}e.scheduleRender()}remove(e){if(Bc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(e){const a=this.members.findIndex(c=>e===c);if(a===0)return!1;let r;for(let c=a;c>=0;c--){const u=this.members[c],d=u.instance;if(u.isPresent!==!1&&(!d||d.isConnected!==!1)){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,a){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const c=r.options.layoutDependency,u=e.options.layoutDependency;if(!(c!==void 0&&u!==void 0&&c===u)){const p=r.instance;p&&p.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,a&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:f}=e.options;f===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:a,resumingFrom:r}=e;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Mc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Vh=["","X","Y","Z"],Bk=1e3;let Vk=0;function $h(s,e,a,r){const{latestValues:c}=e;c[s]&&(a[s]=c[s],e.setStaticValue(s,0),r&&(r[s]=0))}function iw(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:e}=s.options;if(!e)return;const a=A1(e);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:c,layoutId:u}=s.options;window.MotionCancelOptimisedAnimation(a,"transform",yt,!(c||u))}const{parent:r}=s;r&&!r.hasCheckedOptimisedAppear&&iw(r)}function ow({attachResizeListener:s,defaultParent:e,measureScroll:a,checkIsScrollRoot:r,resetTransform:c}){return class{constructor(d={},f=e?.()){this.id=Vk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qk),this.nodes.forEach(Fk),this.nodes.forEach(Yk),this.nodes.forEach(Hk)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new Uk)}addEventListener(d,f){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new hm),this.eventHandlers.get(d).add(f)}notifyListeners(d,...f){const p=this.eventHandlers.get(d);p&&p.notify(...f)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=Rm(d)&&!IE(d),this.instance=d;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),s){let x,b=0;const v=()=>this.root.updateBlockedByResize=!1;yt.read(()=>{b=window.innerWidth}),s(d,()=>{const j=window.innerWidth;j!==b&&(b=j,this.root.updateBlockedByResize=!0,x&&x(),x=Lk(v,250),Mc.hasAnimatedSinceResize&&(Mc.hasAnimatedSinceResize=!1,this.nodes.forEach(ub)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeLayoutChanged:v,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||g.getDefaultTransition()||Zk,{onLayoutAnimationStart:A,onLayoutAnimationComplete:_}=g.getProps(),C=!this.targetLayout||!nw(this.targetLayout,j),D=!b&&v;if(this.options.layoutRoot||this.resumeFrom||D||b&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...Sm(w,"layout"),onPlay:A,onComplete:_};(g.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(x,D)}else b||ub(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ja(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xk),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const b=this.path[x];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Kk),this.nodes.forEach($k),this.nodes.forEach(Ik)):this.nodes.forEach(cb),this.clearAllSnapshots();const f=ws.now();fs.delta=bn(0,1e3/60,f-fs.timestamp),fs.timestamp=f,fs.isProcessing=!0,Oh.update.process(fs),Oh.preRender.process(fs),Oh.render.process(fs),fs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,km.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Gk),this.sharedNodes.forEach(Qk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!js(this.snapshot.measuredBox.x)&&!js(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(f=!1),f&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!c)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!sw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;d&&this.instance&&(f||Ka(this.latestValues)||x)&&(c(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return d&&(p=this.removeTransform(p)),eC(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return Zt();const f=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(tC))){const{scroll:g}=this.root;g&&(ai(f.x,g.offset.x),ai(f.y,g.offset.y))}return f}removeElementScroll(d){const f=Zt();if(an(f,d),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:x,options:b}=g;g!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&an(f,d),ai(f.x,x.offset.x),ai(f.y,x.offset.y))}return f}applyTransform(d,f=!1){const p=Zt();an(p,d);for(let g=0;g<this.path.length;g++){const x=this.path[g];!f&&x.options.layoutScroll&&x.scroll&&x!==x.root&&ri(p,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Ka(x.latestValues)&&ri(p,x.latestValues)}return Ka(this.latestValues)&&ri(p,this.latestValues),p}removeTransform(d){const f=Zt();an(f,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Ka(g.latestValues))continue;zf(g.latestValues)&&g.updateSnapshot();const x=Zt(),b=g.measurePageBox();an(x,b),Z0(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return Ka(this.latestValues)&&Z0(f,this.latestValues),f}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(d||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:b}=this.options;if(!this.layout||!(x||b))return;this.resolvedRelativeTargetAt=fs.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Sk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):an(this.target,this.layout.layoutBox),H1(this.target,this.targetDelta)):an(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||zf(this.parent.latestValues)||q1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(d,f,p){this.relativeParent=d,this.linkedParentVersion=d.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Gc(this.relativeTargetOrigin,f,p),an(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===fs.timestamp&&(p=!1),p)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;an(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;ZE(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Zt());const{target:j}=d;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(F0(this.prevProjectionDelta.x,this.projectionDelta.x),F0(this.prevProjectionDelta.y,this.projectionDelta.y)),jo(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!ab(this.projectionDelta.x,this.prevProjectionDelta.x)||!ab(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ni(),this.projectionDelta=ni(),this.projectionDeltaWithTransform=ni()}setAnimationOrigin(d,f=!1){const p=this.snapshot,g=p?p.latestValues:{},x={...this.latestValues},b=ni();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=Zt(),j=p?p.source:void 0,w=this.layout?this.layout.source:void 0,A=j!==w,_=this.getStack(),C=!_||_.members.length<=1,D=!!(A&&!C&&this.options.crossfade===!0&&!this.path.some(Jk));this.animationProgress=0;let T;this.mixTargetDelta=L=>{const q=L/1e3;db(b.x,d.x,q),db(b.y,d.y,q),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Wk(this.relativeTarget,this.relativeTargetOrigin,v,q),T&&Ek(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Zt()),an(T,this.relativeTarget)),A&&(this.animationValues=x,Rk(x,g,this.latestValues,q,D,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ja(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yt.update(()=>{Mc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fi(0)),this.currentAnimation=Mk(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),d.onUpdate&&d.onUpdate(f)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:f,target:p,layout:g,latestValues:x}=d;if(!(!f||!p||!g)){if(this!==d&&this.layout&&g&&lw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Zt();const b=js(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+b;const v=js(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+v}an(f,p),ri(f,x),jo(this.projectionDeltaWithTransform,this.layoutCorrected,f,x)}}registerSharedNode(d,f){this.sharedNodes.has(d)||this.sharedNodes.set(d,new Pk),this.sharedNodes.get(d).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:f,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let f=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const g={};p.z&&$h("z",d,g,this.animationValues);for(let x=0;x<Vh.length;x++)$h(`rotate${Vh[x]}`,d,g,this.animationValues),$h(`skew${Vh[x]}`,d,g,this.animationValues);d.render();for(const x in g)d.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);d.scheduleRender()}applyProjectionStyles(d,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Dc(f?.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Dc(f?.pointerEvents)||""),this.hasProjected&&!Ka(this.latestValues)&&(d.transform=p?p({},""):"none",this.hasProjected=!1);return}d.visibility="";const x=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=kk(this.projectionDeltaWithTransform,this.treeScale,x);p&&(b=p(x,b)),d.transform=b;const{x:v,y:j}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${j.origin*100}% 0`,g.animationValues?d.opacity=g===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:d.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const w in Lf){if(x[w]===void 0)continue;const{correct:A,applyTo:_,isCSSVariable:C}=Lf[w],D=b==="none"?x[w]:A(x[w],g);if(_){const T=_.length;for(let L=0;L<T;L++)d[_[L]]=D}else C?this.options.visualElement.renderState.vars[w]=D:d[w]=D}this.options.layoutId&&(d.pointerEvents=g===this?Dc(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(lb),this.root.sharedNodes.clear()}}}function $k(s){s.updateLayout()}function Ik(s){const e=s.resumeFrom?.snapshot||s.snapshot;if(s.isLead()&&s.layout&&e&&s.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=s.layout,{animationType:c}=s.options,u=e.source!==s.layout.source;c==="size"?xn(x=>{const b=u?e.measuredBox[x]:e.layoutBox[x],v=js(b);b.min=a[x].min,b.max=b.min+v}):lw(c,e.layoutBox,a)&&xn(x=>{const b=u?e.measuredBox[x]:e.layoutBox[x],v=js(a[x]);b.max=b.min+v,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[x].max=s.relativeTarget[x].min+v)});const d=ni();jo(d,a,e.layoutBox);const f=ni();u?jo(f,s.applyTransform(r,!0),e.measuredBox):jo(f,a,e.layoutBox);const p=!sw(d);let g=!1;if(!s.resumeFrom){const x=s.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:v}=x;if(b&&v){const j=Zt();Gc(j,e.layoutBox,b.layoutBox);const w=Zt();Gc(w,a,v.layoutBox),nw(j,w)||(g=!0),x.options.layoutRoot&&(s.relativeTarget=w,s.relativeTargetOrigin=j,s.relativeParent=x)}}}s.notifyListeners("didUpdate",{layout:a,snapshot:e,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(s.isLead()){const{onExitComplete:a}=s.options;a&&a()}s.options.transition=void 0}function qk(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function Hk(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function Gk(s){s.clearSnapshot()}function lb(s){s.clearMeasurements()}function cb(s){s.isLayoutDirty=!1}function Kk(s){const{visualElement:e}=s.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),s.resetTransform()}function ub(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function Fk(s){s.resolveTargetDelta()}function Yk(s){s.calcProjection()}function Xk(s){s.resetSkewAndRotation()}function Qk(s){s.removeLeadSnapshot()}function db(s,e,a){s.translate=Et(e.translate,0,a),s.scale=Et(e.scale,1,a),s.origin=e.origin,s.originPoint=e.originPoint}function hb(s,e,a,r){s.min=Et(e.min,a.min,r),s.max=Et(e.max,a.max,r)}function Wk(s,e,a,r){hb(s.x,e.x,a.x,r),hb(s.y,e.y,a.y,r)}function Jk(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const Zk={duration:.45,ease:[.4,0,.1,1]},fb=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),mb=fb("applewebkit/")&&!fb("chrome/")?Math.round:Zs;function pb(s){s.min=mb(s.min),s.max=mb(s.max)}function eC(s){pb(s.x),pb(s.y)}function lw(s,e,a){return s==="position"||s==="preserve-aspect"&&!Nk(nb(e),nb(a),.2)}function tC(s){return s!==s.root&&s.scroll?.wasRoot}const sC=ow({attachResizeListener:(s,e)=>Do(s,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Ih={current:void 0},cw=ow({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Ih.current){const s=new sC({});s.mount(window),s.setOptions({layoutScroll:!0}),Ih.current=s}return Ih.current},resetTransform:(s,e)=>{s.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),Um=S.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function gb(s,e){if(typeof s=="function")return s(e);s!=null&&(s.current=e)}function nC(...s){return e=>{let a=!1;const r=s.map(c=>{const u=gb(c,e);return!a&&typeof u=="function"&&(a=!0),u});if(a)return()=>{for(let c=0;c<r.length;c++){const u=r[c];typeof u=="function"?u():gb(s[c],null)}}}}function aC(...s){return S.useCallback(nC(...s),s)}class rC extends S.Component{getSnapshotBeforeUpdate(e){const a=this.props.childRef.current;if(a&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=a.offsetParent,c=Df(r)&&r.offsetWidth||0,u=Df(r)&&r.offsetHeight||0,d=this.props.sizeRef.current;d.height=a.offsetHeight||0,d.width=a.offsetWidth||0,d.top=a.offsetTop,d.left=a.offsetLeft,d.right=c-d.width-d.left,d.bottom=u-d.height-d.top}return null}componentDidUpdate(){}render(){return this.props.children}}function iC({children:s,isPresent:e,anchorX:a,anchorY:r,root:c,pop:u}){const d=S.useId(),f=S.useRef(null),p=S.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=S.useContext(Um),x=s.props?.ref??s?.ref,b=aC(f,x);return S.useInsertionEffect(()=>{const{width:v,height:j,top:w,left:A,right:_,bottom:C}=p.current;if(e||u===!1||!f.current||!v||!j)return;const D=a==="left"?`left: ${A}`:`right: ${_}`,T=r==="bottom"?`bottom: ${C}`:`top: ${w}`;f.current.dataset.motionPopId=d;const L=document.createElement("style");g&&(L.nonce=g);const q=c??document.head;return q.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${j}px !important;
            ${D}px !important;
            ${T}px !important;
          }
        `),()=>{q.contains(L)&&q.removeChild(L)}},[e]),i.jsx(rC,{isPresent:e,childRef:f,sizeRef:p,pop:u,children:u===!1?s:S.cloneElement(s,{ref:b})})}const oC=({children:s,initial:e,isPresent:a,onExitComplete:r,custom:c,presenceAffectsLayout:u,mode:d,anchorX:f,anchorY:p,root:g})=>{const x=lm(lC),b=S.useId();let v=!0,j=S.useMemo(()=>(v=!1,{id:b,initial:e,isPresent:a,custom:c,onExitComplete:w=>{x.set(w,!0);for(const A of x.values())if(!A)return;r&&r()},register:w=>(x.set(w,!1),()=>x.delete(w))}),[a,x,r]);return u&&v&&(j={...j}),S.useMemo(()=>{x.forEach((w,A)=>x.set(A,!1))},[a]),S.useEffect(()=>{!a&&!x.size&&r&&r()},[a]),s=i.jsx(iC,{pop:d==="popLayout",isPresent:a,anchorX:f,anchorY:p,root:g,children:s}),i.jsx(tu.Provider,{value:j,children:s})};function lC(){return new Map}function uw(s=!0){const e=S.useContext(tu);if(e===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:c}=e,u=S.useId();S.useEffect(()=>{if(s)return c(u)},[s]);const d=S.useCallback(()=>s&&r&&r(u),[u,r,s]);return!a&&r?[!1,d]:[!0]}const mc=s=>s.key||"";function xb(s){const e=[];return S.Children.forEach(s,a=>{S.isValidElement(a)&&e.push(a)}),e}const Vt=({children:s,custom:e,initial:a=!0,onExitComplete:r,presenceAffectsLayout:c=!0,mode:u="sync",propagate:d=!1,anchorX:f="left",anchorY:p="top",root:g})=>{const[x,b]=uw(d),v=S.useMemo(()=>xb(s),[s]),j=d&&!x?[]:v.map(mc),w=S.useRef(!0),A=S.useRef(v),_=lm(()=>new Map),C=S.useRef(new Set),[D,T]=S.useState(v),[L,q]=S.useState(v);Vv(()=>{w.current=!1,A.current=v;for(let ee=0;ee<L.length;ee++){const oe=mc(L[ee]);j.includes(oe)?(_.delete(oe),C.current.delete(oe)):_.get(oe)!==!0&&_.set(oe,!1)}},[L,j.length,j.join("-")]);const H=[];if(v!==D){let ee=[...v];for(let oe=0;oe<L.length;oe++){const ue=L[oe],ge=mc(ue);j.includes(ge)||(ee.splice(oe,0,ue),H.push(ue))}return u==="wait"&&H.length&&(ee=H),q(xb(ee)),T(v),null}const{forceRender:X}=S.useContext(om);return i.jsx(i.Fragment,{children:L.map(ee=>{const oe=mc(ee),ue=d&&!x?!1:v===L||j.includes(oe),ge=()=>{if(C.current.has(oe))return;if(C.current.add(oe),_.has(oe))_.set(oe,!0);else return;let Ne=!0;_.forEach(Me=>{Me||(Ne=!1)}),Ne&&(X?.(),q(A.current),d&&b?.(),r&&r())};return i.jsx(oC,{isPresent:ue,initial:!w.current||a?void 0:!1,custom:e,presenceAffectsLayout:c,mode:u,root:g,onExitComplete:ue?void 0:ge,anchorX:f,anchorY:p,children:ee},oe)})})},dw=S.createContext({strict:!1}),yb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let bb=!1;function cC(){if(bb)return;const s={};for(const e in yb)s[e]={isEnabled:a=>yb[e].some(r=>!!a[r])};V1(s),bb=!0}function hw(){return cC(),XE()}function uC(s){const e=hw();for(const a in s)e[a]={...e[a],...s[a]};V1(e)}const dC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Kc(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||dC.has(s)}let fw=s=>!Kc(s);function hC(s){typeof s=="function"&&(fw=e=>e.startsWith("on")?!Kc(e):s(e))}try{hC(require("@emotion/is-prop-valid").default)}catch{}function fC(s,e,a){const r={};for(const c in s)c==="values"&&typeof s.values=="object"||(fw(c)||a===!0&&Kc(c)||!e&&!Kc(c)||s.draggable&&c.startsWith("onDrag"))&&(r[c]=s[c]);return r}const au=S.createContext({});function mC(s,e){if(nu(s)){const{initial:a,animate:r}=s;return{initial:a===!1||Oo(a)?a:void 0,animate:Oo(r)?r:void 0}}return s.inherit!==!1?e:{}}function pC(s){const{initial:e,animate:a}=mC(s,S.useContext(au));return S.useMemo(()=>({initial:e,animate:a}),[vb(e),vb(a)])}function vb(s){return Array.isArray(s)?s.join(" "):s}const Lm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mw(s,e,a){for(const r in e)!xs(e[r])&&!F1(r,a)&&(s[r]=e[r])}function gC({transformTemplate:s},e){return S.useMemo(()=>{const a=Lm();return Mm(a,e,s),Object.assign({},a.vars,a.style)},[e])}function xC(s,e){const a=s.style||{},r={};return mw(r,a,s),Object.assign(r,gC(s,e)),r}function yC(s,e){const a={},r=xC(s,e);return s.drag&&s.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(a.tabIndex=0),a.style=r,a}const pw=()=>({...Lm(),attrs:{}});function bC(s,e,a,r){const c=S.useMemo(()=>{const u=pw();return Y1(u,e,Q1(r),s.transformTemplate,s.style),{...u.attrs,style:{...u.style}}},[e]);if(s.style){const u={};mw(u,s.style,s),c.style={...u,...c.style}}return c}const vC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pm(s){return typeof s!="string"||s.includes("-")?!1:!!(vC.indexOf(s)>-1||/[A-Z]/u.test(s))}function wC(s,e,a,{latestValues:r},c,u=!1,d){const p=(d??Pm(s)?bC:yC)(e,r,c,s),g=fC(e,typeof s=="string",u),x=s!==S.Fragment?{...g,...p,ref:a}:{},{children:b}=e,v=S.useMemo(()=>xs(b)?b.get():b,[b]);return S.createElement(s,{...x,children:v})}function jC({scrapeMotionValuesFromProps:s,createRenderState:e},a,r,c){return{latestValues:NC(a,r,c,s),renderState:e()}}function NC(s,e,a,r){const c={},u=r(s,{});for(const v in u)c[v]=Dc(u[v]);let{initial:d,animate:f}=s;const p=nu(s),g=P1(s);e&&g&&!p&&s.inherit!==!1&&(d===void 0&&(d=e.initial),f===void 0&&(f=e.animate));let x=a?a.initial===!1:!1;x=x||d===!1;const b=x?f:d;if(b&&typeof b!="boolean"&&!su(b)){const v=Array.isArray(b)?b:[b];for(let j=0;j<v.length;j++){const w=Am(s,v[j]);if(w){const{transitionEnd:A,transition:_,...C}=w;for(const D in C){let T=C[D];if(Array.isArray(T)){const L=x?T.length-1:0;T=T[L]}T!==null&&(c[D]=T)}for(const D in A)c[D]=A[D]}}}return c}const gw=s=>(e,a)=>{const r=S.useContext(au),c=S.useContext(tu),u=()=>jC(s,e,r,c);return a?u():lm(u)},SC=gw({scrapeMotionValuesFromProps:zm,createRenderState:Lm}),_C=gw({scrapeMotionValuesFromProps:W1,createRenderState:pw}),AC=Symbol.for("motionComponentSymbol");function TC(s,e,a){const r=S.useRef(a);S.useInsertionEffect(()=>{r.current=a});const c=S.useRef(null);return S.useCallback(u=>{u&&s.onMount?.(u),e&&(u?e.mount(u):e.unmount());const d=r.current;if(typeof d=="function")if(u){const f=d(u);typeof f=="function"&&(c.current=f)}else c.current?(c.current(),c.current=null):d(u);else d&&(d.current=u)},[e])}const xw=S.createContext({});function Qr(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function EC(s,e,a,r,c,u){const{visualElement:d}=S.useContext(au),f=S.useContext(dw),p=S.useContext(tu),g=S.useContext(Um),x=g.reducedMotion,b=g.skipAnimations,v=S.useRef(null),j=S.useRef(!1);r=r||f.renderer,!v.current&&r&&(v.current=r(s,{visualState:e,parent:d,props:a,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:x,skipAnimations:b,isSVG:u}),j.current&&v.current&&(v.current.manuallyAnimateOnMount=!0));const w=v.current,A=S.useContext(xw);w&&!w.projection&&c&&(w.type==="html"||w.type==="svg")&&kC(v.current,a,c,A);const _=S.useRef(!1);S.useInsertionEffect(()=>{w&&_.current&&w.update(a,p)});const C=a[_1],D=S.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return Vv(()=>{j.current=!0,w&&(_.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),D.current&&w.animationState&&w.animationState.animateChanges())}),S.useEffect(()=>{w&&(!D.current&&w.animationState&&w.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),D.current=!1),w.enteringChildren=void 0)}),w}function kC(s,e,a,r){const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:g,layoutCrossfade:x}=e;s.projection=new a(s.latestValues,e["data-framer-portal-id"]?void 0:yw(s.parent)),s.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Qr(f),visualElement:s,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:x,layoutScroll:p,layoutRoot:g})}function yw(s){if(s)return s.options.allowProjection!==!1?s.projection:yw(s.parent)}function qh(s,{forwardMotionProps:e=!1,type:a}={},r,c){r&&uC(r);const u=a?a==="svg":Pm(s),d=u?_C:SC;function f(g,x){let b;const v={...S.useContext(Um),...g,layoutId:CC(g)},{isStatic:j}=v,w=pC(g),A=d(g,j);if(!j&&Bv){RC();const _=OC(v);b=_.MeasureLayout,w.visualElement=EC(s,A,v,c,_.ProjectionNode,u)}return i.jsxs(au.Provider,{value:w,children:[b&&w.visualElement?i.jsx(b,{visualElement:w.visualElement,...v}):null,wC(s,g,TC(A,w.visualElement,x),A,j,e,u)]})}f.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const p=S.forwardRef(f);return p[AC]=s,p}function CC({layoutId:s}){const e=S.useContext(om).id;return e&&s!==void 0?e+"-"+s:s}function RC(s,e){S.useContext(dw).strict}function OC(s){const e=hw(),{drag:a,layout:r}=e;if(!a&&!r)return{};const c={...a,...r};return{MeasureLayout:a?.isEnabled(s)||r?.isEnabled(s)?c.MeasureLayout:void 0,ProjectionNode:c.ProjectionNode}}function DC(s,e){if(typeof Proxy>"u")return qh;const a=new Map,r=(u,d)=>qh(u,d,s,e),c=(u,d)=>r(u,d);return new Proxy(c,{get:(u,d)=>d==="create"?r:(a.has(d)||a.set(d,qh(d,void 0,s,e)),a.get(d))})}const MC=(s,e)=>e.isSVG??Pm(s)?new hk(e):new ik(e,{allowProjection:s!==S.Fragment});class zC extends Sa{constructor(e){super(e),e.animationState||(e.animationState=xk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();su(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:a}=this.node.prevProps||{};e!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let UC=0;class LC extends Sa{constructor(){super(...arguments),this.id=UC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const c=this.node.animationState.setActive("exit",!e);a&&!e&&c.then(()=>{a(this.id)})}mount(){const{register:e,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const PC={animation:{Feature:zC},exit:{Feature:LC}};function Xo(s){return{point:{x:s.pageX,y:s.pageY}}}const BC=s=>e=>Cm(e)&&s(e,Xo(e));function No(s,e,a,r){return Do(s,e,BC(a),r)}const bw=({current:s})=>s?s.ownerDocument.defaultView:null,wb=(s,e)=>Math.abs(s-e);function VC(s,e){const a=wb(s.x,e.x),r=wb(s.y,e.y);return Math.sqrt(a**2+r**2)}const jb=new Set(["auto","scroll"]);class vw{constructor(e,a,{transformPagePoint:r,contextWindow:c=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=j=>{this.handleScroll(j.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Gh(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,A=VC(j.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!A)return;const{point:_}=j,{timestamp:C}=fs;this.history.push({..._,timestamp:C});const{onStart:D,onMove:T}=this.handlers;w||(D&&D(this.lastMoveEvent,j),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,j)},this.handlePointerMove=(j,w)=>{this.lastMoveEvent=j,this.lastMoveEventInfo=Hh(w,this.transformPagePoint),yt.update(this.updatePoint,!0)},this.handlePointerUp=(j,w)=>{this.end();const{onEnd:A,onSessionEnd:_,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Gh(j.type==="pointercancel"?this.lastMoveEventInfo:Hh(w,this.transformPagePoint),this.history);this.startEvent&&A&&A(j,D),_&&_(j,D)},!Cm(e))return;this.dragSnapToOrigin=u,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=d,this.contextWindow=c||window;const p=Xo(e),g=Hh(p,this.transformPagePoint),{point:x}=g,{timestamp:b}=fs;this.history=[{...x,timestamp:b}];const{onSessionStart:v}=a;v&&v(e,Gh(g,this.history)),this.removeListeners=Ko(No(this.contextWindow,"pointermove",this.handlePointerMove),No(this.contextWindow,"pointerup",this.handlePointerUp),No(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let a=e.parentElement;for(;a;){const r=getComputedStyle(a);(jb.has(r.overflowX)||jb.has(r.overflowY))&&this.scrollPositions.set(a,{x:a.scrollLeft,y:a.scrollTop}),a=a.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const a=this.scrollPositions.get(e);if(!a)return;const r=e===window,c=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},u={x:c.x-a.x,y:c.y-a.y};u.x===0&&u.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(e,c),yt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ja(this.updatePoint)}}function Hh(s,e){return e?{point:e(s.point)}:s}function Nb(s,e){return{x:s.x-e.x,y:s.y-e.y}}function Gh({point:s},e){return{point:s,delta:Nb(s,ww(e)),offset:Nb(s,$C(e)),velocity:IC(e,.1)}}function $C(s){return s[0]}function ww(s){return s[s.length-1]}function IC(s,e){if(s.length<2)return{x:0,y:0};let a=s.length-1,r=null;const c=ww(s);for(;a>=0&&(r=s[a],!(c.timestamp-r.timestamp>un(e)));)a--;if(!r)return{x:0,y:0};r===s[0]&&s.length>2&&c.timestamp-r.timestamp>un(e)*2&&(r=s[1]);const u=Js(c.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const d={x:(c.x-r.x)/u,y:(c.y-r.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function qC(s,{min:e,max:a},r){return e!==void 0&&s<e?s=r?Et(e,s,r.min):Math.max(s,e):a!==void 0&&s>a&&(s=r?Et(a,s,r.max):Math.min(s,a)),s}function Sb(s,e,a){return{min:e!==void 0?s.min+e:void 0,max:a!==void 0?s.max+a-(s.max-s.min):void 0}}function HC(s,{top:e,left:a,bottom:r,right:c}){return{x:Sb(s.x,a,c),y:Sb(s.y,e,r)}}function _b(s,e){let a=e.min-s.min,r=e.max-s.max;return e.max-e.min<s.max-s.min&&([a,r]=[r,a]),{min:a,max:r}}function GC(s,e){return{x:_b(s.x,e.x),y:_b(s.y,e.y)}}function KC(s,e){let a=.5;const r=js(s),c=js(e);return c>r?a=ko(e.min,e.max-r,s.min):r>c&&(a=ko(s.min,s.max-c,e.min)),bn(0,1,a)}function FC(s,e){const a={};return e.min!==void 0&&(a.min=e.min-s.min),e.max!==void 0&&(a.max=e.max-s.min),a}const Pf=.35;function YC(s=Pf){return s===!1?s=0:s===!0&&(s=Pf),{x:Ab(s,"left","right"),y:Ab(s,"top","bottom")}}function Ab(s,e,a){return{min:Tb(s,e),max:Tb(s,a)}}function Tb(s,e){return typeof s=="number"?s:s[e]||0}const XC=new WeakMap;class QC{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const u=b=>{a&&this.snapToCursor(Xo(b).point),this.stopAnimation()},d=(b,v)=>{const{drag:j,dragPropagation:w,onDragStart:A}=this.getProps();if(j&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_E(j),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xn(C=>{let D=this.getAxisMotionValue(C).get()||0;if(yn.test(D)){const{projection:T}=this.visualElement;if(T&&T.layout){const L=T.layout.layoutBox[C];L&&(D=js(L)*(parseFloat(D)/100))}}this.originPoint[C]=D}),A&&yt.update(()=>A(b,v),!1,!0),Cf(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},f=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v;const{dragPropagation:j,dragDirectionLock:w,onDirectionLock:A,onDrag:_}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:C}=v;if(w&&this.currentDirection===null){this.currentDirection=JC(C),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",v.point,C),this.updateAxis("y",v.point,C),this.visualElement.render(),_&&yt.update(()=>_(b,v),!1,!0)},p=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v,this.stop(b,v),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:b}=this.getProps();(b||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:x}=this.getProps();this.panSession=new vw(e,{onSessionStart:u,onStart:d,onMove:f,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:r,contextWindow:bw(this.visualElement),element:this.visualElement.current})}stop(e,a){const r=e||this.latestPointerEvent,c=a||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!c||!r)return;const{velocity:d}=c;this.startAnimation(d);const{onDragEnd:f}=this.getProps();f&&yt.postRender(()=>f(r,c))}cancel(){this.isDragging=!1;const{projection:e,animationState:a}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,a,r){const{drag:c}=this.getProps();if(!r||!pc(e,c,this.currentDirection))return;const u=this.getAxisMotionValue(e);let d=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(d=qC(d,this.constraints[e],this.elastic[e])),u.set(d)}resolveConstraints(){const{dragConstraints:e,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;e&&Qr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=HC(r.layoutBox,e):this.constraints=!1,this.elastic=YC(a),c!==this.constraints&&!Qr(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&xn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=FC(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:a}=this.getProps();if(!e||!Qr(e))return!1;const r=e.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const u=ek(r,c.root,this.visualElement.getTransformPagePoint());let d=GC(c.layout.layoutBox,u);if(a){const f=a(WE(d));this.hasMutatedConstraints=!!f,f&&(d=I1(f))}return d}startAnimation(e){const{drag:a,dragMomentum:r,dragElastic:c,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},g=xn(x=>{if(!pc(x,a,this.currentDirection))return;let b=p&&p[x]||{};d&&(b={min:0,max:0});const v=c?200:1e6,j=c?40:1e7,w={type:"inertia",velocity:r?e[x]:0,bounceStiffness:v,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(x,w)});return Promise.all(g).then(f)}startAxisValueAnimation(e,a){const r=this.getAxisMotionValue(e);return Cf(this.visualElement,e),r.start(_m(e,r,0,a,this.visualElement,!1))}stopAnimation(){xn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const a=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),c=r[a];return c||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xn(a=>{const{drag:r}=this.getProps();if(!pc(a,r,this.currentDirection))return;const{projection:c}=this.visualElement,u=this.getAxisMotionValue(a);if(c&&c.layout){const{min:d,max:f}=c.layout.layoutBox[a],p=u.get()||0;u.set(e[a]-Et(d,f,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!Qr(a)||!r||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};xn(d=>{const f=this.getAxisMotionValue(d);if(f&&this.constraints!==!1){const p=f.get();c[d]=KC({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),xn(d=>{if(!pc(d,e,null))return;const f=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];f.set(Et(p,g,c[d]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;XC.set(this.visualElement,this);const e=this.visualElement.current,a=No(e,"pointerdown",g=>{const{drag:x,dragListener:b=!0}=this.getProps(),v=g.target,j=v!==e&&RE(v);x&&b&&!j&&this.start(g)});let r;const c=()=>{const{dragConstraints:g}=this.getProps();Qr(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),r||(r=WC(e,g.current,()=>this.scalePositionWithinConstraints())))},{projection:u}=this.visualElement,d=u.addEventListener("measure",c);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),yt.read(c);const f=Do(window,"resize",()=>this.scalePositionWithinConstraints()),p=u.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:x})=>{this.isDragging&&x&&(xn(b=>{const v=this.getAxisMotionValue(b);v&&(this.originPoint[b]+=g[b].translate,v.set(v.get()+g[b].translate))}),this.visualElement.render())}));return()=>{f(),a(),d(),p&&p(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:c=!1,dragConstraints:u=!1,dragElastic:d=Pf,dragMomentum:f=!0}=e;return{...e,drag:a,dragDirectionLock:r,dragPropagation:c,dragConstraints:u,dragElastic:d,dragMomentum:f}}}function Eb(s){let e=!0;return()=>{if(e){e=!1;return}s()}}function WC(s,e,a){const r=z0(s,Eb(a)),c=z0(e,Eb(a));return()=>{r(),c()}}function pc(s,e,a){return(e===!0||e===s)&&(a===null||a===s)}function JC(s,e=10){let a=null;return Math.abs(s.y)>e?a="y":Math.abs(s.x)>e&&(a="x"),a}class ZC extends Sa{constructor(e){super(e),this.removeGroupControls=Zs,this.removeListeners=Zs,this.controls=new QC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zs}update(){const{dragControls:e}=this.node.getProps(),{dragControls:a}=this.node.prevProps||{};e!==a&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Kh=s=>(e,a)=>{s&&yt.update(()=>s(e,a),!1,!0)};class e3 extends Sa{constructor(){super(...arguments),this.removePointerDownListener=Zs}onPointerDown(e){this.session=new vw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:a,onPan:r,onPanEnd:c}=this.node.getProps();return{onSessionStart:Kh(e),onStart:Kh(a),onMove:Kh(r),onEnd:(u,d)=>{delete this.session,c&&yt.postRender(()=>c(u,d))}}}mount(){this.removePointerDownListener=No(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Fh=!1;class t3 extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:a,switchLayoutGroup:r,layoutId:c}=this.props,{projection:u}=e;u&&(a.group&&a.group.add(u),r&&r.register&&c&&r.register(u),Fh&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Mc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:a,visualElement:r,drag:c,isPresent:u}=this.props,{projection:d}=r;return d&&(d.isPresent=u,e.layoutDependency!==a&&d.setOptions({...d.options,layoutDependency:a}),Fh=!0,c||e.layoutDependency!==a||a===void 0||e.isPresent!==u?d.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?d.promote():d.relegate()||yt.postRender(()=>{const f=d.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),km.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:c}=e;Fh=!0,c&&(c.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(c),r&&r.deregister&&r.deregister(c))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jw(s){const[e,a]=uw(),r=S.useContext(om);return i.jsx(t3,{...s,layoutGroup:r,switchLayoutGroup:S.useContext(xw),isPresent:e,safeToRemove:a})}const s3={pan:{Feature:e3},drag:{Feature:ZC,ProjectionNode:cw,MeasureLayout:jw}};function kb(s,e,a){const{props:r}=s;s.animationState&&r.whileHover&&s.animationState.setActive("whileHover",a==="Start");const c="onHover"+a,u=r[c];u&&yt.postRender(()=>u(e,Xo(e)))}class n3 extends Sa{mount(){const{current:e}=this.node;e&&(this.unmount=TE(e,(a,r)=>(kb(this.node,r,"Start"),c=>kb(this.node,c,"End"))))}unmount(){}}class a3 extends Sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ko(Do(this.node.current,"focus",()=>this.onFocus()),Do(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Cb(s,e,a){const{props:r}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&r.whileTap&&s.animationState.setActive("whileTap",a==="Start");const c="onTap"+(a==="End"?"":a),u=r[c];u&&yt.postRender(()=>u(e,Xo(e)))}class r3 extends Sa{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:a,propagate:r}=this.node.props;this.unmount=DE(e,(c,u)=>(Cb(this.node,u,"Start"),(d,{success:f})=>Cb(this.node,d,f?"End":"Cancel")),{useGlobalTarget:a,stopPropagation:r?.tap===!1})}unmount(){}}const Bf=new WeakMap,Yh=new WeakMap,i3=s=>{const e=Bf.get(s.target);e&&e(s)},o3=s=>{s.forEach(i3)};function l3({root:s,...e}){const a=s||document;Yh.has(a)||Yh.set(a,{});const r=Yh.get(a),c=JSON.stringify(e);return r[c]||(r[c]=new IntersectionObserver(o3,{root:s,...e})),r[c]}function c3(s,e,a){const r=l3(e);return Bf.set(s,a),r.observe(s),()=>{Bf.delete(s),r.unobserve(s)}}const u3={some:0,all:1};class d3 extends Sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:a,margin:r,amount:c="some",once:u}=e,d={root:a?a.current:void 0,rootMargin:r,threshold:typeof c=="number"?c:u3[c]},f=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:b}=this.node.getProps(),v=g?x:b;v&&v(p)};return c3(this.node.current,d,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:a}=this.node;["amount","margin","root"].some(h3(e,a))&&this.startObserver()}unmount(){}}function h3({viewport:s={}},{viewport:e={}}={}){return a=>s[a]!==e[a]}const f3={inView:{Feature:d3},tap:{Feature:r3},focus:{Feature:a3},hover:{Feature:n3}},m3={layout:{ProjectionNode:cw,MeasureLayout:jw}},p3={...PC,...f3,...s3,...m3},Te=DC(p3,MC),Bm={mode:"hour",graceMinutes:15,perMinute:1,perHour:50,perHalfDay:200,overtimeMultiplier:1.5},g3={currency:"SAR",lang:"ar",studioName:"STODIO Photography",theme:"light",address:"",phone:"",countryCode:"966",deductionRules:Bm,aiModels:[],selectedLovableModel:"google/gemini-3-flash-preview"},Nw=S.createContext(void 0),x3=({children:s})=>{const[e,a]=S.useState(g3),[r,c]=S.useState(!1),u=async()=>{try{const f=await Y2();if(f.data){const p=f.data,g={currency:p.currency||"SAR",lang:p.language||"ar",studioName:p.studio_name||"STODIO Photography",theme:p.theme||"light",address:p.address||"",phone:p.phone||"",countryCode:p.country_code||"966",deductionRules:p.deduction_rules?JSON.parse(p.deduction_rules):Bm,aiModels:p.ai_models?JSON.parse(p.ai_models):[],selectedLovableModel:p.selected_lovable_model||"google/gemini-3-flash-preview"};a(g),c(!0)}}catch(f){console.error("Failed to load settings from DB:",f);const p=localStorage.getItem("app-settings");p&&a(JSON.parse(p))}};S.useEffect(()=>{u()},[]),S.useEffect(()=>{r&&(localStorage.setItem("app-settings",JSON.stringify(e)),document.documentElement.setAttribute("data-theme",e.theme),document.documentElement.setAttribute("dir",e.lang==="ar"?"rtl":"ltr"),document.documentElement.setAttribute("lang",e.lang))},[e,r]);const d=async f=>{const p={...e,...f};a(p);try{await X2({studio_name:p.studioName,currency:p.currency,language:p.lang,theme:p.theme,country_code:p.countryCode,address:p.address,phone:p.phone,deduction_rules:JSON.stringify(p.deductionRules),ai_models:JSON.stringify(p.aiModels)})}catch(g){console.error("Failed to sync settings to DB:",g)}};return i.jsx(Nw.Provider,{value:{settings:e,updateSettings:d,refreshSettings:u},children:s})},Rs=()=>{const s=S.useContext(Nw);return s||{settings:{currency:"SAR",lang:"ar",studioName:"STODIO Photography",theme:"light",address:"",phone:"",countryCode:"966",deductionRules:Bm,aiModels:[]},updateSettings:async()=>{},refreshSettings:async()=>{}}},y3=({onBack:s})=>{const{settings:e}=Rs(),a=e.lang,[r,c]=S.useState(!!lS()),[u,d]=S.useState(!1),[f,p]=S.useState(!1),g=/iPad|iPhone|iPod/.test(navigator.userAgent),x=/Android/.test(navigator.userAgent),b=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;S.useEffect(()=>{const A=window.self===window.top;if(b&&A){d(!0);return}return cS(C=>{c(!!C),!C&&!f&&d(!0)})},[]);const v=async()=>{p(!0),await uS()&&d(!0),c(!1),p(!1)},j=localStorage.getItem("pwa-custom-icon")||"/pwa-icon-192.png",w=e.studioName||"STODIO";return i.jsxs("div",{className:"animate-fade-in max-w-md mx-auto flex flex-col items-center justify-center min-h-[60vh]",children:[i.jsxs("button",{onClick:s,className:"self-start text-sm text-primary mb-6 hover:underline",children:[" ",a==="ar"?"":"Back"]}),i.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full text-center",children:[i.jsx("div",{className:"w-24 h-24 rounded-3xl mx-auto mb-5 shadow-xl overflow-hidden border-2 border-border",children:i.jsx("img",{src:j,alt:w,className:"w-full h-full object-cover"})}),i.jsx("h1",{className:"text-xl font-extrabold text-foreground mb-1",children:w}),i.jsx("p",{className:"text-sm text-muted-foreground mb-8",children:a==="ar"?"   ":"Install the app on your device"}),u?i.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-2xl p-6",children:[i.jsx(Bt,{size:40,className:"text-emerald-500 mx-auto mb-3"}),i.jsx("p",{className:"font-bold text-foreground",children:a==="ar"?"  ":"App Installed "}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a==="ar"?"   ":"Open from home screen"})]}):f?i.jsxs("button",{disabled:!0,className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-primary/70 text-primary-foreground rounded-2xl font-bold text-base",children:[i.jsx(dt,{size:22,className:"animate-spin"}),a==="ar"?" ...":"Installing..."]}):r?i.jsxs("button",{onClick:v,className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-primary text-primary-foreground rounded-2xl font-bold text-base hover:opacity-90 transition-all shadow-lg shadow-primary/25 active:scale-[0.98]",children:[i.jsx(Uc,{size:22}),a==="ar"?" ":"Install App"]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-muted/50 border border-border rounded-2xl p-5 text-start space-y-4",children:[i.jsx("p",{className:"text-sm font-bold text-foreground text-center",children:a==="ar"?" :":"How to install:"}),g?i.jsxs("div",{className:"space-y-3",children:[i.jsx(qr,{n:1,text:a==="ar"?"       ":"Tap the Share button  at the bottom"}),i.jsx(qr,{n:2,text:a==="ar"?' "   " ':'Choose "Add to Home Screen" '}),i.jsx(qr,{n:3,text:a==="ar"?' "" ':'Tap "Add" to confirm'})]}):x?i.jsxs("div",{className:"space-y-3",children:[i.jsx(qr,{n:1,text:a==="ar"?"      ":"Tap the menu  top-right of browser"}),i.jsx(qr,{n:2,text:a==="ar"?' " "  "   "':'Choose "Install app" or "Add to Home Screen"'}),i.jsx(qr,{n:3,text:a==="ar"?' "" ':'Tap "Install" to confirm'})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(CA,{size:18,className:"text-primary shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:a==="ar"?" Chrome:        ":"In Chrome: Click the install icon  in the address bar"})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Tc,{size:18,className:"text-primary shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:a==="ar"?'     " "':'Or from menu   "Install app"'})]})]})]}),i.jsx("p",{className:"text-[11px] text-muted-foreground",children:a==="ar"?"      (    )   ":" Open the app directly in the browser (not inside another app) to install"})]})]})]})},qr=({n:s,text:e})=>i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"bg-primary text-primary-foreground rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold shrink-0",children:s}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),b3={ar:{title:" ",subtitle:"     ",addUser:" ",search:"   ...",name:"",email:" ",password:" ",role:"",status:"",actions:"",joinDate:" ",admin:"",editor:"",user:"",active:"",inactive:" ",banned:"",edit:"",delete:"",save:"",cancel:"",confirmDelete:"      ",yes:" ",no:" ",noUsers:"  ",total:"",addUserTitle:"  ",editUserTitle:" ",allRoles:" ",allStatuses:" ",loading:" ...",errorLoad:"   ",retry:" ",success:"  ",errorOp:" ",baseSalary:" ",shiftStart:" ",shiftEnd:" ",shiftSchedule:" "},en:{title:"Employee Management",subtitle:"View and manage all system employees",addUser:"Add Employee",search:"Search by name or email...",name:"Name",email:"Email",password:"Password",role:"Role",status:"Status",actions:"Actions",joinDate:"Join Date",admin:"Admin",editor:"Editor",user:"Employee",active:"Active",inactive:"Inactive",banned:"Banned",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",confirmDelete:"Are you sure you want to delete this employee?",yes:"Yes, Delete",no:"No, Cancel",noUsers:"No employees found",total:"Total",addUserTitle:"Add New Employee",editUserTitle:"Edit Employee",allRoles:"All Roles",allStatuses:"All Statuses",loading:"Loading...",errorLoad:"Error loading data",retry:"Retry",success:"Operation successful",errorOp:"An error occurred",baseSalary:"Base Salary",shiftStart:"Shift Start",shiftEnd:"Shift End",shiftSchedule:"Work Schedule"}},Xh=8,v3=()=>{const{settings:s}=Rs(),e=s.lang,a=b3[e],[r,c]=S.useState([]),[u,d]=S.useState(!0),[f,p]=S.useState(""),[g,x]=S.useState(""),[b,v]=S.useState(""),[j,w]=S.useState(""),[A,_]=S.useState(1),[C,D]=S.useState(!1),[T,L]=S.useState(null),[q,H]=S.useState(null),[X,ee]=S.useState(!1),[oe,ue]=S.useState(null),[ge,Ne]=S.useState(""),[Me,we]=S.useState(""),[Ue,U]=S.useState(""),[W,se]=S.useState("user"),[pe,ie]=S.useState("active"),[E,V]=S.useState("0"),[Q,re]=S.useState("09:00"),[G,fe]=S.useState("17:00"),je=async()=>{d(!0),p("");try{const ae=await _v();c(ae.data)}catch{p(a.errorLoad)}finally{d(!1)}};S.useEffect(()=>{je()},[]);const Z=(ae,$t)=>{ue({message:ae,type:$t}),setTimeout(()=>ue(null),3e3)},de=r.filter(ae=>(ae.name.toLowerCase().includes(g.toLowerCase())||ae.email.toLowerCase().includes(g.toLowerCase()))&&(!b||ae.role===b)&&(!j||ae.status===j)),Le=Math.ceil(de.length/Xh),zt=de.slice((A-1)*Xh,A*Xh);S.useEffect(()=>{_(1)},[g,b,j]);const ts=()=>{Ne(""),we(""),U(""),se("user"),ie("active"),V("0"),re("09:00"),fe("17:00"),D(!0)},bt=ae=>{Ne(ae.name),we(ae.email),U(""),se(ae.role),ie(ae.status),V(String(ae.base_salary||0)),re(ae.shift_start||"09:00"),fe(ae.shift_end||"17:00"),L(ae)},le=async()=>{if(!(!ge||!Me||!Ue)){ee(!0);try{await q2({name:ge,email:Me,password:Ue,role:W,shift_start:Q,shift_end:G}),Z(a.success,"success"),D(!1),je()}catch(ae){Z(ae.response?.data?.message||a.errorOp,"error")}finally{ee(!1)}}},Fe=async()=>{if(T){ee(!0);try{const ae={name:ge,email:Me,role:W,status:pe,base_salary:E,shift_start:Q,shift_end:G};Ue&&(ae.password=Ue),await Av(T.id,ae),Z(a.success,"success"),L(null),je()}catch(ae){Z(ae.response?.data?.message||a.errorOp,"error")}finally{ee(!1)}}},qe=async()=>{if(q){ee(!0);try{await H2(q.id),Z(a.success,"success"),H(null),je()}catch(ae){Z(ae.response?.data?.message||a.errorOp,"error")}finally{ee(!1)}}},F=ae=>{switch(ae){case"admin":return i.jsx(KA,{size:13});case"editor":return i.jsx(zv,{size:13});default:return i.jsx(dn,{size:13})}},He=ae=>{switch(ae){case"admin":return a.admin;case"editor":return a.editor;default:return a.user}},tt=ae=>{switch(ae){case"active":return i.jsx(Bt,{size:13});case"inactive":return i.jsx(W_,{size:13});default:return i.jsx(P_,{size:13})}},We=ae=>{switch(ae){case"active":return a.active;case"inactive":return a.inactive;default:return a.banned}},Tt=ae=>new Date(ae).toLocaleDateString(e==="ar"?"ar-EG":"en-US",{year:"numeric",month:"short",day:"numeric"}),as=ae=>ae==="admin"?"bg-red-500/10 text-red-500":ae==="editor"?"bg-amber-500/10 text-amber-600":"bg-primary/10 text-primary",ys=ae=>ae==="active"?"bg-success/10 text-success":ae==="inactive"?"bg-muted text-muted-foreground":"bg-red-500/10 text-red-500";return u?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-3 text-muted-foreground",children:[i.jsx(dt,{size:28,className:"animate-spin text-primary"}),i.jsx("p",{children:a.loading})]}):f?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-3 text-destructive",children:[i.jsx(li,{size:36}),i.jsx("p",{children:f}),i.jsx("button",{onClick:je,className:"px-5 py-2.5 bg-primary text-primary-foreground rounded-lg font-semibold text-sm",children:a.retry})]}):i.jsxs("div",{className:"animate-fade-in relative",children:[i.jsx(Vt,{children:oe&&i.jsxs(Te.div,{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[9999] px-5 py-3 rounded-full text-sm font-semibold flex items-center gap-2 shadow-xl ${oe.type==="success"?"bg-gradient-to-r from-emerald-500 to-green-500 text-white":"bg-gradient-to-r from-red-500 to-rose-500 text-white"}`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[oe.type==="success"?i.jsx(Bt,{size:18}):i.jsx(li,{size:18}),oe.message]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-extrabold text-foreground flex items-center gap-2.5",children:[i.jsx(ei,{size:22}),a.title]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.subtitle})]}),i.jsxs("button",{onClick:ts,className:"flex items-center gap-2 px-5 py-2.5 bg-primary text-primary-foreground rounded-lg font-semibold text-sm hover:opacity-90 transition-all shadow-md shadow-primary/20",children:[i.jsx(Lv,{size:18}),a.addUser]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2.5 mb-5 items-center",children:[i.jsxs("div",{className:"flex items-center gap-2.5 bg-card border border-border rounded-lg px-3.5 h-10 flex-1 min-w-[200px] max-w-sm focus-within:border-primary/50 focus-within:ring-2 focus-within:ring-primary/10 transition-all",children:[i.jsx(qn,{size:18,className:"text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:a.search,value:g,onChange:ae=>x(ae.target.value),className:"flex-1 bg-transparent border-none outline-none text-sm text-foreground font-cairo placeholder:text-muted-foreground"})]}),i.jsxs("select",{value:b,onChange:ae=>v(ae.target.value),className:"h-10 px-3.5 rounded-lg border border-border bg-card text-foreground text-sm font-cairo cursor-pointer focus:outline-none focus:border-primary/50",children:[i.jsx("option",{value:"",children:a.allRoles}),i.jsx("option",{value:"admin",children:a.admin}),i.jsx("option",{value:"editor",children:a.editor}),i.jsx("option",{value:"user",children:a.user})]}),i.jsxs("select",{value:j,onChange:ae=>w(ae.target.value),className:"h-10 px-3.5 rounded-lg border border-border bg-card text-foreground text-sm font-cairo cursor-pointer focus:outline-none focus:border-primary/50",children:[i.jsx("option",{value:"",children:a.allStatuses}),i.jsx("option",{value:"active",children:a.active}),i.jsx("option",{value:"inactive",children:a.inactive}),i.jsx("option",{value:"banned",children:a.banned})]}),i.jsxs("span",{className:"text-xs text-muted-foreground font-semibold bg-muted px-3 py-2 rounded-lg ms-auto",children:[a.total,": ",de.length]})]}),i.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden shadow-sm",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-muted/50",children:[i.jsx("th",{className:"px-3 sm:px-4 py-3 text-start text-[11px] font-bold text-muted-foreground uppercase tracking-wider whitespace-nowrap hidden sm:table-cell",children:"#"}),i.jsx("th",{className:"px-3 sm:px-4 py-3 text-start text-[11px] font-bold text-muted-foreground uppercase tracking-wider whitespace-nowrap",children:a.name}),i.jsx("th",{className:"px-3 sm:px-4 py-3 text-start text-[11px] font-bold text-muted-foreground uppercase tracking-wider whitespace-nowrap hidden md:table-cell",children:a.email}),i.jsx("th",{className:"px-3 sm:px-4 py-3 text-start text-[11px] font-bold text-muted-foreground uppercase tracking-wider whitespace-nowrap",children:a.role}),i.jsx("th",{className:"px-3 sm:px-4 py-3 text-start text-[11px] font-bold text-muted-foreground uppercase tracking-wider whitespace-nowrap hidden sm:table-cell",children:a.status}),i.jsx("th",{className:"px-3 sm:px-4 py-3 text-start text-[11px] font-bold text-muted-foreground uppercase tracking-wider whitespace-nowrap hidden lg:table-cell",children:a.joinDate}),i.jsx("th",{className:"px-3 sm:px-4 py-3 text-start text-[11px] font-bold text-muted-foreground uppercase tracking-wider whitespace-nowrap",children:a.actions})]})}),i.jsx("tbody",{children:zt.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"text-center py-16 text-muted-foreground",children:a.noUsers})}):zt.map((ae,$t)=>i.jsxs(Te.tr,{className:"border-t border-border/50 hover:bg-muted/30 transition-colors",initial:{opacity:0},animate:{opacity:1},transition:{delay:$t*.05},children:[i.jsx("td",{className:"px-3 sm:px-4 py-3 text-sm text-muted-foreground font-semibold tabular-nums hidden sm:table-cell",children:ae.id}),i.jsx("td",{className:"px-3 sm:px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-sky-400 text-white flex items-center justify-center text-xs font-bold shrink-0",children:ae.name.charAt(0).toUpperCase()}),i.jsx("span",{className:"text-sm font-medium truncate max-w-[120px] sm:max-w-none",children:ae.name})]})}),i.jsx("td",{className:"px-3 sm:px-4 py-3 text-sm text-muted-foreground hidden md:table-cell",dir:"ltr",children:ae.email}),i.jsx("td",{className:"px-3 sm:px-4 py-3",children:i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 sm:px-2.5 sm:py-1 rounded-full text-[10px] sm:text-xs font-semibold ${as(ae.role)}`,children:[F(ae.role)," ",i.jsx("span",{className:"hidden xs:inline",children:He(ae.role)})]})}),i.jsx("td",{className:"px-3 sm:px-4 py-3 hidden sm:table-cell",children:i.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${ys(ae.status)}`,children:[tt(ae.status)," ",We(ae.status)]})}),i.jsx("td",{className:"px-3 sm:px-4 py-3 text-sm text-muted-foreground hidden lg:table-cell",children:Tt(ae.created_at)}),i.jsx("td",{className:"px-3 sm:px-4 py-3",children:i.jsxs("div",{className:"flex gap-1.5",children:[i.jsx("button",{onClick:()=>bt(ae),className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg border border-border flex items-center justify-center text-primary hover:bg-primary/10 transition-all",children:i.jsx(gf,{size:14})}),i.jsx("button",{onClick:()=>H(ae),className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg border border-border flex items-center justify-center text-destructive hover:bg-destructive/10 transition-all",children:i.jsx(es,{size:14})})]})})]},ae.id))})]})}),Le>1&&i.jsxs("div",{className:"flex justify-center items-center gap-1 py-3.5 border-t border-border",children:[i.jsx("button",{className:"w-8 h-8 rounded-lg border border-border flex items-center justify-center text-muted-foreground disabled:opacity-40",disabled:A===1,onClick:()=>_(ae=>ae-1),children:e==="ar"?i.jsx(To,{size:16}):i.jsx(Ao,{size:16})}),Array.from({length:Le},(ae,$t)=>i.jsx("button",{className:`w-8 h-8 rounded-lg text-xs font-semibold ${A===$t+1?"bg-primary text-primary-foreground":"border border-border text-muted-foreground hover:border-primary/50"}`,onClick:()=>_($t+1),children:$t+1},$t+1)),i.jsx("button",{className:"w-8 h-8 rounded-lg border border-border flex items-center justify-center text-muted-foreground disabled:opacity-40",disabled:A===Le,onClick:()=>_(ae=>ae+1),children:e==="ar"?i.jsx(Ao,{size:16}):i.jsx(To,{size:16})})]})]}),i.jsx(Vt,{children:(C||T)&&i.jsx(Te.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9990] flex items-center justify-center p-5",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{D(!1),L(null)},children:i.jsxs(Te.div,{className:"bg-card border border-border rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},onClick:ae=>ae.stopPropagation(),children:[i.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-border",children:[i.jsx("h3",{className:"font-bold text-foreground",children:T?a.editUserTitle:a.addUserTitle}),i.jsx("button",{onClick:()=>{D(!1),L(null)},className:"text-muted-foreground hover:text-foreground p-1 rounded-lg hover:bg-muted transition-all",children:i.jsx(Dt,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-muted-foreground mb-1.5",children:a.name}),i.jsx("input",{value:ge,onChange:ae=>Ne(ae.target.value),className:"w-full px-3.5 py-2.5 bg-muted border border-border rounded-lg text-foreground text-sm outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/10 transition-all font-cairo"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-muted-foreground mb-1.5",children:a.email}),i.jsx("input",{type:"email",value:Me,onChange:ae=>we(ae.target.value),className:"w-full px-3.5 py-2.5 bg-muted border border-border rounded-lg text-foreground text-sm outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/10 transition-all font-cairo"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-semibold text-muted-foreground mb-1.5",children:[a.password," ",T&&`(${e==="ar"?"   ":"leave blank to keep"})`]}),i.jsx("input",{type:"password",value:Ue,onChange:ae=>U(ae.target.value),placeholder:"",className:"w-full px-3.5 py-2.5 bg-muted border border-border rounded-lg text-foreground text-sm outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/10 transition-all"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-muted-foreground mb-1.5",children:a.role}),i.jsxs("select",{value:W,onChange:ae=>se(ae.target.value),className:"w-full px-3.5 py-2.5 bg-muted border border-border rounded-lg text-foreground text-sm outline-none focus:border-primary/50 font-cairo",children:[i.jsx("option",{value:"user",children:a.user}),i.jsx("option",{value:"editor",children:a.editor}),i.jsx("option",{value:"admin",children:a.admin})]})]}),T&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-muted-foreground mb-1.5",children:a.status}),i.jsxs("select",{value:pe,onChange:ae=>ie(ae.target.value),className:"w-full px-3.5 py-2.5 bg-muted border border-border rounded-lg text-foreground text-sm outline-none focus:border-primary/50 font-cairo",children:[i.jsx("option",{value:"active",children:a.active}),i.jsx("option",{value:"inactive",children:a.inactive}),i.jsx("option",{value:"banned",children:a.banned})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-muted-foreground mb-1.5",children:a.baseSalary}),i.jsx("input",{type:"number",value:E,onChange:ae=>V(ae.target.value),className:"w-full px-3.5 py-2.5 bg-muted border border-border rounded-lg text-foreground text-sm outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/10 transition-all font-cairo",placeholder:"0"})]}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 border border-border/50",children:[i.jsxs("label",{className:"block text-xs font-bold text-foreground mb-3 flex items-center gap-2",children:[" ",a.shiftSchedule]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-[10px] font-semibold text-muted-foreground mb-1",children:a.shiftStart}),i.jsx("input",{type:"time",value:Q,onChange:ae=>re(ae.target.value),className:"w-full px-3 py-2 bg-card border border-border rounded-lg text-foreground text-sm outline-none focus:border-primary/50 font-cairo"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-[10px] font-semibold text-muted-foreground mb-1",children:a.shiftEnd}),i.jsx("input",{type:"time",value:G,onChange:ae=>fe(ae.target.value),className:"w-full px-3 py-2 bg-card border border-border rounded-lg text-foreground text-sm outline-none focus:border-primary/50 font-cairo"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2.5 px-6 py-4 border-t border-border bg-muted/30",children:[i.jsx("button",{onClick:()=>{D(!1),L(null)},className:"px-4 py-2.5 border border-border rounded-lg text-sm font-semibold text-muted-foreground hover:bg-muted transition-all",children:a.cancel}),i.jsxs("button",{onClick:T?Fe:le,disabled:X,className:"px-5 py-2.5 bg-primary text-primary-foreground rounded-lg text-sm font-semibold hover:opacity-90 transition-all disabled:opacity-50 flex items-center gap-2",children:[X?i.jsx(dt,{size:16,className:"animate-spin"}):null,a.save]})]})]})})}),i.jsx(Vt,{children:q&&i.jsx(Te.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9990] flex items-center justify-center p-5",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>H(null),children:i.jsx(Te.div,{className:"bg-card border border-border rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden",initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:ae=>ae.stopPropagation(),children:i.jsxs("div",{className:"p-7 text-center",children:[i.jsx("div",{className:"w-14 h-14 rounded-full bg-destructive/10 text-destructive flex items-center justify-center mx-auto mb-4",children:i.jsx(li,{size:28})}),i.jsx("p",{className:"font-semibold text-foreground mb-1",children:a.confirmDelete}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:[q.name," (",q.email,")"]}),i.jsxs("div",{className:"flex justify-center gap-2.5",children:[i.jsx("button",{onClick:()=>H(null),className:"px-4 py-2.5 border border-border rounded-lg text-sm font-semibold text-muted-foreground hover:bg-muted transition-all",children:a.no}),i.jsxs("button",{onClick:qe,disabled:X,className:"px-5 py-2.5 bg-gradient-to-r from-red-500 to-rose-500 text-white rounded-lg text-sm font-semibold hover:opacity-90 transition-all disabled:opacity-50 flex items-center gap-2",children:[X?i.jsx(dt,{size:16,className:"animate-spin"}):i.jsx(es,{size:16}),a.yes]})]})]})})})})]})},w3=()=>{const{settings:s}=Rs(),e=s.lang,[a,r]=S.useState([]),[c,u]=S.useState(!0),[d,f]=S.useState(!1),[p,g]=S.useState(null),[x,b]=S.useState(!1),[v,j]=S.useState(""),[w,A]=S.useState(""),[_,C]=S.useState(""),[D,T]=S.useState(""),L=["#ef4444","#f59e0b","#10b981","#0ea5e9","#6366f1","#8b5cf6","#d946ef"],q=async()=>{try{const ue=await Tv();r(ue.data)}catch(ue){console.error(ue)}finally{u(!1)}};S.useEffect(()=>{q()},[]);const H=(ue=null)=>{ue?(g(ue),j(ue.type),A(ue.price.toString()),C(ue.photo_count.toString()),T(ue.sizes.join(", "))):(g(null),j(""),A(""),C(""),T("")),f(!0)},X=async()=>{if(!v||!w)return;b(!0);const ue={type:v,price:parseFloat(w),photo_count:parseInt(_)||0,sizes:D.split(",").map(ge=>ge.trim()).filter(ge=>ge),color:p?.color||L[Math.floor(Math.random()*L.length)]};try{p?await K2(p.id,ue):await G2(ue),q(),f(!1)}catch(ge){console.error(ge)}finally{b(!1)}},ee=async ue=>{if(window.confirm(e==="ar"?"    ":"Are you sure you want to delete?"))try{await F2(ue),q()}catch(ge){console.error(ge)}},oe={title:e==="ar"?"  ":"Studio Photography Packages",addNew:e==="ar"?"  ":"Add New Package",type:e==="ar"?"  / ":"Package Name / Type",price:e==="ar"?"":"Price",photoCount:e==="ar"?" ":"Photo Count",sizes:e==="ar"?" ( )":"Sizes (comma separated)",save:e==="ar"?"":"Save",cancel:e==="ar"?"":"Cancel",photos:e==="ar"?"":"photos"};return i.jsxs("div",{className:"animate-fade-in",children:[i.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-black text-foreground flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:i.jsx(In,{size:20,className:"text-primary"})}),oe.title]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e==="ar"?"      ":"Manage studio session types and pricing"})]}),i.jsxs("button",{onClick:()=>H(),className:"px-5 py-2.5 bg-primary text-primary-foreground rounded-xl font-bold text-sm shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 transition-all flex items-center gap-2",children:[i.jsx(At,{size:18})," ",oe.addNew]})]}),c?i.jsx("div",{className:"flex justify-center p-20",children:i.jsx(dt,{className:"animate-spin text-primary",size:40})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:a.map(ue=>i.jsxs(Te.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-card border border-border rounded-2xl p-5 shadow-sm group hover:border-primary/40 hover:shadow-md transition-all relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-primary/5 rounded-full -translate-y-12 translate-x-12"}),i.jsxs("div",{className:"flex flex-col h-full relative z-10",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:`${ue.color}15`,color:ue.color},children:i.jsx(ff,{size:20})}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>H(ue),className:"p-2 rounded-lg text-muted-foreground hover:text-primary hover:bg-primary/10 transition-all",children:i.jsx(nr,{size:14})}),i.jsx("button",{onClick:()=>ee(ue.id),className:"p-2 rounded-lg text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-all",children:i.jsx(es,{size:14})})]})]}),i.jsx("h3",{className:"font-black text-lg text-foreground mb-1",children:ue.type}),i.jsx("div",{className:"flex items-center gap-2 mb-4",children:i.jsxs("span",{className:"text-2xl font-black text-primary font-mono",children:[ue.price," ",i.jsx("small",{className:"text-[10px] uppercase",children:s.currency})]})}),i.jsxs("div",{className:"mt-auto space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-muted-foreground",children:[i.jsx(rm,{size:14,className:"text-primary/60"}),i.jsxs("span",{children:[ue.photo_count," ",oe.photos]})]}),i.jsx("div",{className:"flex flex-wrap gap-1.5 pt-2 border-t border-border/50",children:ue.sizes.map((ge,Ne)=>i.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full bg-muted text-muted-foreground border border-border",children:ge},Ne))})]})]})]},ue.id))}),i.jsx(Vt,{children:d&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[2000] flex items-center justify-center p-5",children:i.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",onClick:ue=>ue.stopPropagation(),children:[i.jsxs("div",{className:"px-6 py-4 border-b border-border flex justify-between items-center",children:[i.jsx("h3",{className:"font-bold text-foreground",children:p?oe.type:oe.addNew}),i.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-muted rounded-lg transition-all",children:i.jsx(Dt,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-2",children:oe.type}),i.jsx("input",{value:v,onChange:ue=>j(ue.target.value),className:"w-full px-4 py-2.5 bg-muted border border-border rounded-xl font-cairo"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-2",children:oe.price}),i.jsxs("div",{className:"relative",children:[i.jsx(vs,{size:14,className:"absolute start-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),i.jsx("input",{type:"number",value:w,onChange:ue=>A(ue.target.value),className:"w-full ps-9 pe-4 py-2.5 bg-muted border border-border rounded-xl font-mono"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-2",children:oe.photoCount}),i.jsx("input",{type:"number",value:_,onChange:ue=>C(ue.target.value),className:"w-full px-4 py-2.5 bg-muted border border-border rounded-xl font-mono"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-2",children:oe.sizes}),i.jsx("input",{value:D,onChange:ue=>T(ue.target.value),placeholder:"10x15, 20x30, ...",className:"w-full px-4 py-2.5 bg-muted border border-border rounded-xl font-cairo text-sm"})]})]}),i.jsxs("div",{className:"px-6 py-4 border-t border-border bg-muted/30 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-xl font-bold text-sm text-muted-foreground hover:bg-muted transition-all",children:oe.cancel}),i.jsx("button",{onClick:X,disabled:x||!v||!w,className:"px-6 py-2 bg-primary text-primary-foreground rounded-xl font-bold text-sm shadow-md hover:opacity-90 disabled:opacity-50 transition-all flex items-center gap-2",children:x?i.jsx(dt,{className:"animate-spin",size:16}):i.jsxs(i.Fragment,{children:[i.jsx(Bt,{size:16}),oe.save]})})]})]})})})]})};function ru(s,e){var a={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(a[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(s);c<r.length;c++)e.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(s,r[c])&&(a[r[c]]=s[r[c]]);return a}function j3(s,e,a,r){function c(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function f(x){try{g(r.next(x))}catch(b){d(b)}}function p(x){try{g(r.throw(x))}catch(b){d(b)}}function g(x){x.done?u(x.value):c(x.value).then(f,p)}g((r=r.apply(s,e||[])).next())})}const N3=s=>s?(...e)=>s(...e):(...e)=>fetch(...e);class Vm extends Error{constructor(e,a="FunctionsError",r){super(e),this.name=a,this.context=r}}class S3 extends Vm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Rb extends Vm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ob extends Vm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Vf;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Vf||(Vf={}));class _3{constructor(e,{headers:a={},customFetch:r,region:c=Vf.Any}={}){this.url=e,this.headers=a,this.region=c,this.fetch=N3(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return j3(this,arguments,void 0,function*(a,r={}){var c;let u,d;try{const{headers:f,method:p,body:g,signal:x,timeout:b}=r;let v={},{region:j}=r;j||(j=this.region);const w=new URL(`${this.url}/${a}`);j&&j!=="any"&&(v["x-region"]=j,w.searchParams.set("forceFunctionRegion",j));let A;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",A=g):typeof g=="string"?(v["Content-Type"]="text/plain",A=g):typeof FormData<"u"&&g instanceof FormData?A=g:(v["Content-Type"]="application/json",A=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?A=JSON.stringify(g):A=g;let _=x;b&&(d=new AbortController,u=setTimeout(()=>d.abort(),b),x?(_=d.signal,x.addEventListener("abort",()=>d.abort())):_=d.signal);const C=yield this.fetch(w.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),f),body:A,signal:_}).catch(q=>{throw new S3(q)}),D=C.headers.get("x-relay-error");if(D&&D==="true")throw new Rb(C);if(!C.ok)throw new Ob(C);let T=((c=C.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),L;return T==="application/json"?L=yield C.json():T==="application/octet-stream"||T==="application/pdf"?L=yield C.blob():T==="text/event-stream"?L=C:T==="multipart/form-data"?L=yield C.formData():L=yield C.text(),{data:L,error:null,response:C}}catch(f){return{data:null,error:f,response:f instanceof Ob||f instanceof Rb?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var A3=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},T3=class{constructor(s){var e,a,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(e=s.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,this.urlLengthLimit=(r=s.urlLengthLimit)!==null&&r!==void 0?r:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,e){return this.headers=new Headers(this.headers),this.headers.set(s,e),this}then(s,e){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let d=null,f=null,p=null,g=u.status,x=u.statusText;if(u.ok){var b,v;if(a.method!=="HEAD"){var j;const C=await u.text();C===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((j=a.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?f=C:f=JSON.parse(C))}const A=(b=a.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),_=(v=u.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");A&&_&&_.length>1&&(p=parseInt(_[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,g=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var w;const A=await u.text();try{d=JSON.parse(A),Array.isArray(d)&&u.status===404&&(f=[],d=null,g=200,x="OK")}catch{u.status===404&&A===""?(g=204,x="No Content"):d={message:A}}if(d&&a.isMaybeSingle&&(!(d==null||(w=d.details)===null||w===void 0)&&w.includes("0 rows"))&&(d=null,g=200,x="OK"),d&&a.shouldThrowOnError)throw new A3(d)}return{error:d,data:f,count:p,status:g,statusText:x}});return this.shouldThrowOnError||(c=c.catch(u=>{var d;let f="",p="",g="";const x=u?.cause;if(x){var b,v,j,w;const C=(b=x?.message)!==null&&b!==void 0?b:"",D=(v=x?.code)!==null&&v!==void 0?v:"";f=`${(j=u?.name)!==null&&j!==void 0?j:"FetchError"}: ${u?.message}`,f+=`

Caused by: ${(w=x?.name)!==null&&w!==void 0?w:"Error"}: ${C}`,D&&(f+=` (${D})`),x?.stack&&(f+=`
${x.stack}`)}else{var A;f=(A=u?.stack)!==null&&A!==void 0?A:""}const _=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(g="",p="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(x?.name==="HeadersOverflowError"||x?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",p="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(p+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:f,hint:p,code:g},data:null,count:null,status:0,statusText:""}})),c.then(s,e)}returns(){return this}overrideTypes(){return this}},E3=class extends T3{select(s){let e=!1;const a=(s??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:e=!0,nullsFirst:a,foreignTable:r,referencedTable:c=r}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${e?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:e,referencedTable:a=e}={}){const r=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(r,`${s}`),this}range(s,e,{foreignTable:a,referencedTable:r=a}={}){const c=typeof r>"u"?"offset":`${r}.offset`,u=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${e-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:e=!1,settings:a=!1,buffers:r=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,e?"verbose":null,a?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Db=new RegExp("[,()]");var Wr=class extends E3{eq(s,e){return this.url.searchParams.append(s,`eq.${e}`),this}neq(s,e){return this.url.searchParams.append(s,`neq.${e}`),this}gt(s,e){return this.url.searchParams.append(s,`gt.${e}`),this}gte(s,e){return this.url.searchParams.append(s,`gte.${e}`),this}lt(s,e){return this.url.searchParams.append(s,`lt.${e}`),this}lte(s,e){return this.url.searchParams.append(s,`lte.${e}`),this}like(s,e){return this.url.searchParams.append(s,`like.${e}`),this}likeAllOf(s,e){return this.url.searchParams.append(s,`like(all).{${e.join(",")}}`),this}likeAnyOf(s,e){return this.url.searchParams.append(s,`like(any).{${e.join(",")}}`),this}ilike(s,e){return this.url.searchParams.append(s,`ilike.${e}`),this}ilikeAllOf(s,e){return this.url.searchParams.append(s,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(s,e){return this.url.searchParams.append(s,`ilike(any).{${e.join(",")}}`),this}regexMatch(s,e){return this.url.searchParams.append(s,`match.${e}`),this}regexIMatch(s,e){return this.url.searchParams.append(s,`imatch.${e}`),this}is(s,e){return this.url.searchParams.append(s,`is.${e}`),this}isDistinct(s,e){return this.url.searchParams.append(s,`isdistinct.${e}`),this}in(s,e){const a=Array.from(new Set(e)).map(r=>typeof r=="string"&&Db.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}notIn(s,e){const a=Array.from(new Set(e)).map(r=>typeof r=="string"&&Db.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`not.in.(${a})`),this}contains(s,e){return typeof e=="string"?this.url.searchParams.append(s,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(s,`cs.{${e.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(e)}`),this}containedBy(s,e){return typeof e=="string"?this.url.searchParams.append(s,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(s,`cd.{${e.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(e)}`),this}rangeGt(s,e){return this.url.searchParams.append(s,`sr.${e}`),this}rangeGte(s,e){return this.url.searchParams.append(s,`nxl.${e}`),this}rangeLt(s,e){return this.url.searchParams.append(s,`sl.${e}`),this}rangeLte(s,e){return this.url.searchParams.append(s,`nxr.${e}`),this}rangeAdjacent(s,e){return this.url.searchParams.append(s,`adj.${e}`),this}overlaps(s,e){return typeof e=="string"?this.url.searchParams.append(s,`ov.${e}`):this.url.searchParams.append(s,`ov.{${e.join(",")}}`),this}textSearch(s,e,{config:a,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${c}fts${u}.${e}`),this}match(s){return Object.entries(s).forEach(([e,a])=>{this.url.searchParams.append(e,`eq.${a}`)}),this}not(s,e,a){return this.url.searchParams.append(s,`not.${e}.${a}`),this}or(s,{foreignTable:e,referencedTable:a=e}={}){const r=a?`${a}.or`:"or";return this.url.searchParams.append(r,`(${s})`),this}filter(s,e,a){return this.url.searchParams.append(s,`${e}.${a}`),this}},k3=class{constructor(s,{headers:e={},schema:a,fetch:r,urlLengthLimit:c=8e3}){this.url=s,this.headers=new Headers(e),this.schema=a,this.fetch=r,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,e){const{head:a=!1,count:r}=e??{},c=a?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:f,headers:p}=this.cloneRequestState();return f.searchParams.set("select",d),r&&p.append("Prefer",`count=${r}`),new Wr({method:c,url:f,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:e,defaultToNull:a=!0}={}){var r;const c="POST",{url:u,headers:d}=this.cloneRequestState();if(e&&d.append("Prefer",`count=${e}`),a||d.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);u.searchParams.set("columns",p.join(","))}}return new Wr({method:c,url:u,headers:d,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:e,ignoreDuplicates:a=!1,count:r,defaultToNull:c=!0}={}){var u;const d="POST",{url:f,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),e!==void 0&&f.searchParams.set("on_conflict",e),r&&p.append("Prefer",`count=${r}`),c||p.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(g.length>0){const x=[...new Set(g)].map(b=>`"${b}"`);f.searchParams.set("columns",x.join(","))}}return new Wr({method:d,url:f,headers:p,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:e}={}){var a;const r="PATCH",{url:c,headers:u}=this.cloneRequestState();return e&&u.append("Prefer",`count=${e}`),new Wr({method:r,url:c,headers:u,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var e;const a="DELETE",{url:r,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new Wr({method:a,url:r,headers:c,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Mo(s){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(s)}function C3(s,e){if(Mo(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,e);if(Mo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function R3(s){var e=C3(s,"string");return Mo(e)=="symbol"?e:e+""}function O3(s,e,a){return(e=R3(e))in s?Object.defineProperty(s,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[e]=a,s}function Mb(s,e){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,r)}return a}function gc(s){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Mb(Object(a),!0).forEach(function(r){O3(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):Mb(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}var D3=class Sw{constructor(e,{headers:a={},schema:r,fetch:c,timeout:u,urlLengthLimit:d=8e3}={}){this.url=e,this.headers=new Headers(a),this.schemaName=r,this.urlLengthLimit=d;const f=c??globalThis.fetch;u!==void 0&&u>0?this.fetch=(p,g)=>{const x=new AbortController,b=setTimeout(()=>x.abort(),u),v=g?.signal;if(v){if(v.aborted)return clearTimeout(b),f(p,g);const j=()=>{clearTimeout(b),x.abort()};return v.addEventListener("abort",j,{once:!0}),f(p,gc(gc({},g),{},{signal:x.signal})).finally(()=>{clearTimeout(b),v.removeEventListener("abort",j)})}return f(p,gc(gc({},g),{},{signal:x.signal})).finally(()=>clearTimeout(b))}:this.fetch=f}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new k3(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new Sw(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,a={},{head:r=!1,get:c=!1,count:u}={}){var d;let f;const p=new URL(`${this.url}/rpc/${e}`);let g;const x=j=>j!==null&&typeof j=="object"&&(!Array.isArray(j)||j.some(x)),b=r&&Object.values(a).some(x);b?(f="POST",g=a):r||c?(f=r?"HEAD":"GET",Object.entries(a).filter(([j,w])=>w!==void 0).map(([j,w])=>[j,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([j,w])=>{p.searchParams.append(j,w)})):(f="POST",g=a);const v=new Headers(this.headers);return b?v.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&v.set("Prefer",`count=${u}`),new Wr({method:f,url:p,headers:v,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class M3{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const r=a.versions;if(r&&r.node){const c=r.node,u=parseInt(c.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let a=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(a+=`

Suggested solution: ${e.workaround}`),new Error(a)}static createWebSocket(e,a){const r=this.getWebSocketConstructor();return new r(e,a)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const z3="2.95.3",U3=`realtime-js/${z3}`,L3="1.0.0",_w="2.0.0",zb=_w,$f=1e4,P3=1e3,B3=100;var xa;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(xa||(xa={}));var Jt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Jt||(Jt={}));var cn;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(cn||(cn={}));var If;(function(s){s.websocket="websocket"})(If||(If={}));var Ya;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Ya||(Ya={}));class V3{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,a){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return a(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var a;return this._isArrayBuffer((a=e.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var a,r;const c=(r=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(e){var a,r;const c=(r=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&r!==void 0?r:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(e,a,r){var c,u;const d=e.topic,f=(c=e.ref)!==null&&c!==void 0?c:"",p=(u=e.join_ref)!==null&&u!==void 0?u:"",g=e.payload.event,x=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+d.length+g.length+b.length,j=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(j),A=0;w.setUint8(A++,this.KINDS.userBroadcastPush),w.setUint8(A++,p.length),w.setUint8(A++,f.length),w.setUint8(A++,d.length),w.setUint8(A++,g.length),w.setUint8(A++,b.length),w.setUint8(A++,a),Array.from(p,C=>w.setUint8(A++,C.charCodeAt(0))),Array.from(f,C=>w.setUint8(A++,C.charCodeAt(0))),Array.from(d,C=>w.setUint8(A++,C.charCodeAt(0))),Array.from(g,C=>w.setUint8(A++,C.charCodeAt(0))),Array.from(b,C=>w.setUint8(A++,C.charCodeAt(0)));var _=new Uint8Array(j.byteLength+r.byteLength);return _.set(new Uint8Array(j),0),_.set(new Uint8Array(r),j.byteLength),_.buffer}decode(e,a){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return a(r)}if(typeof e=="string"){const r=JSON.parse(e),[c,u,d,f,p]=r;return a({join_ref:c,ref:u,topic:d,event:f,payload:p})}return a({})}_binaryDecode(e){const a=new DataView(e),r=a.getUint8(0),c=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,a,c)}_decodeUserBroadcast(e,a,r){const c=a.getUint8(1),u=a.getUint8(2),d=a.getUint8(3),f=a.getUint8(4);let p=this.HEADER_LENGTH+4;const g=r.decode(e.slice(p,p+c));p=p+c;const x=r.decode(e.slice(p,p+u));p=p+u;const b=r.decode(e.slice(p,p+d));p=p+d;const v=e.slice(p,e.byteLength),j=f===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,w={type:this.BROADCAST_EVENT,event:x,payload:j};return d>0&&(w.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var a;return e instanceof ArrayBuffer||((a=e?.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(e,a){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>a.includes(r)))}}class Aw{constructor(e,a){this.callback=e,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xt;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(xt||(xt={}));const Ub=(s,e,a={})=>{var r;const c=(r=a.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((u,d)=>(u[d]=$3(d,s,e,c),u),{}):{}},$3=(s,e,a,r)=>{const c=e.find(f=>f.name===s),u=c?.type,d=a[s];return u&&!r.includes(u)?Tw(u,d):qf(d)},Tw=(s,e)=>{if(s.charAt(0)==="_"){const a=s.slice(1,s.length);return G3(e,a)}switch(s){case xt.bool:return I3(e);case xt.float4:case xt.float8:case xt.int2:case xt.int4:case xt.int8:case xt.numeric:case xt.oid:return q3(e);case xt.json:case xt.jsonb:return H3(e);case xt.timestamp:return K3(e);case xt.abstime:case xt.date:case xt.daterange:case xt.int4range:case xt.int8range:case xt.money:case xt.reltime:case xt.text:case xt.time:case xt.timestamptz:case xt.timetz:case xt.tsrange:case xt.tstzrange:return qf(e);default:return qf(e)}},qf=s=>s,I3=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},q3=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},H3=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},G3=(s,e)=>{if(typeof s!="string")return s;const a=s.length-1,r=s[a];if(s[0]==="{"&&r==="}"){let u;const d=s.slice(1,a);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(f=>Tw(e,f))}return s},K3=s=>typeof s=="string"?s.replace(" ","T"):s,Ew=s=>{const e=new URL(s);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Qh{constructor(e,a,r={},c=$f){this.channel=e,this.event=a,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,a){var r;return this._hasReceived(e)&&a((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:a}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(a))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lb;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Lb||(Lb={}));class So{constructor(e,a){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=So.syncState(this.state,c,u,d),this.pendingDiffs.forEach(p=>{this.state=So.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},c=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=So.syncDiff(this.state,c,u,d),f())}),this.onJoin((c,u,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:d})}),this.onLeave((c,u,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,a,r,c){const u=this.cloneDeep(e),d=this.transformState(a),f={},p={};return this.map(u,(g,x)=>{d[g]||(p[g]=x)}),this.map(d,(g,x)=>{const b=u[g];if(b){const v=x.map(_=>_.presence_ref),j=b.map(_=>_.presence_ref),w=x.filter(_=>j.indexOf(_.presence_ref)<0),A=b.filter(_=>v.indexOf(_.presence_ref)<0);w.length>0&&(f[g]=w),A.length>0&&(p[g]=A)}else f[g]=x}),this.syncDiff(u,{joins:f,leaves:p},r,c)}static syncDiff(e,a,r,c){const{joins:u,leaves:d}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(u,(f,p)=>{var g;const x=(g=e[f])!==null&&g!==void 0?g:[];if(e[f]=this.cloneDeep(p),x.length>0){const b=e[f].map(j=>j.presence_ref),v=x.filter(j=>b.indexOf(j.presence_ref)<0);e[f].unshift(...v)}r(f,x,p)}),this.map(d,(f,p)=>{let g=e[f];if(!g)return;const x=p.map(b=>b.presence_ref);g=g.filter(b=>x.indexOf(b.presence_ref)<0),e[f]=g,c(f,g,p),g.length===0&&delete e[f]}),e}static map(e,a){return Object.getOwnPropertyNames(e).map(r=>a(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((a,r)=>{const c=e[r];return"metas"in c?a[r]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[r]=c,a},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pb;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Pb||(Pb={}));var _o;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(_o||(_o={}));var Pn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Pn||(Pn={}));class ii{constructor(e,a={config:{}},r){var c,u;if(this.topic=e,this.params=a,this.socket=r,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Qh(this,cn.join,this.params,this.timeout),this.rejoinTimer=new Aw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new So(this),this.broadcastEndpointURL=Ew(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,a=this.timeout){var r,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,g=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(j=>j.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[_o.PRESENCE]&&this.bindings[_o.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},v={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:x}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(j=>e?.(Pn.CHANNEL_ERROR,j)),this._onClose(()=>e?.(Pn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},b)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:j})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){e?.(Pn.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,_=(w=A?.length)!==null&&w!==void 0?w:0,C=[];for(let D=0;D<_;D++){const T=A[D],{filter:{event:L,schema:q,table:H,filter:X}}=T,ee=j&&j[D];if(ee&&ee.event===L&&ii.isFilterValueEqual(ee.schema,q)&&ii.isFilterValueEqual(ee.table,H)&&ii.isFilterValueEqual(ee.filter,X))C.push(Object.assign(Object.assign({},T),{id:ee.id}));else{this.unsubscribe(),this.state=Jt.errored,e?.(Pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Pn.SUBSCRIBED);return}}).receive("error",j=>{this.state=Jt.errored,e?.(Pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{e?.(Pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,a={}){return await this.send({type:"presence",event:"track",payload:e},a.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,a,r){return this.state===Jt.joined&&e===_o.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,a,r)}async httpSend(e,a,r={}){var c;if(a==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:a,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const g=await f.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(e,a={}){var r,c;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,f,p;const g=this._push(e.type,e,a.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Jt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new Qh(this,cn.leave,{},e),r.receive("ok",()=>{a(),c("ok")}).receive("timeout",()=>{a(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jt.closed,this.bindings={}}async _fetchWithTimeout(e,a,r){const c=new AbortController,u=setTimeout(()=>c.abort(),r),d=await this.socket.fetch(e,Object.assign(Object.assign({},a),{signal:c.signal}));return clearTimeout(u),d}_push(e,a,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Qh(this,e,a,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>B3){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(e,a,r){return a}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,a,r){var c,u;const d=e.toLocaleLowerCase(),{close:f,error:p,leave:g,join:x}=cn;if(r&&[f,p,g,x].indexOf(d)>=0&&r!==this._joinRef())return;let v=this._onMessage(d,a,r);if(a&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(j=>{var w,A,_;return((w=j.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(A=j.filter)===null||A===void 0?void 0:A.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===d}).map(j=>j.callback(v,r)):(u=this.bindings[d])===null||u===void 0||u.filter(j=>{var w,A,_,C,D,T;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in j){const L=j.id,q=(w=j.filter)===null||w===void 0?void 0:w.event;return L&&((A=a.ids)===null||A===void 0?void 0:A.includes(L))&&(q==="*"||q?.toLocaleLowerCase()===((_=a.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const L=(D=(C=j?.filter)===null||C===void 0?void 0:C.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return L==="*"||L===((T=a?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===d}).map(j=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:A,table:_,commit_timestamp:C,type:D,errors:T}=w;v=Object.assign(Object.assign({},{schema:A,table:_,commit_timestamp:C,eventType:D,new:{},old:{},errors:T}),this._getPayloadRecords(w))}j.callback(v,r)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,a,r){const c=e.toLocaleLowerCase(),u={type:c,filter:a,callback:r};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(e,a){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&ii.isEqual(c.filter,a))})),this}static isEqual(e,a){if(Object.keys(e).length!==Object.keys(a).length)return!1;for(const r in e)if(e[r]!==a[r])return!1;return!0}static isFilterValueEqual(e,a){return(e??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cn.close,{},e)}_onError(e){this._on(cn.error,{},a=>e(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const a={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(a.new=Ub(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(a.old=Ub(e.columns,e.old_record)),a}}const Wh=()=>{},xc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},F3=[1e3,2e3,5e3,1e4],Y3=1e4,X3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Q3{constructor(e,a){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$f,this.transport=null,this.heartbeatIntervalMs=xc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wh,this.ref=0,this.reconnectTimer=null,this.vsn=zb,this.logger=Wh,this.conn=null,this.sendBuffer=[],this.serializer=new V3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((r=a?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${e}/${If.websocket}`,this.httpEndpoint=Ew(e),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=M3.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const a=e.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const a=await e.unsubscribe();return a==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const e=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,a,r){this.logger(e,a,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xa.connecting:return Ya.Connecting;case xa.open:return Ya.Open;case xa.closing:return Ya.Closing;default:return Ya.Closed}}isConnected(){return this.connectionState()===Ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,a={config:{}}){const r=`realtime:${e}`,c=this.getChannels().find(u=>u.topic===r);if(c)return c;{const u=new ii(`realtime:${e}`,a,this);return this.channels.push(u),u}}push(e){const{topic:a,event:r,payload:c,ref:u}=e,d=()=>{this.encode(e,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${a} ${r} (${u})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(P3,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},xc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let a=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${e}"`),a.unsubscribe())}_remove(e){this.channels=this.channels.filter(a=>a.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",g)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:u,ref:d}=a,f=d?`(${d})`:"",p=u.status||"";this.log("receive",`${p} ${r} ${c} ${f}`.trim(),u),this.channels.filter(g=>g._isMember(r)).forEach(g=>g._trigger(c,u,d)),this._triggerStateCallbacks("message",a)})}_clearTimer(e){var a;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===xa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xa.open||this.conn.readyState===xa.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var a;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(a){this.log("error","error in heartbeat callback",a)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(cn.error))}_appendParams(e,a){if(Object.keys(a).length===0)return e;const r=e.match(/\?/)?"&":"?",c=new URLSearchParams(a);return`${e}${r}${c}`}_workerObjectUrl(e){let a;if(e)a=e;else{const r=new Blob([X3],{type:"application/javascript"});a=URL.createObjectURL(r)}return a}_setConnectionState(e,a=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(e=null){let a,r=!1;if(e)a=e,r=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),a=this.accessTokenValue}else a=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(c=>{const u={access_token:a,version:U3};a&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(cn.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${e}`,a)})}_triggerStateCallbacks(e,a){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(a)}catch(c){this.log("error",`error in ${e} callback`,c)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Aw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var a,r,c,u,d,f,p,g,x,b,v,j;switch(this.transport=(a=e?.transport)!==null&&a!==void 0?a:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:$f,this.heartbeatIntervalMs=(c=e?.heartbeatIntervalMs)!==null&&c!==void 0?c:xc.HEARTBEAT_INTERVAL,this.worker=(u=e?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=e?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:Wh,this.vsn=(p=e?.vsn)!==null&&p!==void 0?p:zb,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e?.reconnectAfterMs)!==null&&g!==void 0?g:(w=>F3[w-1]||Y3),this.vsn){case L3:this.encode=(x=e?.encode)!==null&&x!==void 0?x:((w,A)=>A(JSON.stringify(w))),this.decode=(b=e?.decode)!==null&&b!==void 0?b:((w,A)=>A(JSON.parse(w)));break;case _w:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(j=e?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var zo=class extends Error{constructor(s,e){super(s),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function W3(s,e,a){const r=new URL(e,s);if(a)for(const[c,u]of Object.entries(a))u!==void 0&&r.searchParams.set(c,u);return r.toString()}async function J3(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Z3(s){const e=s.fetchImpl??globalThis.fetch;return{async request({method:a,path:r,query:c,body:u,headers:d}){const f=W3(s.baseUrl,r,c),p=await J3(s.auth),g=await e(f,{method:a,headers:{...u?{"Content-Type":"application/json"}:{},...p,...d},body:u?JSON.stringify(u):void 0}),x=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),v=b&&x?JSON.parse(x):x;if(!g.ok){const j=b?v:void 0,w=j?.error;throw new zo(w?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:w?.type,icebergCode:w?.code,details:j})}return{status:g.status,headers:g.headers,data:v}}}}function yc(s){return s.join("")}var e4=class{constructor(s,e=""){this.client=s,this.prefix=e}async listNamespaces(s){const e=s?{parent:yc(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(s,e){const a={namespace:s.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yc(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yc(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yc(s.namespace)}`}),!0}catch(e){if(e instanceof zo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(s,e){try{return await this.createNamespace(s,e)}catch(a){if(a instanceof zo&&a.status===409)return;throw a}}};function Hr(s){return s.join("")}var t4=class{constructor(s,e="",a){this.client=s,this.prefix=e,this.accessDelegation=a}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hr(s.namespace)}/tables`})).data.identifiers}async createTable(s,e){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hr(s.namespace)}/tables`,body:e,headers:a})).data.metadata}async updateTable(s,e){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hr(s.namespace)}/tables/${s.name}`,body:e});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(s,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hr(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(s){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hr(s.namespace)}/tables/${s.name}`,headers:e})).data.metadata}async tableExists(s){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hr(s.namespace)}/tables/${s.name}`,headers:e}),!0}catch(a){if(a instanceof zo&&a.status===404)return!1;throw a}}async createTableIfNotExists(s,e){try{return await this.createTable(s,e)}catch(a){if(a instanceof zo&&a.status===409)return await this.loadTable({namespace:s.namespace,name:e.name});throw a}}},s4=class{constructor(s){let e="v1";s.catalogName&&(e+=`/${s.catalogName}`);const a=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Z3({baseUrl:a,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new e4(this.client,e),this.tableOps=new t4(this.client,e,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,e){return this.namespaceOps.createNamespace(s,e)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,e){return this.tableOps.createTable(s,e)}async updateTable(s,e){return this.tableOps.updateTable(s,e)}async dropTable(s,e){await this.tableOps.dropTable(s,e)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,e){return this.namespaceOps.createNamespaceIfNotExists(s,e)}async createTableIfNotExists(s,e){return this.tableOps.createTableIfNotExists(s,e)}},iu=class extends Error{constructor(s,e="storage",a,r){super(s),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=a,this.statusCode=r}};function ou(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var bc=class extends iu{constructor(s,e,a,r="storage"){super(s,r,e,a),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kw=class extends iu{constructor(s,e,a="storage"){super(s,a),this.name=a==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const n4=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),a4=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Hf=s=>{if(Array.isArray(s))return s.map(a=>Hf(a));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([a,r])=>{const c=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));e[c]=Hf(r)}),e},r4=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Uo(s){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(s)}function i4(s,e){if(Uo(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,e);if(Uo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function o4(s){var e=i4(s,"string");return Uo(e)=="symbol"?e:e+""}function l4(s,e,a){return(e=o4(e))in s?Object.defineProperty(s,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[e]=a,s}function Bb(s,e){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,r)}return a}function De(s){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Bb(Object(a),!0).forEach(function(r){l4(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):Bb(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}const Vb=s=>{var e;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(e=s.error)===null||e===void 0?void 0:e.message)||JSON.stringify(s)},c4=async(s,e,a,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!a?.noResolveJson){const c=s,u=c.status||500;if(typeof c.json=="function")c.json().then(d=>{const f=d?.statusCode||d?.code||u+"";e(new bc(Vb(d),u,f,r))}).catch(()=>{if(r==="vectors"){const d=u+"";e(new bc(c.statusText||`HTTP ${u} error`,u,d,r))}else{const d=u+"";e(new bc(c.statusText||`HTTP ${u} error`,u,d,r))}});else{const d=u+"";e(new bc(c.statusText||`HTTP ${u} error`,u,d,r))}}else e(new kw(Vb(s),s,r))},u4=(s,e,a,r)=>{const c={method:s,headers:e?.headers||{}};return s==="GET"||s==="HEAD"||!r?De(De({},c),a):(a4(r)?(c.headers=De({"Content-Type":"application/json"},e?.headers),c.body=JSON.stringify(r)):c.body=r,e?.duplex&&(c.duplex=e.duplex),De(De({},c),a))};async function mo(s,e,a,r,c,u,d){return new Promise((f,p)=>{s(a,u4(e,r,c,u)).then(g=>{if(!g.ok)throw g;if(r?.noResolveJson)return g;if(d==="vectors"){const x=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!x||!x.includes("application/json"))return{}}return g.json()}).then(g=>f(g)).catch(g=>c4(g,p,r,d))})}function Cw(s="storage"){return{get:async(e,a,r,c)=>mo(e,"GET",a,r,c,void 0,s),post:async(e,a,r,c,u)=>mo(e,"POST",a,c,u,r,s),put:async(e,a,r,c,u)=>mo(e,"PUT",a,c,u,r,s),head:async(e,a,r,c)=>mo(e,"HEAD",a,De(De({},r),{},{noResolveJson:!0}),c,void 0,s),remove:async(e,a,r,c,u)=>mo(e,"DELETE",a,c,u,r,s)}}const d4=Cw("storage"),{get:Lo,post:ln,put:Gf,head:h4,remove:$m}=d4,Vs=Cw("vectors");var yi=class{constructor(s,e={},a,r="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=e,this.fetch=n4(a),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(s){var e=this;try{return{data:await s(),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(ou(a))return{data:null,error:a};throw a}}},f4=class{constructor(s,e){this.downloadFn=s,this.shouldThrowOnError=e}then(s,e){return this.execute().then(s,e)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(e){if(s.shouldThrowOnError)throw e;if(ou(e))return{data:null,error:e};throw e}}};let Rw;Rw=Symbol.toStringTag;var m4=class{constructor(s,e){this.downloadFn=s,this.shouldThrowOnError=e,this[Rw]="BlobDownloadBuilder",this.promise=null}asStream(){return new f4(this.downloadFn,this.shouldThrowOnError)}then(s,e){return this.getPromise().then(s,e)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(e){if(s.shouldThrowOnError)throw e;if(ou(e))return{data:null,error:e};throw e}}};const p4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$b={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var g4=class extends yi{constructor(s,e={},a,r){super(s,e,r,"storage"),this.bucketId=a}async uploadOrUpdate(s,e,a,r){var c=this;return c.handleOperation(async()=>{let u;const d=De(De({},$b),r);let f=De(De({},c.headers),s==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",c.encodeMetadata(p)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),p&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(p))):(u=a,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),r?.headers&&(f=De(De({},f),r.headers));const g=c._removeEmptyFolders(e),x=c._getFinalPath(g),b=await(s=="PUT"?Gf:ln)(c.fetch,`${c.url}/object/${x}`,u,De({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{path:g,id:b.Id,fullPath:b.Key}})}async upload(s,e,a){return this.uploadOrUpdate("POST",s,e,a)}async uploadToSignedUrl(s,e,a,r){var c=this;const u=c._removeEmptyFolders(s),d=c._getFinalPath(u),f=new URL(c.url+`/object/upload/sign/${d}`);return f.searchParams.set("token",e),c.handleOperation(async()=>{let p;const g=De({upsert:$b.upsert},r),x=De(De({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&a instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",a)):typeof FormData<"u"&&a instanceof FormData?(p=a,p.append("cacheControl",g.cacheControl)):(p=a,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType),{path:u,fullPath:(await Gf(c.fetch,f.toString(),p,{headers:x})).Key}})}async createSignedUploadUrl(s,e){var a=this;return a.handleOperation(async()=>{let r=a._getFinalPath(s);const c=De({},a.headers);e?.upsert&&(c["x-upsert"]="true");const u=await ln(a.fetch,`${a.url}/object/upload/sign/${r}`,{},{headers:c}),d=new URL(a.url+u.url),f=d.searchParams.get("token");if(!f)throw new iu("No token returned by API");return{signedUrl:d.toString(),path:s,token:f}})}async update(s,e,a){return this.uploadOrUpdate("PUT",s,e,a)}async move(s,e,a){var r=this;return r.handleOperation(async()=>await ln(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:s,destinationKey:e,destinationBucket:a?.destinationBucket},{headers:r.headers}))}async copy(s,e,a){var r=this;return r.handleOperation(async()=>({path:(await ln(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:s,destinationKey:e,destinationBucket:a?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(s,e,a){var r=this;return r.handleOperation(async()=>{let c=r._getFinalPath(s),u=await ln(r.fetch,`${r.url}/object/sign/${c}`,De({expiresIn:e},a?.transform?{transform:a.transform}:{}),{headers:r.headers});const d=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{signedUrl:encodeURI(`${r.url}${u.signedURL}${d}`)}})}async createSignedUrls(s,e,a){var r=this;return r.handleOperation(async()=>{const c=await ln(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:s},{headers:r.headers}),u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return c.map(d=>De(De({},d),{},{signedUrl:d.signedURL?encodeURI(`${r.url}${d.signedURL}${u}`):null}))})}download(s,e,a){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(e?.transform||{}),u=c?`?${c}`:"",d=this._getFinalPath(s),f=()=>Lo(this.fetch,`${this.url}/${r}/${d}${u}`,{headers:this.headers,noResolveJson:!0},a);return new m4(f,this.shouldThrowOnError)}async info(s){var e=this;const a=e._getFinalPath(s);return e.handleOperation(async()=>Hf(await Lo(e.fetch,`${e.url}/object/info/${a}`,{headers:e.headers})))}async exists(s){var e=this;const a=e._getFinalPath(s);try{return await h4(e.fetch,`${e.url}/object/${a}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ou(r)&&r instanceof kw){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}}getPublicUrl(s,e){const a=this._getFinalPath(s),r=[],c=e?.download?`download=${e.download===!0?"":e.download}`:"";c!==""&&r.push(c);const u=typeof e?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(e?.transform||{});d!==""&&r.push(d);let f=r.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${a}${f}`)}}}async remove(s){var e=this;return e.handleOperation(async()=>await $m(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:s},{headers:e.headers}))}async list(s,e,a){var r=this;return r.handleOperation(async()=>{const c=De(De(De({},p4),e),{},{prefix:s||""});return await ln(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},a)})}async listV2(s,e){var a=this;return a.handleOperation(async()=>{const r=De({},s);return await ln(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,r,{headers:a.headers},e)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const e=[];return s.width&&e.push(`width=${s.width}`),s.height&&e.push(`height=${s.height}`),s.resize&&e.push(`resize=${s.resize}`),s.format&&e.push(`format=${s.format}`),s.quality&&e.push(`quality=${s.quality}`),e.join("&")}};const x4="2.95.3",Qo={"X-Client-Info":`storage-js/${x4}`};var y4=class extends yi{constructor(s,e={},a,r){const c=new URL(s);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const u=c.href.replace(/\/$/,""),d=De(De({},Qo),e);super(u,d,a,"storage")}async listBuckets(s){var e=this;return e.handleOperation(async()=>{const a=e.listBucketOptionsToQueryString(s);return await Lo(e.fetch,`${e.url}/bucket${a}`,{headers:e.headers})})}async getBucket(s){var e=this;return e.handleOperation(async()=>await Lo(e.fetch,`${e.url}/bucket/${s}`,{headers:e.headers}))}async createBucket(s,e={public:!1}){var a=this;return a.handleOperation(async()=>await ln(a.fetch,`${a.url}/bucket`,{id:s,name:s,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:a.headers}))}async updateBucket(s,e){var a=this;return a.handleOperation(async()=>await Gf(a.fetch,`${a.url}/bucket/${s}`,{id:s,name:s,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:a.headers}))}async emptyBucket(s){var e=this;return e.handleOperation(async()=>await ln(e.fetch,`${e.url}/bucket/${s}/empty`,{},{headers:e.headers}))}async deleteBucket(s){var e=this;return e.handleOperation(async()=>await $m(e.fetch,`${e.url}/bucket/${s}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(s){const e={};return s&&("limit"in s&&(e.limit=String(s.limit)),"offset"in s&&(e.offset=String(s.offset)),s.search&&(e.search=s.search),s.sortColumn&&(e.sortColumn=s.sortColumn),s.sortOrder&&(e.sortOrder=s.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},b4=class extends yi{constructor(s,e={},a){const r=s.replace(/\/$/,""),c=De(De({},Qo),e);super(r,c,a,"storage")}async createBucket(s){var e=this;return e.handleOperation(async()=>await ln(e.fetch,`${e.url}/bucket`,{name:s},{headers:e.headers}))}async listBuckets(s){var e=this;return e.handleOperation(async()=>{const a=new URLSearchParams;s?.limit!==void 0&&a.set("limit",s.limit.toString()),s?.offset!==void 0&&a.set("offset",s.offset.toString()),s?.sortColumn&&a.set("sortColumn",s.sortColumn),s?.sortOrder&&a.set("sortOrder",s.sortOrder),s?.search&&a.set("search",s.search);const r=a.toString(),c=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Lo(e.fetch,c,{headers:e.headers})})}async deleteBucket(s){var e=this;return e.handleOperation(async()=>await $m(e.fetch,`${e.url}/bucket/${s}`,{},{headers:e.headers}))}from(s){var e=this;if(!r4(s))throw new iu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new s4({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(a,{get(c,u){const d=c[u];return typeof d!="function"?d:async(...f)=>{try{return{data:await d.apply(c,f),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}}}})}},v4=class extends yi{constructor(s,e={},a){const r=s.replace(/\/$/,""),c=De(De({},Qo),{},{"Content-Type":"application/json"},e);super(r,c,a,"vectors")}async createIndex(s){var e=this;return e.handleOperation(async()=>await Vs.post(e.fetch,`${e.url}/CreateIndex`,s,{headers:e.headers})||{})}async getIndex(s,e){var a=this;return a.handleOperation(async()=>await Vs.post(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:s,indexName:e},{headers:a.headers}))}async listIndexes(s){var e=this;return e.handleOperation(async()=>await Vs.post(e.fetch,`${e.url}/ListIndexes`,s,{headers:e.headers}))}async deleteIndex(s,e){var a=this;return a.handleOperation(async()=>await Vs.post(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:s,indexName:e},{headers:a.headers})||{})}},w4=class extends yi{constructor(s,e={},a){const r=s.replace(/\/$/,""),c=De(De({},Qo),{},{"Content-Type":"application/json"},e);super(r,c,a,"vectors")}async putVectors(s){var e=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Vs.post(e.fetch,`${e.url}/PutVectors`,s,{headers:e.headers})||{})}async getVectors(s){var e=this;return e.handleOperation(async()=>await Vs.post(e.fetch,`${e.url}/GetVectors`,s,{headers:e.headers}))}async listVectors(s){var e=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return e.handleOperation(async()=>await Vs.post(e.fetch,`${e.url}/ListVectors`,s,{headers:e.headers}))}async queryVectors(s){var e=this;return e.handleOperation(async()=>await Vs.post(e.fetch,`${e.url}/QueryVectors`,s,{headers:e.headers}))}async deleteVectors(s){var e=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Vs.post(e.fetch,`${e.url}/DeleteVectors`,s,{headers:e.headers})||{})}},j4=class extends yi{constructor(s,e={},a){const r=s.replace(/\/$/,""),c=De(De({},Qo),{},{"Content-Type":"application/json"},e);super(r,c,a,"vectors")}async createBucket(s){var e=this;return e.handleOperation(async()=>await Vs.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:e.headers})||{})}async getBucket(s){var e=this;return e.handleOperation(async()=>await Vs.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:s},{headers:e.headers}))}async listBuckets(s={}){var e=this;return e.handleOperation(async()=>await Vs.post(e.fetch,`${e.url}/ListVectorBuckets`,s,{headers:e.headers}))}async deleteBucket(s){var e=this;return e.handleOperation(async()=>await Vs.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:e.headers})||{})}},N4=class extends j4{constructor(s,e={}){super(s,e.headers||{},e.fetch)}from(s){return new S4(this.url,this.headers,s,this.fetch)}async createBucket(s){var e=()=>super.createBucket,a=this;return e().call(a,s)}async getBucket(s){var e=()=>super.getBucket,a=this;return e().call(a,s)}async listBuckets(s={}){var e=()=>super.listBuckets,a=this;return e().call(a,s)}async deleteBucket(s){var e=()=>super.deleteBucket,a=this;return e().call(a,s)}},S4=class extends v4{constructor(s,e,a,r){super(s,e,r),this.vectorBucketName=a}async createIndex(s){var e=()=>super.createIndex,a=this;return e().call(a,De(De({},s),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(s={}){var e=()=>super.listIndexes,a=this;return e().call(a,De(De({},s),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(s){var e=()=>super.getIndex,a=this;return e().call(a,a.vectorBucketName,s)}async deleteIndex(s){var e=()=>super.deleteIndex,a=this;return e().call(a,a.vectorBucketName,s)}index(s){return new _4(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},_4=class extends w4{constructor(s,e,a,r,c){super(s,e,c),this.vectorBucketName=a,this.indexName=r}async putVectors(s){var e=()=>super.putVectors,a=this;return e().call(a,De(De({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(s){var e=()=>super.getVectors,a=this;return e().call(a,De(De({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(s={}){var e=()=>super.listVectors,a=this;return e().call(a,De(De({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(s){var e=()=>super.queryVectors,a=this;return e().call(a,De(De({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(s){var e=()=>super.deleteVectors,a=this;return e().call(a,De(De({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},A4=class extends y4{constructor(s,e={},a,r){super(s,e,a,r)}from(s){return new g4(this.url,this.headers,s,this.fetch)}get vectors(){return new N4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new b4(this.url+"/iceberg",this.headers,this.fetch)}};const Ow="2.95.3",Jr=30*1e3,Kf=3,Jh=Kf*Jr,T4="http://localhost:9999",E4="supabase.auth.token",k4={"X-Client-Info":`gotrue-js/${Ow}`},Ff="X-Supabase-Api-Version",Dw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},C4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,R4=600*1e3;class Po extends Error{constructor(e,a,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=r}}function Ae(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class O4 extends Po{constructor(e,a,r){super(e,a,r),this.name="AuthApiError",this.status=a,this.code=r}}function D4(s){return Ae(s)&&s.name==="AuthApiError"}class Xa extends Po{constructor(e,a){super(e),this.name="AuthUnknownError",this.originalError=a}}class Gn extends Po{constructor(e,a,r,c){super(e,r,c),this.name=a,this.status=r}}class Bs extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zh(s){return Ae(s)&&s.name==="AuthSessionMissingError"}class Gr extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vc extends Gn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class wc extends Gn{constructor(e,a=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M4(s){return Ae(s)&&s.name==="AuthImplicitGrantRedirectError"}class Ib extends Gn{constructor(e,a=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class z4 extends Gn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Yf extends Gn{constructor(e,a){super(e,"AuthRetryableFetchError",a,void 0)}}function ef(s){return Ae(s)&&s.name==="AuthRetryableFetchError"}class qb extends Gn{constructor(e,a,r){super(e,"AuthWeakPasswordError",a,"weak_password"),this.reasons=r}}class Xf extends Gn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hb=` 	
\r=`.split(""),U4=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<Hb.length;e+=1)s[Hb[e].charCodeAt(0)]=-2;for(let e=0;e<Fc.length;e+=1)s[Fc[e].charCodeAt(0)]=e;return s})();function Gb(s,e,a){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;a(Fc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;a(Fc[r]),e.queuedBits-=6}}function Mw(s,e,a){const r=U4[s];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)a(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Kb(s){const e=[],a=d=>{e.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=d=>{B4(d,r,a)};for(let d=0;d<s.length;d+=1)Mw(s.charCodeAt(d),c,u);return e.join("")}function L4(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function P4(s,e){for(let a=0;a<s.length;a+=1){let r=s.charCodeAt(a);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(s.charCodeAt(a+1)-56320&65535|c)+65536,a+=1}L4(r,e)}}function B4(s,e,a){if(e.utf8seq===0){if(s<=127){a(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&a(e.codepoint)}}function ui(s){const e=[],a={queue:0,queuedBits:0},r=c=>{e.push(c)};for(let c=0;c<s.length;c+=1)Mw(s.charCodeAt(c),a,r);return new Uint8Array(e)}function V4(s){const e=[];return P4(s,a=>e.push(a)),new Uint8Array(e)}function Za(s){const e=[],a={queue:0,queuedBits:0},r=c=>{e.push(c)};return s.forEach(c=>Gb(c,a,r)),Gb(null,a,r),e.join("")}function $4(s){return Math.round(Date.now()/1e3)+s}function I4(){return Symbol("auth-callback")}const hs=()=>typeof window<"u"&&typeof document<"u",Ha={tested:!1,writable:!1},zw=()=>{if(!hs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ha.tested)return Ha.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Ha.tested=!0,Ha.writable=!0}catch{Ha.tested=!0,Ha.writable=!1}return Ha.writable};function q4(s){const e={},a=new URL(s);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((c,u)=>{e[u]=c})}catch{}return a.searchParams.forEach((r,c)=>{e[c]=r}),e}const Uw=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),H4=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Zr=async(s,e,a)=>{await s.setItem(e,JSON.stringify(a))},Ga=async(s,e)=>{const a=await s.getItem(e);if(!a)return null;try{return JSON.parse(a)}catch{return a}},ds=async(s,e)=>{await s.removeItem(e)};class lu{constructor(){this.promise=new lu.promiseConstructor((e,a)=>{this.resolve=e,this.reject=a})}}lu.promiseConstructor=Promise;function jc(s){const e=s.split(".");if(e.length!==3)throw new Xf("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!C4.test(e[r]))throw new Xf("JWT not in base64url format");return{header:JSON.parse(Kb(e[0])),payload:JSON.parse(Kb(e[1])),signature:ui(e[2]),raw:{header:e[0],payload:e[1]}}}async function G4(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function K4(s,e){return new Promise((r,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await s(u);if(!e(u,null,d)){r(d);return}}catch(d){if(!e(u,d)){c(d);return}}})()})}function F4(s){return("0"+s.toString(16)).substr(-2)}function Y4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=a.length;let c="";for(let u=0;u<56;u++)c+=a.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(e),Array.from(e,F4).join("")}async function X4(s){const a=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",a),c=new Uint8Array(r);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function Q4(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const a=await X4(s);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kr(s,e,a=!1){const r=Y4();let c=r;a&&(c+="/PASSWORD_RECOVERY"),await Zr(s,`${e}-code-verifier`,c);const u=await Q4(r);return[u,r===u?"plain":"s256"]}const W4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J4(s){const e=s.headers.get(Ff);if(!e||!e.match(W4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Z4(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function eR(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fr(s){if(!tR.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tf(){const s={};return new Proxy(s,{get:(e,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const r=a.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sR(s,e){return new Proxy(s,{get:(a,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const u=r.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,r,c)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(a,r,c)}})}function Fb(s){return JSON.parse(JSON.stringify(s))}const Fa=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),nR=[502,503,504];async function Yb(s){var e;if(!H4(s))throw new Yf(Fa(s),0);if(nR.includes(s.status))throw new Yf(Fa(s),s.status);let a;try{a=await s.json()}catch(u){throw new Xa(Fa(u),u)}let r;const c=J4(s);if(c&&c.getTime()>=Dw["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?r=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(r=a.error_code),r){if(r==="weak_password")throw new qb(Fa(a),s.status,((e=a.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Bs}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new qb(Fa(a),s.status,a.weak_password.reasons);throw new O4(Fa(a),s.status||500,r)}const aR=(s,e,a,r)=>{const c={method:s,headers:e?.headers||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),a))};async function Oe(s,e,a,r){var c;const u=Object.assign({},r?.headers);u[Ff]||(u[Ff]=Dw["2024-01-01"].name),r?.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const d=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(d.redirect_to=r.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await rR(s,e,a+f,{headers:u,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(p):{data:Object.assign({},p),error:null}}async function rR(s,e,a,r,c,u){const d=aR(e,r,c,u);let f;try{f=await s(a,Object.assign({},d))}catch(p){throw console.error(p),new Yf(Fa(p),0)}if(f.ok||await Yb(f),r?.noResolveJson)return f;try{return await f.json()}catch(p){await Yb(p)}}function rn(s){var e;let a=null;lR(s)&&(a=Object.assign({},s),s.expires_at||(a.expires_at=$4(s.expires_in)));const r=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:a,user:r},error:null}}function Xb(s){const e=rn(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0)&&(e.data.weak_password=s.weak_password),e}function ya(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function iR(s){return{data:s,error:null}}function oR(s){const{action_link:e,email_otp:a,hashed_token:r,redirect_to:c,verification_type:u}=s,d=ru(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:a,hashed_token:r,redirect_to:c,verification_type:u},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function Qb(s){return s}function lR(s){return s.access_token&&s.refresh_token&&s.expires_in}const sf=["global","local","others"];class cR{constructor({url:e="",headers:a={},fetch:r}){this.url=e,this.headers=a,this.fetch=Uw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,a=sf[0]){if(sf.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sf.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,a={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:ya})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:a}=e,r=ru(e,["options"]),c=Object.assign(Object.assign({},r),a);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:oR,redirectTo:a?.redirectTo})}catch(a){if(Ae(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ya})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async listUsers(e){var a,r,c,u,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},x=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=e?.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(u=(c=e?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Qb});if(x.error)throw x.error;const b=await x.json(),v=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(w=>{const A=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);g[`${_}Page`]=A}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(Ae(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Fr(e);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ya})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async updateUserById(e,a){Fr(e);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:a,headers:this.headers,xform:ya})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,a=!1){Fr(e);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:a},xform:ya})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Fr(e.userId);try{const{data:a,error:r}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:a,error:r}}catch(a){if(Ae(a))return{data:null,error:a};throw a}}async _deleteFactor(e){Fr(e.userId),Fr(e.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(a){if(Ae(a))return{data:null,error:a};throw a}}async _listOAuthClients(e){var a,r,c,u,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},x=await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=e?.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(u=(c=e?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Qb});if(x.error)throw x.error;const b=await x.json(),v=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(w=>{const A=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);g[`${_}Page`]=A}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(Ae(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ae(a))return{data:null,error:a};throw a}}async _getOAuthClient(e){try{return await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ae(a))return{data:null,error:a};throw a}}async _updateOAuthClient(e,a){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ae(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ae(a))return{data:null,error:a};throw a}}}function Wb(s={}){return{getItem:e=>s[e]||null,setItem:(e,a)=>{s[e]=a},removeItem:e=>{delete s[e]}}}const Yr={debug:!!(globalThis&&zw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class uR extends Lw{}async function dR(s,e,a){Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await a()}finally{Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(e===0)throw Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new uR(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Yr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function hR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Pw(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function fR(s){return parseInt(s,16)}function mR(s){const e=new TextEncoder().encode(s);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function pR(s){var e;const{chainId:a,domain:r,expirationTime:c,issuedAt:u=new Date,nonce:d,notBefore:f,requestId:p,resources:g,scheme:x,uri:b,version:v}=s;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=s.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const j=Pw(s.address),w=x?`${x}://${r}`:r,A=s.statement?`${s.statement}
`:"",_=`${w} wants you to sign in with your Ethereum account:
${j}

${A}`;let C=`URI: ${b}
Version: ${v}
Chain ID: ${a}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(c&&(C+=`
Expiration Time: ${c.toISOString()}`),f&&(C+=`
Not Before: ${f.toISOString()}`),p&&(C+=`
Request ID: ${p}`),g){let D=`
Resources:`;for(const T of g){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);D+=`
- ${T}`}C+=D}return`${_}
${C}`}class Kt extends Error{constructor({message:e,code:a,cause:r,name:c}){var u;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(u=c??(r instanceof Error?r.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=a}}class Yc extends Kt{constructor(e,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:e}),this.name="WebAuthnUnknownError",this.originalError=a}}function gR({error:s,options:e}){var a,r,c;const{publicKey:u}=e;if(!u)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new Kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(e.mediation==="conditional"&&((r=u.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Kt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const d=window.location.hostname;if(Bw(d)){if(u.rp.id!==d)return new Kt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function xR({error:s,options:e}){const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Kt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(Bw(r)){if(a.rpId!==r)return new Kt({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class yR{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const bR=new yR;function vR(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:e,user:a,excludeCredentials:r}=s,c=ru(s,["challenge","user","excludeCredentials"]),u=ui(e).buffer,d=Object.assign(Object.assign({},a),{id:ui(a.id).buffer}),f=Object.assign(Object.assign({},c),{challenge:u,user:d});if(r&&r.length>0){f.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const g=r[p];f.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:ui(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function wR(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:e,allowCredentials:a}=s,r=ru(s,["challenge","allowCredentials"]),c=ui(e).buffer,u=Object.assign(Object.assign({},r),{challenge:c});if(a&&a.length>0){u.allowCredentials=new Array(a.length);for(let d=0;d<a.length;d++){const f=a[d];u.allowCredentials[d]=Object.assign(Object.assign({},f),{id:ui(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function jR(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const a=s;return{id:s.id,rawId:s.id,response:{attestationObject:Za(new Uint8Array(s.response.attestationObject)),clientDataJSON:Za(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(e=a.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function NR(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const a=s,r=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Za(new Uint8Array(c.authenticatorData)),clientDataJSON:Za(new Uint8Array(c.clientDataJSON)),signature:Za(new Uint8Array(c.signature)),userHandle:c.userHandle?Za(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=a.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Bw(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Jb(){var s,e;return!!(hs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function SR(s){try{const e=await navigator.credentials.create(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yc("Browser returned unexpected credential type",e)}:{data:null,error:new Yc("Empty credential response",e)}}catch(e){return{data:null,error:gR({error:e,options:s})}}}async function _R(s){try{const e=await navigator.credentials.get(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yc("Browser returned unexpected credential type",e)}:{data:null,error:new Yc("Empty credential response",e)}}catch(e){return{data:null,error:xR({error:e,options:s})}}}const AR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xc(...s){const e=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),a=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of s)if(c)for(const u in c){const d=c[u];if(d!==void 0)if(Array.isArray(d))r[u]=d;else if(a(d))r[u]=d;else if(e(d)){const f=r[u];e(f)?r[u]=Xc(f,d):r[u]=Xc(d)}else r[u]=d}return r}function ER(s,e){return Xc(AR,s,e||{})}function kR(s,e){return Xc(TR,s,e||{})}class CR{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:a,friendlyName:r,signal:c},u){var d;try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:e,webauthn:a});if(!f)return{data:null,error:p};const g=c??bR.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:x}=f.webauthn.credential_options.publicKey;if(!x.name){const b=r;if(b)x.name=`${x.id}:${b}`;else{const j=(await this.client.getUser()).data.user,w=((d=j?.user_metadata)===null||d===void 0?void 0:d.name)||j?.email||j?.id||"User";x.name=`${x.id}:${w}`}}x.displayName||(x.displayName=x.name)}switch(f.webauthn.type){case"create":{const x=ER(f.webauthn.credential_options.publicKey,u?.create),{data:b,error:v}=await SR({publicKey:x,signal:g});return b?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}case"request":{const x=kR(f.webauthn.credential_options.publicKey,u?.request),{data:b,error:v}=await _R(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:x,signal:g}));return b?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}}}catch(f){return Ae(f)?{data:null,error:f}:{data:null,error:new Xa("Unexpected error in challenge",f)}}}async _verify({challengeId:e,factorId:a,webauthn:r}){return this.client.mfa.verify({factorId:a,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!a)return{data:null,error:new Po("rpId is required for WebAuthn authentication")};try{if(!Jb())return{data:null,error:new Xa("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:e,webauthn:{rpId:a,rpOrigins:r},signal:c},{request:u});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:p.type,rpId:a,rpOrigins:r,credential_response:p.credential_response}})}catch(d){return Ae(d)?{data:null,error:d}:{data:null,error:new Xa("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!a)return{data:null,error:new Po("rpId is required for WebAuthn registration")};try{if(!Jb())return{data:null,error:new Xa("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(x=>{var b;return(b=x.data)===null||b===void 0?void 0:b.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:f};const{data:p,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:a,rpOrigins:r},signal:c},{create:u});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:a,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(d){return Ae(d)?{data:null,error:d}:{data:null,error:new Xa("Unexpected error in register",d)}}}}hR();const RR={url:T4,storageKey:E4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:k4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Zb(s,e,a){return await a()}const Xr={};class Bo{get jwks(){var e,a;return(a=(e=Xr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(e){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,a;return(a=(e=Xr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{cachedAt:e})}constructor(e){var a,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},RR),e);if(this.storageKey=u.storageKey,this.instanceID=(a=Bo.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Bo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&hs()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new cR({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Uw(u.fetch),this.lock=u.lock||Zb,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&hs()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=dR:this.lock=Zb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:zw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wb(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Wb(this.memoryStorage)),hs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(f){this._debug("#broadcastChannel","error",f)}})}this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ow}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let a={},r="none";if(hs()&&(a=q4(window.location.href),this._isImplicitGrantCallback(a)?r="implicit":await this._isPKCECallback(a)&&(r="pkce")),hs()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:u}=await this._getSessionFromURL(a,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),M4(u)){const p=(e=u.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:d,redirectType:f}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return Ae(a)?this._returnResult({error:a}):this._returnResult({error:new Xa("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var a,r,c;try{const u=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(a=e?.options)===null||a===void 0?void 0:a.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=e?.options)===null||c===void 0?void 0:c.captchaToken}},xform:rn}),{data:d,error:f}=u;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(Ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(e){var a,r,c;try{let u;if("email"in e){const{email:x,password:b,options:v}=e;let j=null,w=null;this.flowType==="pkce"&&([j,w]=await Kr(this.storage,this.storageKey)),u=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:x,password:b,data:(a=v?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:j,code_challenge_method:w},xform:rn})}else if("phone"in e){const{phone:x,password:b,options:v}=e;u=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:b,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(c=v?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:rn})}else throw new vc("You must provide either an email or phone number and a password");const{data:d,error:f}=u;if(f||!d)return await ds(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(await ds(this.storage,`${this.storageKey}-code-verifier`),Ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(e){try{let a;if("email"in e){const{email:u,password:d,options:f}=e;a=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Xb})}else if("phone"in e){const{phone:u,password:d,options:f}=e;a=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Xb})}else throw new vc("You must provide either an email or phone number and a password");const{data:r,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const u=new Gr;return this._returnResult({data:{user:null,session:null},error:u})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(a){if(Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(e){var a,r,c,u;return await this._handleProviderSignIn(e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:a}=e;switch(a){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(e){var a,r,c,u,d,f,p,g,x,b,v;let j,w;if("message"in e)j=e.message,w=e.signature;else{const{chain:A,wallet:_,statement:C,options:D}=e;let T;if(hs())if(typeof _=="object")T=_;else{const oe=window;if("ethereum"in oe&&typeof oe.ethereum=="object"&&"request"in oe.ethereum&&typeof oe.ethereum.request=="function")T=oe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const L=new URL((a=D?.url)!==null&&a!==void 0?a:window.location.href),q=await T.request({method:"eth_requestAccounts"}).then(oe=>oe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=Pw(q[0]);let X=(r=D?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!X){const oe=await T.request({method:"eth_chainId"});X=fR(oe)}const ee={domain:L.host,address:H,statement:C,uri:L.href,version:"1",chainId:X,nonce:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(u=D?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(x=D?.signInWithEthereum)===null||x===void 0?void 0:x.resources};j=pR(ee),w=await T.request({method:"personal_sign",params:[mR(j),H]})}try{const{data:A,error:_}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:w},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:rn});if(_)throw _;if(!A||!A.session||!A.user){const C=new Gr;return this._returnResult({data:{user:null,session:null},error:C})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:_})}catch(A){if(Ae(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(e){var a,r,c,u,d,f,p,g,x,b,v,j;let w,A;if("message"in e)w=e.message,A=e.signature;else{const{chain:_,wallet:C,statement:D,options:T}=e;let L;if(hs())if(typeof C=="object")L=C;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))L=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=C}const q=new URL((a=T?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in L&&L.signIn){const H=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),D?{statement:D}:null));let X;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")X=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)X=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)w=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),A=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${q.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(c=(r=T?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=T?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((p=T?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((g=T?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((b=(x=T?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||b===void 0)&&b.length?["Resources",...T.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const H=await L.signMessage(new TextEncoder().encode(w),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=H}}try{const{data:_,error:C}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Za(A)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(j=e.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:rn});if(C)throw C;if(!_||!_.session||!_.user){const D=new Gr;return this._returnResult({data:{user:null,session:null},error:D})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:C})}catch(_){if(Ae(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const a=await Ga(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(a??"").split("/");try{if(!r&&this.flowType==="pkce")throw new z4;const{data:u,error:d}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:rn});if(await ds(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const f=new Gr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:d})}catch(u){if(await ds(this.storage,`${this.storageKey}-code-verifier`),Ae(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(e){try{const{options:a,provider:r,token:c,access_token:u,nonce:d}=e,f=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:rn}),{data:p,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const x=new Gr;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(a){if(Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(e){var a,r,c,u,d;try{if("email"in e){const{email:f,options:p}=e;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Kr(this.storage,this.storageKey));const{error:b}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(r=p?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:f,options:p}=e,{data:g,error:x}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(d=p?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:x})}throw new vc("You must provide either an email or phone number.")}catch(f){if(await ds(this.storage,`${this.storageKey}-code-verifier`),Ae(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var a,r;try{let c,u;"options"in e&&(c=(a=e.options)===null||a===void 0?void 0:a.redirectTo,u=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:f}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:rn});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(Ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(e){var a,r,c,u,d;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Kr(this.storage,this.storageKey));const g=await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(a=e.options)===null||a===void 0?void 0:a.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=e?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:iR});return!((u=g.data)===null||u===void 0)&&u.url&&hs()&&!(!((d=e.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await ds(this.storage,`${this.storageKey}-code-verifier`),Ae(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:a},error:r}=e;if(r)throw r;if(!a)throw new Bs;const{error:c}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(e){if(Ae(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const a=`${this.url}/resend`;if("email"in e){const{email:r,type:c,options:u}=e,{error:d}=await Oe(this.fetch,"POST",a,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in e){const{phone:r,type:c,options:u}=e,{data:d,error:f}=await Oe(this.fetch,"POST",a,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:f})}throw new vc("You must provide either an email or phone number and a type")}catch(a){if(Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(e,a){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await a()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=a();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await e(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const a=await Ga(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?e=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Jh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const d=await Ga(this.userStorage,this.storageKey+"-user");d?.user?e.user=d.user:e.user=tf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};e.user=sR(e.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(e){try{return e?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ya}):await this._useSession(async a=>{var r,c,u;const{data:d,error:f}=a;if(f)throw f;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bs}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:ya})})}catch(a){if(Ae(a))return Zh(a)&&(await this._removeSession(),await ds(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(e,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,a))}async _updateUser(e,a={}){try{return await this._useSession(async r=>{const{data:c,error:u}=r;if(u)throw u;if(!c.session)throw new Bs;const d=c.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=await Kr(this.storage,this.storageKey));const{data:g,error:x}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:ya});if(x)throw x;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(r){if(await ds(this.storage,`${this.storageKey}-code-verifier`),Ae(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Bs;const a=Date.now()/1e3;let r=a,c=!0,u=null;const{payload:d}=jc(e.access_token);if(d.exp&&(r=d.exp,c=r<=a),c){const{data:f,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(e.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});u={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:r-a,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(a){if(Ae(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async a=>{var r;if(!e){const{data:d,error:f}=a;if(f)throw f;e=(r=d.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Bs;const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(e,a){try{if(!hs())throw new wc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new wc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Ib("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wc("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ib("No code detected.");const{data:D,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:u,refresh_token:d,expires_in:f,expires_at:p,token_type:g}=e;if(!u||!f||!d||!g)throw new wc("No session defined in URL");const x=Math.round(Date.now()/1e3),b=parseInt(f);let v=x+b;p&&(v=parseInt(p));const j=v-x;j*1e3<=Jr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${b}s`);const w=v-b;x-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,x):x-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,x);const{data:A,error:_}=await this._getUser(u);if(_)throw _;const C={provider_token:r,provider_refresh_token:c,access_token:u,expires_in:b,expires_at:v,refresh_token:d,token_type:g,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(r){if(Ae(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const a=await Ga(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&a)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async a=>{var r;const{data:c,error:u}=a;if(u&&!Zh(u))return this._returnResult({error:u});const d=(r=c.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:f}=await this.admin.signOut(d,e);if(f&&!(D4(f)&&(f.status===404||f.status===401||f.status===403)||Zh(f)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await ds(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const a=I4(),r={id:a,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async a=>{var r,c;try{const{data:{session:u},error:d}=a;if(d)throw d;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(e))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,a={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await Kr(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(await ds(this.storage,`${this.storageKey}-code-verifier`),Ae(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var e;try{const{data:a,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=a.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(a){if(Ae(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var a;try{const{data:r,error:c}=await this._useSession(async u=>{var d,f,p,g,x;const{data:b,error:v}=u;if(v)throw v;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",j,{headers:this.headers,jwt:(x=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return hs()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(Ae(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async a=>{var r;try{const{error:c,data:{session:u}}=a;if(c)throw c;const{options:d,provider:f,token:p,access_token:g,nonce:x}=e,b=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=u?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:f,id_token:p,access_token:g,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:rn}),{data:v,error:j}=b;return j?this._returnResult({data:{user:null,session:null},error:j}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Gr}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:j}))}catch(c){if(await ds(this.storage,`${this.storageKey}-code-verifier`),Ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(e){try{return await this._useSession(async a=>{var r,c;const{data:u,error:d}=a;if(d)throw d;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(c=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(a){if(Ae(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(e){const a=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{const r=Date.now();return await K4(async c=>(c>0&&await G4(200*Math.pow(2,c-1)),this._debug(a,"refreshing attempt",c),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rn})),(c,u)=>{const d=200*Math.pow(2,c);return u&&ef(u)&&Date.now()+d-r<Jr})}catch(r){if(this._debug(a,"error",r),Ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(a,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,a){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",a,"url",r),hs()&&!a.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,a;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await Ga(this.storage,this.storageKey);if(c&&this.userStorage){let d=await Ga(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await Zr(this.userStorage,this.storageKey+"-user",d)),c.user=(e=d?.user)!==null&&e!==void 0?e:tf()}else if(c&&!c.user&&!c.user){const d=await Ga(this.storage,this.storageKey+"-user");d&&d?.user?(c.user=d.user,await ds(this.storage,this.storageKey+"-user"),await Zr(this.storage,this.storageKey,c)):c.user=tf()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const u=((a=c.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Jh;if(this._debug(r,`session has${u?"":" not"} expired with margin of ${Jh}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),ef(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(c.access_token);!f&&d?.user?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var a,r;if(!e)throw new Bs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new lu;const{data:u,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!u.session)throw new Bs;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(c,"error",u),Ae(u)){const d={data:null,error:u};return ef(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(e,a,r=!0){const c=`#_notifyAllSubscribers(${e})`;this._debug(c,"begin",a,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:a});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,a)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ds(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},e),r=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&a.user&&await Zr(this.userStorage,this.storageKey+"-user",{user:a.user});const c=Object.assign({},a);delete c.user;const u=Fb(c);await Zr(this.storage,this.storageKey,u)}else{const c=Fb(a);await Zr(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ds(this.storage,this.storageKey),await ds(this.storage,this.storageKey+"-code-verifier"),await ds(this.storage,this.storageKey+"-user"),this.userStorage&&await ds(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&hs()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Jr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async a=>{const{data:{session:r}}=a;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-e)/Jr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Jr}ms, refresh threshold is ${Kf} ticks`),c<=Kf&&await this._callRefreshToken(r.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Lw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hs()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const a=`#_onVisibilityChanged(${e})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,a,r){const c=[`provider=${encodeURIComponent(a)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,d]=await Kr(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(f.toString())}if(r?.queryParams){const u=new URLSearchParams(r.queryParams);c.push(u.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${c.join("&")}`}async _unenroll(e){try{return await this._useSession(async a=>{var r;const{data:c,error:u}=a;return u?this._returnResult({data:null,error:u}):await Oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(Ae(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(e){try{return await this._useSession(async a=>{var r,c;const{data:u,error:d}=a;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:g}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(e.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(a){if(Ae(a))return this._returnResult({data:null,error:a});throw a}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var r;const{data:c,error:u}=a;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?jR(e.webauthn.credential_response):NR(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:p}=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(a){if(Ae(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var r;const{data:c,error:u}=a;if(u)return this._returnResult({data:null,error:u});const d=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:vR(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:wR(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(Ae(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(e){const{data:a,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:a.id,code:e.code})}async _listFactors(){var e;const{data:{user:a},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(e=a?.factors)!==null&&e!==void 0?e:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(e){var a,r,c,u;if(e)try{const{payload:j}=jc(e);let w=null;j.aal&&(w=j.aal);let A=w;const{data:{user:_},error:C}=await this.getUser(e);if(C)return this._returnResult({data:null,error:C});((r=(a=_?.factors)===null||a===void 0?void 0:a.filter(L=>L.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(A="aal2");const T=j.amr||[];return{data:{currentLevel:w,nextLevel:A,currentAuthenticationMethods:T},error:null}}catch(j){if(Ae(j))return this._returnResult({data:null,error:j});throw j}const{data:{session:d},error:f}=await this.getSession();if(f)return this._returnResult({data:null,error:f});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=jc(d.access_token);let g=null;p.aal&&(g=p.aal);let x=g;((u=(c=d.user.factors)===null||c===void 0?void 0:c.filter(j=>j.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(x="aal2");const v=p.amr||[];return{data:{currentLevel:g,nextLevel:x,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async a=>{const{data:{session:r},error:c}=a;return c?this._returnResult({data:null,error:c}):r?await Oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Bs})})}catch(a){if(Ae(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(e,a){try{return await this._useSession(async r=>{const{data:{session:c},error:u}=r;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Bs});const d=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&hs()&&!a?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,a){try{return await this._useSession(async r=>{const{data:{session:c},error:u}=r;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Bs});const d=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&hs()&&!a?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:a},error:r}=e;return r?this._returnResult({data:null,error:r}):a?await Oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Bs})})}catch(e){if(Ae(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async a=>{const{data:{session:r},error:c}=a;return c?this._returnResult({data:null,error:c}):r?(await Oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bs})})}catch(a){if(Ae(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(e,a={keys:[]}){let r=a.keys.find(f=>f.kid===e);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(f=>f.kid===e),r&&this.jwks_cached_at+R4>c)return r;const{data:u,error:d}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,r=u.keys.find(f=>f.kid===e),!r)?null:r}async getClaims(e,a={}){try{let r=e;if(!r){const{data:j,error:w}=await this.getSession();if(w||!j.session)return this._returnResult({data:null,error:w});r=j.session.access_token}const{header:c,payload:u,signature:d,raw:{header:f,payload:p}}=jc(r);a?.allowExpired||Z4(u.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!g){const{error:j}=await this.getUser(r);if(j)throw j;return{data:{claims:u,header:c,signature:d},error:null}}const x=eR(c.alg),b=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,b,d,V4(`${f}.${p}`)))throw new Xf("Invalid JWT signature");return{data:{claims:u,header:c,signature:d},error:null}}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}}Bo.nextInstanceID={};const OR=Bo,DR="2.95.3";let xo="";typeof Deno<"u"?xo="deno":typeof document<"u"?xo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xo="react-native":xo="node";const MR={"X-Client-Info":`supabase-js-${xo}/${DR}`},zR={headers:MR},UR={schema:"public"},LR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PR={};function Vo(s){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(s)}function BR(s,e){if(Vo(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,e);if(Vo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function VR(s){var e=BR(s,"string");return Vo(e)=="symbol"?e:e+""}function $R(s,e,a){return(e=VR(e))in s?Object.defineProperty(s,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[e]=a,s}function ev(s,e){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,r)}return a}function Rt(s){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ev(Object(a),!0).forEach(function(r){$R(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):ev(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}const IR=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),qR=()=>Headers,HR=(s,e,a)=>{const r=IR(a),c=qR();return async(u,d)=>{var f;const p=(f=await e())!==null&&f!==void 0?f:s;let g=new c(d?.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),r(u,Rt(Rt({},d),{},{headers:g}))}};function GR(s){return s.endsWith("/")?s:s+"/"}function KR(s,e){var a,r;const{db:c,auth:u,realtime:d,global:f}=s,{db:p,auth:g,realtime:x,global:b}=e,v={db:Rt(Rt({},p),c),auth:Rt(Rt({},g),u),realtime:Rt(Rt({},x),d),storage:{},global:Rt(Rt(Rt({},b),f),{},{headers:Rt(Rt({},(a=b?.headers)!==null&&a!==void 0?a:{}),(r=f?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return s.accessToken?v.accessToken=s.accessToken:delete v.accessToken,v}function FR(s){const e=s?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(GR(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var YR=class extends OR{constructor(s){super(s)}},XR=class{constructor(s,e,a){var r,c;this.supabaseUrl=s,this.supabaseKey=e;const u=FR(s);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:UR,realtime:PR,auth:Rt(Rt({},LR),{},{storageKey:d}),global:zR},p=KR(a??{},f);if(this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=HR(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new D3(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new A4(this.storageUrl.href,this.headers,this.fetch,a?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new _3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,e={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,e,a)}channel(s,e={config:{}}){return this.realtime.channel(s,e)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,e,a;if(s.accessToken)return await s.accessToken();const{data:r}=await s.auth.getSession();return(e=(a=r.session)===null||a===void 0?void 0:a.access_token)!==null&&e!==void 0?e:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:e,detectSessionInUrl:a,storage:r,userStorage:c,storageKey:u,flowType:d,lock:f,debug:p,throwOnError:g},x,b){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YR({url:this.authUrl.href,headers:Rt(Rt({},v),x),storageKey:u,autoRefreshToken:s,persistSession:e,detectSessionInUrl:a,storage:r,userStorage:c,flowType:d,lock:f,debug:p,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new Q3(this.realtimeUrl.href,Rt(Rt({},s),{},{params:Rt(Rt({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,e)=>{this._handleTokenChanged(s,"CLIENT",e?.access_token)})}_handleTokenChanged(s,e,a){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const QR=(s,e,a)=>new XR(s,e,a);function WR(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const e=s.version;if(e==null)return!1;const a=e.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}WR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const JR="https://flatbbqpmpozksfcacfn.supabase.co",ZR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZsYXRiYnFwbXBvemtzZmNhY2ZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEyNDYxNzgsImV4cCI6MjA4NjgyMjE3OH0.qzKi-vBI6kzVtQPUFOUWVMGpqezuqun0cCaNKjkKswY",eO=QR(JR,ZR,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Vw=({user:s,onUpdate:e})=>{const{settings:a}=Rs(),r=a.lang,[c,u]=S.useState(s.name),[d,f]=S.useState(s.email),[p,g]=S.useState(""),[x,b]=S.useState(""),[v,j]=S.useState(""),[w,A]=S.useState(!1),[_,C]=S.useState(null),T={ar:{title:" ",subtitle:"    ",personalInfo:" ",security:"  ",name:" ",email:" ",currentPassword:"  ",newPassword:"  ",confirmPassword:"   ",passwordHint:"       ",saveBtn:" ",saving:" ...",successMsg:"    ",errorMsg:"     ",role:"  ()",passwordMismatch:"     ",currentPasswordRequired:"    ",wrongCurrentPassword:"    "},en:{title:"Account Settings",subtitle:"Manage your personal information and security",personalInfo:"Personal Information",security:"Change Password",name:"Full Name",email:"Email Address",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password",passwordHint:"Leave blank to keep current password",saveBtn:"Save Changes",saving:"Saving...",successMsg:"Account updated successfully",errorMsg:"Failed to update account, try again",role:"Account Role",passwordMismatch:"New password and confirmation do not match",currentPasswordRequired:"Current password is required",wrongCurrentPassword:"Current password is incorrect"}}[r==="ar"?"ar":"en"],L=async H=>{if(H.preventDefault(),A(!0),C(null),x){if(!p){C({text:T.currentPasswordRequired,type:"error"}),A(!1);return}if(x!==v){C({text:T.passwordMismatch,type:"error"}),A(!1);return}}try{const X={name:c,email:d};x&&(X.password=x,X.current_password=p),await Av(s.id,X),e({...s,name:c,email:d}),C({text:T.successMsg,type:"success"}),g(""),b(""),j("")}catch(X){X?.response?.data?.message?.includes("")?C({text:T.wrongCurrentPassword,type:"error"}):C({text:T.errorMsg,type:"error"})}finally{A(!1)}},q="w-full px-4 py-3 bg-muted/50 border border-border rounded-2xl text-foreground focus:border-primary/50 focus:ring-4 focus:ring-primary/5 outline-none transition-all font-cairo";return i.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in",children:[i.jsxs("header",{className:"mb-8",children:[i.jsxs("h2",{className:"text-2xl font-black text-foreground flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-primary/10 flex items-center justify-center",children:i.jsx(dn,{size:20,className:"text-primary"})}),T.title]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:T.subtitle})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card border border-border rounded-3xl p-6 shadow-sm",children:[i.jsxs("h3",{className:"text-sm font-black text-muted-foreground uppercase tracking-widest mb-6 flex items-center gap-2",children:[i.jsx(zv,{size:16})," ",T.personalInfo]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-2 ms-1",children:T.name}),i.jsxs("div",{className:"relative group",children:[i.jsx(dn,{className:"absolute start-4 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within:text-primary transition-colors",size:18}),i.jsx("input",{type:"text",value:c,onChange:H=>u(H.target.value),required:!0,className:q+" ps-12"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-2 ms-1",children:T.email}),i.jsxs("div",{className:"relative group",children:[i.jsx(Eo,{className:"absolute start-4 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within:text-primary transition-colors",size:18}),i.jsx("input",{type:"email",value:d,onChange:H=>f(H.target.value),required:!0,className:q+" ps-12",dir:"ltr"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-2 ms-1",children:T.role}),i.jsx("div",{className:"px-4 py-3 bg-muted/30 border border-border/50 rounded-2xl text-muted-foreground text-sm font-bold uppercase tracking-widest",children:s.role})]})]})]}),i.jsxs(Te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card border border-border rounded-3xl p-6 shadow-sm",children:[i.jsxs("h3",{className:"text-sm font-black text-muted-foreground uppercase tracking-widest mb-6 flex items-center gap-2",children:[i.jsx(gA,{size:16})," ",T.security]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-2 ms-1",children:T.currentPassword}),i.jsx("input",{type:"password",value:p,onChange:H=>g(H.target.value),placeholder:"",className:q})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-2 ms-1",children:T.newPassword}),i.jsx("input",{type:"password",value:x,onChange:H=>b(H.target.value),placeholder:"",className:q})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-2 ms-1",children:T.confirmPassword}),i.jsx("input",{type:"password",value:v,onChange:H=>j(H.target.value),placeholder:"",className:q}),i.jsx("p",{className:"text-[10px] text-muted-foreground mt-2 ms-1",children:T.passwordHint})]})]})]})]}),_&&i.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`p-4 rounded-2xl border flex items-center gap-3 ${_.type==="success"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-600":"bg-rose-500/10 border-rose-500/20 text-rose-600"}`,children:[_.type==="success"?i.jsx(Bt,{size:20}):i.jsx(uf,{size:20}),i.jsx("span",{className:"text-sm font-bold",children:_.text})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{type:"submit",disabled:w,className:"px-8 py-3.5 bg-primary text-primary-foreground rounded-2xl font-black text-sm shadow-xl shadow-primary/20 hover:opacity-90 disabled:opacity-50 transition-all flex items-center gap-2",children:[w?i.jsx(dt,{className:"animate-spin",size:18}):i.jsx(Pc,{size:18}),w?T.saving:T.saveBtn]})})]})]})},tO=[{code:"EGP",label:{ar:" ",en:"Egyptian Pound"},symbol:"."},{code:"SAR",label:{ar:" ",en:"Saudi Riyal"},symbol:"."},{code:"USD",label:{ar:" ",en:"US Dollar"},symbol:"$"},{code:"AED",label:{ar:" ",en:"UAE Dirham"},symbol:"."},{code:"EUR",label:{ar:"",en:"Euro"},symbol:""}],sO=[{code:"20",label:{ar:"",en:"Egypt"}},{code:"966",label:{ar:"  ",en:"Saudi Arabia"}},{code:"971",label:{ar:"",en:"UAE"}},{code:"212",label:{ar:"",en:"Morocco"}},{code:"213",label:{ar:"",en:"Algeria"}},{code:"216",label:{ar:"",en:"Tunisia"}},{code:"218",label:{ar:"",en:"Libya"}},{code:"249",label:{ar:"",en:"Sudan"}},{code:"970",label:{ar:"",en:"Palestine"}},{code:"972",label:{ar:"",en:"Israel"}},{code:"962",label:{ar:"",en:"Jordan"}},{code:"963",label:{ar:"",en:"Syria"}},{code:"961",label:{ar:"",en:"Lebanon"}}],nO={ar:{title:"",subtitle:"     ",profile:" ",studio:" ",system:" ",studioName:" ",studioEmail:"  ",studioAddress:" ",currency:" ",currencyHint:"     ",language:" ",theme:" ",save:" ",success:"   ",phone:" ",adminName:" ",dark:"",light:"",whatsapp:"",waTitle:" ",waSubtitle:"     ",waStart:" ",waStop:"   ",waConnected:" ",waDisconnected:" ",waStarting:" ...",waHint:"     QR .     >   >   >  .",waChangeHint:' :  "   "       QR  .',waDisconnectConfirm:"     .   ",country:"",countryHint:"        ",deductions:" ",aiModels:"  ",deductionMode:" ",perMinute:" ",perHour:" ",perHalfDay:"  ",graceMinutes:"  ()",overtimeMultiplier:"  ",deductionAmount:" "},en:{title:"Settings",subtitle:"Customize studio details, system preferences, and currencies",profile:"Personal Profile",studio:"Studio Settings",system:"System & Currency",studioName:"Studio Name",studioEmail:"Business Email",studioAddress:"Official Address",currency:"Default Currency",currencyHint:"This will be used for all invoices and pricing",language:"System Language",theme:"Appearance",save:"Save Changes",success:"Settings saved successfully",phone:"Phone Number",adminName:"Admin Name",dark:"Dark",light:"Light",whatsapp:"WhatsApp",waTitle:"WhatsApp Connection",waSubtitle:"Connect WhatsApp session to send invoices to customers",waStart:"Start Session",waStop:"Disconnect & Change Account",waConnected:"Connected ",waDisconnected:"Disconnected",waStarting:"Connecting...",waHint:"After starting, a QR code will appear here. Open WhatsApp > Linked Devices > Link a Device > Scan the code.",waChangeHint:'To change account: Click "Disconnect & Change Account" then start a new session and scan QR with the new account.',waDisconnectConfirm:"This will disconnect WhatsApp and delete session data. Continue?",country:"Country",countryHint:"Country code will be automatically added to customer numbers when sending",deductions:"Deductions & Incentives",aiModels:"AI Models",deductionMode:"Deduction Mode",perMinute:"Per Minute",perHour:"Per Hour",perHalfDay:"Per Half Day",graceMinutes:"Grace Period (minutes)",overtimeMultiplier:"Overtime Multiplier",deductionAmount:"Deduction Amount"}},aO=({user:s})=>{const{settings:e,updateSettings:a}=Rs(),r=e.lang,c=nO[r],[u,d]=S.useState("studio"),[f,p]=S.useState(e.currency),[g,x]=S.useState(e.countryCode),[b,v]=S.useState(!1),[j,w]=S.useState(e.studioName),[A,_]=S.useState("Admin Studio"),[C,D]=S.useState("contact@stodio.com");S.useEffect(()=>{w(e.studioName),p(e.currency),x(e.countryCode)},[e]);const[T,L]=S.useState("disconnected"),[q,H]=S.useState(!1),[X,ee]=S.useState(null),oe=async()=>{try{const Fe=(await nm()).data;L(Fe.connected?"connected":Fe.status==="qr"?"qr":Fe.status==="starting"?"starting":"disconnected"),ee(Fe.qrCode||null)}catch{L("disconnected"),ee(null)}};S.useEffect(()=>{oe()},[]),S.useEffect(()=>{if(T==="starting"||T==="qr"){const le=setInterval(oe,3e3);return()=>clearInterval(le)}},[T]);const ue=async()=>{H(!0);try{const Fe=(await d_()).data;L(Fe.status==="qr"?"qr":Fe.connected?"connected":"starting"),ee(Fe.qrCode||null)}catch(le){console.error(le),L("disconnected")}finally{H(!1)}},ge=async()=>{if(window.confirm(c.waDisconnectConfirm)){H(!0);try{await h_(),L("disconnected"),ee(null)}catch(le){console.error(le)}finally{H(!1)}}},Ne=()=>{a({currency:f,studioName:j,lang:e.lang,theme:e.theme,countryCode:g,aiModels:e.aiModels,deductionRules:e.deductionRules}),v(!0),setTimeout(()=>v(!1),3e3)},[Me,we]=S.useState(e.studioName||"STODIO Photography"),[Ue,U]=S.useState("STODIO"),[W,se]=S.useState(null),[pe,ie]=S.useState(""),[E,V]=S.useState(""),[Q,re]=S.useState(""),[G,fe]=S.useState({}),[je,Z]=S.useState(null),[de,Le]=S.useState(null),zt=async(le,Fe,qe,F,He)=>{Z(He||"new"),Le(null);try{const{data:We,error:Tt}=await eO.functions.invoke("test-api-key",{body:{provider:le,apiKey:Fe,endpoint:qe,model:F}});Le(Tt?{success:!1,message:r==="ar"?"  ":"Server connection failed"}:{success:We.success,message:We.success?r==="ar"?"   -  !":" Key valid - connection successful!":r==="ar"?` ${We.message||"  "}`:` ${We.message||"Invalid key"}`})}catch{Le({success:!1,message:r==="ar"?"  ":"Connection error"})}finally{Z(null)}},ts=[{key:"profile",icon:dn,label:c.profile},{key:"studio",icon:f0,label:c.studio},{key:"system",icon:hf,label:c.system},{key:"pwa",icon:Uc,label:r==="ar"?" (PWA)":"App (PWA)"},{key:"deductions",icon:Bn,label:c.deductions},{key:"aiModels",icon:cf,label:c.aiModels},{key:"whatsapp",icon:hi,label:c.whatsapp}],bt="w-full px-3.5 py-2.5 bg-muted border border-border rounded-lg text-foreground text-sm outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/10 transition-all font-cairo";return i.jsxs("div",{className:"animate-fade-in",children:[i.jsxs("header",{className:"mb-7",children:[i.jsx("h1",{className:"text-2xl font-extrabold text-foreground tracking-tight",children:c.title}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:c.subtitle})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_1fr] gap-6 items-start",children:[i.jsx("aside",{className:"bg-card border border-border rounded-xl p-2.5 flex lg:flex-col gap-1 overflow-x-auto",children:ts.map(le=>i.jsxs("button",{onClick:()=>d(le.key),className:`flex items-center gap-2.5 px-3.5 py-2.5 rounded-lg text-sm font-semibold transition-all text-start whitespace-nowrap ${u===le.key?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[i.jsx(le.icon,{size:18}),i.jsx("span",{children:le.label})]},le.key))}),i.jsx("main",{children:i.jsxs(Te.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},className:"bg-card border border-border rounded-2xl overflow-hidden shadow-sm",children:[u==="profile"&&i.jsx("div",{className:"p-7",children:s?i.jsx(Vw,{user:s,onUpdate:()=>{}}):i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2.5 text-primary mb-6",children:[i.jsx(dn,{size:20}),i.jsx("h3",{className:"text-base font-bold text-foreground",children:c.profile})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-2",children:c.adminName}),i.jsx("input",{value:A,onChange:le=>_(le.target.value),className:bt})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-2",children:c.phone}),i.jsxs("div",{className:"flex items-center gap-2.5 bg-muted border border-border rounded-lg px-3.5 h-11 focus-within:border-primary/50 focus-within:ring-2 focus-within:ring-primary/10",children:[i.jsx(Tc,{size:16,className:"text-muted-foreground"}),i.jsx("input",{defaultValue:"+201068694941",className:"flex-1 bg-transparent border-none outline-none text-foreground text-sm font-cairo"})]})]})]})]})}),u==="studio"&&i.jsxs("div",{className:"p-7",children:[i.jsxs("div",{className:"flex items-center gap-2.5 text-primary mb-6",children:[i.jsx(f0,{size:20}),i.jsx("h3",{className:"text-base font-bold text-foreground",children:c.studio})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[i.jsxs("div",{className:"sm:col-span-2",children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-2",children:c.studioName}),i.jsxs("div",{className:"flex items-center gap-2.5 bg-muted border border-border rounded-lg px-3.5 h-11 focus-within:border-primary/50 focus-within:ring-2 focus-within:ring-primary/10",children:[i.jsx(In,{size:16,className:"text-muted-foreground"}),i.jsx("input",{value:j,onChange:le=>w(le.target.value),className:"flex-1 bg-transparent border-none outline-none text-foreground text-sm font-cairo"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-2",children:c.studioEmail}),i.jsxs("div",{className:"flex items-center gap-2.5 bg-muted border border-border rounded-lg px-3.5 h-11 focus-within:border-primary/50 focus-within:ring-2 focus-within:ring-primary/10",children:[i.jsx(Eo,{size:16,className:"text-muted-foreground"}),i.jsx("input",{value:C,onChange:le=>D(le.target.value),className:"flex-1 bg-transparent border-none outline-none text-foreground text-sm font-cairo"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-2",children:c.studioAddress}),i.jsxs("div",{className:"flex items-center gap-2.5 bg-muted border border-border rounded-lg px-3.5 h-11 focus-within:border-primary/50 focus-within:ring-2 focus-within:ring-primary/10",children:[i.jsx(Lc,{size:16,className:"text-muted-foreground"}),i.jsx("input",{defaultValue:"Riyadh, Saudi Arabia",className:"flex-1 bg-transparent border-none outline-none text-foreground text-sm font-cairo"})]})]})]})]}),u==="system"&&i.jsxs("div",{className:"p-7",children:[i.jsxs("div",{className:"flex items-center gap-2.5 text-primary mb-6",children:[i.jsx(vs,{size:20}),i.jsx("h3",{className:"text-base font-bold text-foreground",children:c.system})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-1.5",children:c.currency}),i.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:c.currencyHint}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2.5",children:tO.map(le=>i.jsxs("button",{onClick:()=>p(le.code),className:`flex items-center gap-2.5 px-3.5 py-3 rounded-lg border text-start transition-all ${f===le.code?"border-primary/50 bg-primary/5 text-primary":"border-border bg-muted hover:border-border hover:bg-muted/80 text-foreground"}`,children:[i.jsx("span",{className:"w-9 h-9 rounded-lg bg-card shadow-sm flex items-center justify-center font-extrabold text-xs text-primary",children:le.symbol}),i.jsxs("span",{className:"flex-1 text-sm font-semibold",children:[le.label[r]," (",le.code,")"]}),f===le.code&&i.jsx(Bt,{size:16})]},le.code))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-1.5",children:c.country}),i.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:c.countryHint}),i.jsx("select",{value:g,onChange:le=>x(le.target.value),className:"w-full px-3.5 py-2.5 bg-muted border border-border rounded-lg text-foreground text-sm outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/10 transition-all font-cairo cursor-pointer",children:sO.map(le=>i.jsxs("option",{value:le.code,children:[le.label[r]," (+",le.code,")"]},le.code))})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-2",children:c.language}),i.jsxs("div",{className:"flex items-center gap-2.5 bg-muted border border-border rounded-lg px-3.5 h-11 focus-within:border-primary/50",children:[i.jsx(hf,{size:16,className:"text-muted-foreground"}),i.jsxs("select",{value:e.lang,onChange:le=>a({lang:le.target.value}),className:"flex-1 bg-transparent border-none outline-none text-foreground text-sm font-cairo cursor-pointer",children:[i.jsx("option",{value:"ar",children:" (Arabic)"}),i.jsx("option",{value:"en",children:"English"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-2",children:c.theme}),i.jsxs("div",{className:"flex gap-1 bg-muted p-1 rounded-lg",children:[i.jsxs("button",{onClick:()=>a({theme:"light"}),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-bold transition-all ${e.theme==="light"?"bg-card text-foreground shadow-sm":"text-muted-foreground"}`,children:[i.jsx(Uv,{size:14}),c.light]}),i.jsxs("button",{onClick:()=>a({theme:"dark"}),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-bold transition-all ${e.theme==="dark"?"bg-card text-foreground shadow-sm":"text-muted-foreground"}`,children:[i.jsx(Mv,{size:14}),c.dark]})]})]})]})]})]}),u==="deductions"&&i.jsxs("div",{className:"p-7",children:[i.jsxs("div",{className:"flex items-center gap-2.5 text-primary mb-6",children:[i.jsx(Bn,{size:20}),i.jsx("h3",{className:"text-base font-bold text-foreground",children:c.deductions})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-2",children:c.deductionMode}),i.jsx("div",{className:"flex gap-2",children:["minute","hour","half_day"].map(le=>i.jsx("button",{onClick:()=>a({deductionRules:{...e.deductionRules,mode:le}}),className:`flex-1 px-4 py-3 rounded-xl border text-sm font-bold transition-all ${e.deductionRules.mode===le?"border-primary bg-primary/10 text-primary":"border-border bg-muted text-muted-foreground hover:text-foreground"}`,children:le==="minute"?c.perMinute:le==="hour"?c.perHour:c.perHalfDay},le))})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-2",children:c.graceMinutes}),i.jsx("input",{type:"number",value:e.deductionRules.graceMinutes,onChange:le=>a({deductionRules:{...e.deductionRules,graceMinutes:Number(le.target.value)}}),className:bt}),i.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:r==="ar"?"    ":"Allowed time before deduction starts"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-2",children:c.overtimeMultiplier}),i.jsx("input",{type:"number",step:"0.1",value:e.deductionRules.overtimeMultiplier,onChange:le=>a({deductionRules:{...e.deductionRules,overtimeMultiplier:Number(le.target.value)}}),className:bt}),i.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:r==="ar"?": 1.5 =      ":"e.g. 1.5 = 1.5x pay per OT hour"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 border border-border/50",children:[i.jsxs("label",{className:"block text-[10px] font-bold text-muted-foreground mb-2",children:[c.perMinute," (",e.currency,")"]}),i.jsx("input",{type:"number",step:"0.1",value:e.deductionRules.perMinute,onChange:le=>a({deductionRules:{...e.deductionRules,perMinute:Number(le.target.value)}}),className:bt})]}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 border border-border/50",children:[i.jsxs("label",{className:"block text-[10px] font-bold text-muted-foreground mb-2",children:[c.perHour," (",e.currency,")"]}),i.jsx("input",{type:"number",step:"1",value:e.deductionRules.perHour,onChange:le=>a({deductionRules:{...e.deductionRules,perHour:Number(le.target.value)}}),className:bt})]}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 border border-border/50",children:[i.jsxs("label",{className:"block text-[10px] font-bold text-muted-foreground mb-2",children:[c.perHalfDay," (",e.currency,")"]}),i.jsx("input",{type:"number",step:"1",value:e.deductionRules.perHalfDay,onChange:le=>a({deductionRules:{...e.deductionRules,perHalfDay:Number(le.target.value)}}),className:bt})]})]})]})]}),u==="aiModels"&&(()=>{const le=[{key:"openai",label:"OpenAI",icon:"",color:"emerald",endpoint:"https://api.openai.com/v1/chat/completions",placeholder:"sk-...",models:"GPT-4o, GPT-4, GPT-3.5",guide:{ar:"  platform.openai.com  API Keys  Create new key",en:"Go to platform.openai.com  API Keys  Create new key"}},{key:"google",label:"Google AI",icon:"",color:"blue",endpoint:"https://generativelanguage.googleapis.com/v1beta/chat/completions",placeholder:"AIza...",models:"Gemini Pro, Gemini Flash",guide:{ar:"  aistudio.google.com  Get API Key",en:"Go to aistudio.google.com  Get API Key"}},{key:"anthropic",label:"Anthropic",icon:"",color:"purple",endpoint:"https://api.anthropic.com/v1/messages",placeholder:"sk-ant-...",models:"Claude 3.5, Claude 3",guide:{ar:"  console.anthropic.com  API Keys",en:"Go to console.anthropic.com  API Keys"}},{key:"custom",label:r==="ar"?"":"Custom",icon:"",color:"gray",endpoint:"",placeholder:"key...",models:r==="ar"?"  ":"Any compatible model",guide:{ar:"    API  ",en:"Enter your endpoint URL and API key"}}],Fe=F=>{const He=le.find(tt=>tt.key===F);He&&(se(F),ie(""),V(""),re(He.endpoint))},qe=()=>{if(!E.trim())return;const F=le.find(tt=>tt.key===W),He={id:`model_${Date.now()}`,name:pe||F?.models.split(",")[0].trim()||"",provider:W||"custom",apiKey:E,endpoint:Q||F?.endpoint||"",isActive:!0};a({aiModels:[...e.aiModels,He]}),se(null),ie(""),V(""),re("")};return i.jsxs("div",{className:"p-7",children:[i.jsxs("div",{className:"flex items-center gap-2.5 text-primary mb-2",children:[i.jsx(cf,{size:20}),i.jsx("h3",{className:"text-base font-bold text-foreground",children:c.aiModels})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-6",children:r==="ar"?"            ":"Connect your own AI provider account to use your personal credits instead of the system credits"}),i.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/20 rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-7 h-7 rounded-lg bg-emerald-500/10 flex items-center justify-center",children:i.jsx(Bt,{size:14,className:"text-emerald-600"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-bold text-emerald-600",children:r==="ar"?"  ( )":"Built-in Models (Limited Free)"}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:r==="ar"?"  -   ":"Works automatically - choose preferred model"})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[{name:"google/gemini-3-flash-preview",desc:r==="ar"?" -  ":"Default - Fast & balanced",cost:""},{name:"google/gemini-3-pro-preview",desc:r==="ar"?"  -  ":"Next-gen - Complex reasoning",cost:""},{name:"google/gemini-2.5-pro",desc:r==="ar"?" Gemini -  ":"Strongest Gemini - Big context",cost:""},{name:"google/gemini-2.5-flash",desc:r==="ar"?" -  ":"Balanced - Lower cost",cost:""},{name:"google/gemini-2.5-flash-lite",desc:r==="ar"?" ":"Fastest & cheapest",cost:""},{name:"openai/gpt-5",desc:r==="ar"?" -  ":"Powerful - Excellent reasoning",cost:""},{name:"openai/gpt-5-mini",desc:r==="ar"?" -  ":"Mid-tier - Lower cost",cost:""},{name:"openai/gpt-5-nano",desc:r==="ar"?" ":"Fast & economical",cost:""},{name:"openai/gpt-5.2",desc:r==="ar"?" -  ":"Latest - Enhanced reasoning",cost:""}].map(F=>i.jsxs("button",{onClick:()=>a({selectedLovableModel:F.name}),className:`flex items-center gap-2 rounded-lg px-3 py-2 text-start transition-all ${e.selectedLovableModel===F.name?"bg-emerald-500/10 border-2 border-emerald-500/50 ring-1 ring-emerald-500/20":"bg-background/50 border border-border/50 hover:border-primary/30"}`,children:[i.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${e.selectedLovableModel===F.name?"bg-emerald-500":"bg-muted-foreground/30"}`}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-[11px] font-semibold text-foreground truncate",children:F.name}),i.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[F.desc," ",F.cost]})]}),e.selectedLovableModel===F.name&&i.jsx(Bt,{size:14,className:"text-emerald-500 shrink-0"})]},F.name))})]}),i.jsxs("div",{className:"mb-5",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-bold text-foreground",children:r==="ar"?"   ":" Connect External Account"}),i.jsx("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:r==="ar"?"  API   -   ":"Use your own API key - usage from your balance"})]})}),!W&&i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-5",children:le.map(F=>i.jsxs("button",{onClick:()=>Fe(F.key),className:"flex flex-col items-center gap-2 p-4 rounded-xl border-2 border-dashed border-border hover:border-primary/40 hover:bg-primary/5 transition-all group",children:[i.jsx("span",{className:"text-2xl",children:F.icon}),i.jsx("span",{className:"text-xs font-bold text-foreground group-hover:text-primary",children:F.label}),i.jsx("span",{className:"text-[9px] text-muted-foreground text-center",children:F.models}),i.jsxs("span",{className:"text-[10px] text-primary font-semibold opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1",children:[i.jsx(At,{size:10}),r==="ar"?"":"Connect"]})]},F.key))}),W&&(()=>{const F=le.find(He=>He.key===W);return i.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-primary/5 border-2 border-primary/20 rounded-xl p-5 mb-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:F.icon}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-bold text-foreground",children:r==="ar"?`  ${F.label}`:`Connect ${F.label} Account`}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:F.guide[r]})]})]}),i.jsx("button",{onClick:()=>se(null),className:"w-7 h-7 rounded-lg hover:bg-muted flex items-center justify-center text-muted-foreground",children:i.jsx(Dt,{size:14})})]}),i.jsxs("div",{className:"bg-background/60 rounded-lg p-3 mb-4 border border-border/50",children:[i.jsx("p",{className:"text-[10px] font-bold text-foreground mb-1.5",children:r==="ar"?"    ":" How to get your key?"}),i.jsx("p",{className:"text-[10px] text-muted-foreground leading-relaxed",children:F.guide[r]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-[10px] font-semibold text-foreground mb-1",children:r==="ar"?"  ()":"Model Name (optional)"}),i.jsx("input",{value:pe,onChange:He=>ie(He.target.value),className:bt,placeholder:F.models.split(",")[0].trim()})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-[10px] font-semibold text-foreground mb-1 flex items-center gap-1",children:[i.jsx(pf,{size:10}),r==="ar"?" API *":"API Key *"]}),i.jsx("input",{type:"password",value:E,onChange:He=>V(He.target.value),className:bt,placeholder:F.placeholder})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-[10px] font-semibold text-foreground mb-1",children:r==="ar"?"  (Endpoint)":"Endpoint URL"}),i.jsx("input",{value:Q,onChange:He=>re(He.target.value),className:bt}),i.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:r==="ar"?"   -      endpoint ":"Auto-filled - change only if you have a custom endpoint"})]}),i.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[i.jsxs("button",{onClick:()=>zt(W||"custom",E,Q,pe,"new"),disabled:!E.trim()||je==="new",className:"flex items-center gap-2 px-4 py-2.5 bg-muted border border-border text-foreground rounded-lg text-xs font-bold hover:bg-muted/80 transition-all disabled:opacity-40",children:[je==="new"?i.jsx(dt,{size:14,className:"animate-spin"}):i.jsx(Rh,{size:14}),r==="ar"?" ":"Test Connection"]}),i.jsxs("button",{onClick:qe,disabled:!E.trim(),className:"flex items-center gap-2 px-5 py-2.5 bg-primary text-primary-foreground rounded-lg text-xs font-bold hover:opacity-90 transition-all disabled:opacity-40 disabled:cursor-not-allowed shadow-md shadow-primary/20",children:[i.jsx(Bt,{size:14}),r==="ar"?"  ":"Connect & Activate"]}),i.jsx("button",{onClick:()=>{se(null),Le(null)},className:"px-4 py-2.5 text-xs font-semibold text-muted-foreground hover:text-foreground transition-all",children:r==="ar"?"":"Cancel"})]}),de&&je===null&&i.jsx(Te.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:`mt-3 p-3 rounded-lg border text-xs font-semibold ${de.success?"bg-emerald-500/10 border-emerald-500/30 text-emerald-600":"bg-destructive/10 border-destructive/30 text-destructive"}`,children:de.message})]})]})})()]}),e.aiModels.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-xs font-bold text-foreground mb-3 flex items-center gap-2",children:[i.jsx(bT,{size:14,className:"text-primary"}),r==="ar"?" ":"Connected Accounts",i.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:e.aiModels.length})]}),i.jsx("div",{className:"space-y-3",children:e.aiModels.map(F=>{const He=le.find(tt=>tt.key===F.provider);return i.jsxs("div",{className:`rounded-xl p-4 border transition-all ${F.isActive?"bg-emerald-500/5 border-emerald-500/20":"bg-muted/30 border-border"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("span",{className:"text-lg",children:He?.icon||""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-foreground",children:He?.label||F.provider}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:F.name||He?.models.split(",")[0].trim()})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>{const tt=e.aiModels.map(We=>We.id===F.id?{...We,isActive:!We.isActive}:We);a({aiModels:tt})},className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all ${F.isActive?"bg-emerald-500/10 text-emerald-600 border border-emerald-500/20":"bg-muted text-muted-foreground border border-border"}`,children:F.isActive?r==="ar"?" ":" Active":r==="ar"?"":"Inactive"}),i.jsx("button",{onClick:()=>a({aiModels:e.aiModels.filter(tt=>tt.id!==F.id)}),className:"w-8 h-8 rounded-lg text-destructive/40 hover:text-destructive hover:bg-destructive/10 flex items-center justify-center transition-all",children:i.jsx(es,{size:14})})]})]}),i.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(pf,{size:10}),G[F.id]?F.apiKey:""+F.apiKey.slice(-4)]}),i.jsx("button",{onClick:()=>fe(tt=>({...tt,[F.id]:!tt[F.id]})),className:"text-primary hover:underline flex items-center gap-0.5",children:G[F.id]?i.jsxs(i.Fragment,{children:[i.jsx(df,{size:10}),r==="ar"?"":"Hide"]}):i.jsxs(i.Fragment,{children:[i.jsx(df,{size:10}),r==="ar"?"":"Show"]})}),i.jsx("span",{className:"text-muted-foreground/50",children:"|"}),i.jsxs("button",{onClick:()=>zt(F.provider,F.apiKey,F.endpoint,F.name,F.id),disabled:je===F.id||!F.apiKey,className:"text-primary hover:underline flex items-center gap-1",children:[je===F.id?i.jsx(dt,{size:10,className:"animate-spin"}):i.jsx(Rh,{size:10}),r==="ar"?"":"Test"]}),i.jsx("span",{className:"text-muted-foreground/50",children:"|"}),i.jsx("span",{className:"truncate max-w-[200px]",children:F.endpoint})]}),de&&je===null&&de.message&&i.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},className:`mt-2 p-2 rounded-lg text-[10px] font-semibold ${de.success?"bg-emerald-500/10 text-emerald-600":"bg-destructive/10 text-destructive"}`,children:de.message})]},F.id)})})]}),e.aiModels.length===0&&!W&&i.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed border-border/50 rounded-xl",children:[i.jsx("div",{className:"text-3xl mb-2",children:""}),i.jsx("p",{className:"text-sm font-semibold",children:r==="ar"?"     ":"No external account connected yet"}),i.jsx("p",{className:"text-[11px] text-muted-foreground mt-1",children:r==="ar"?"      ":"Choose a provider above to connect your personal account"})]})]})})(),u==="pwa"&&i.jsxs("div",{className:"p-7",children:[i.jsxs("div",{className:"flex items-center gap-2.5 text-primary mb-6",children:[i.jsx(Uc,{size:20}),i.jsx("h3",{className:"text-base font-bold text-foreground",children:r==="ar"?"  (PWA)":"App Settings (PWA)"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-6",children:r==="ar"?"             ":"Control the app name and icon shown when installed on mobile or desktop"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-2",children:r==="ar"?"  ":"Full App Name"}),i.jsx("input",{value:Me,onChange:le=>we(le.target.value),className:bt,placeholder:"STODIO Photography"}),i.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:r==="ar"?"     ":"Shown on splash screen and app list"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-2",children:r==="ar"?" ":"Short Name"}),i.jsx("input",{value:Ue,onChange:le=>U(le.target.value),className:bt,placeholder:"STODIO"}),i.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:r==="ar"?"     ":"Shown under the icon on home screen"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-2",children:r==="ar"?" ":"App Icon"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"w-20 h-20 rounded-2xl bg-muted border-2 border-dashed border-border flex items-center justify-center overflow-hidden relative group cursor-pointer",onClick:()=>document.getElementById("pwa-icon-upload")?.click(),children:[i.jsx("img",{src:localStorage.getItem("pwa-custom-icon")||"/pwa-icon-192.png",alt:"App Icon",className:"w-full h-full object-cover rounded-2xl"}),i.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-2xl flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(In,{size:24,className:"text-white"})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("input",{id:"pwa-icon-upload",type:"file",accept:"image/*",className:"hidden",onChange:le=>{const Fe=le.target.files?.[0];if(!Fe)return;const qe=new FileReader;qe.onload=F=>{const He=new window.Image;He.onload=()=>{[192,512].forEach(We=>{const Tt=document.createElement("canvas");Tt.width=We,Tt.height=We,Tt.getContext("2d").drawImage(He,0,0,We,We);const ys=Tt.toDataURL("image/png");localStorage.setItem(We===192?"pwa-custom-icon":"pwa-custom-icon-512",ys)});const tt=document.querySelector("link[rel~='icon']");tt&&(tt.href=localStorage.getItem("pwa-custom-icon")),we(We=>We),v(!0),setTimeout(()=>v(!1),3e3)},He.src=F.target?.result},qe.readAsDataURL(Fe)}}),i.jsxs("button",{onClick:()=>document.getElementById("pwa-icon-upload")?.click(),className:"flex items-center gap-2 px-4 py-2.5 bg-primary/10 text-primary rounded-xl text-sm font-bold hover:bg-primary/20 transition-all mb-2",children:[i.jsx(In,{size:16}),r==="ar"?"  ":"Upload New Icon"]}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:r==="ar"?"    512512   ":"Square image, 512512px or larger recommended"}),localStorage.getItem("pwa-custom-icon")&&i.jsx("button",{onClick:()=>{localStorage.removeItem("pwa-custom-icon"),localStorage.removeItem("pwa-custom-icon-512"),we(le=>le)},className:"text-[10px] text-destructive hover:underline mt-1",children:r==="ar"?"  ":"Remove custom icon"})]})]})]})]})]}),u==="whatsapp"&&i.jsxs("div",{className:"p-7",children:[i.jsxs("div",{className:"flex items-center gap-2.5 text-green-600 mb-2",children:[i.jsx(hi,{size:20}),i.jsx("h3",{className:"text-base font-bold text-foreground",children:c.waTitle})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:c.waSubtitle}),i.jsxs("div",{className:"bg-muted rounded-xl p-5 border border-border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[T==="connected"?i.jsx(Rh,{size:20,className:"text-green-500"}):T==="qr"?i.jsx(Tc,{size:20,className:"text-amber-500 animate-pulse"}):i.jsx(pT,{size:20,className:"text-muted-foreground"}),i.jsx("span",{className:`text-sm font-bold ${T==="connected"?"text-green-500":T==="starting"||T==="qr"?"text-amber-500":"text-muted-foreground"}`,children:T==="connected"?c.waConnected:T==="qr"?r==="ar"?"  QR  ":"Scan QR from WhatsApp":T==="starting"?c.waStarting:c.waDisconnected})]}),T==="connected"?i.jsxs("button",{onClick:ge,disabled:q,className:"px-4 py-2 bg-destructive/10 text-destructive rounded-lg text-sm font-semibold hover:bg-destructive/20 transition-all disabled:opacity-50 flex items-center gap-2",children:[q&&i.jsx(dt,{size:14,className:"animate-spin"}),i.jsx(kh,{size:14}),c.waStop]}):i.jsxs("button",{onClick:ue,disabled:q||T==="starting",className:"px-4 py-2 bg-green-500 text-white rounded-lg text-sm font-semibold hover:bg-green-600 transition-all disabled:opacity-50 flex items-center gap-2",children:[q||T==="starting"?i.jsx(dt,{size:14,className:"animate-spin"}):i.jsx(kh,{size:14}),q||T==="starting"?c.waStarting:c.waStart]})]}),X&&i.jsxs("div",{className:"flex flex-col items-center gap-4 my-6 p-6 bg-white rounded-xl border-4 border-emerald-500/10 shadow-xl animate-in fade-in zoom-in duration-300",children:[i.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm border border-gray-100",children:i.jsx("img",{src:X,alt:"Scan WhatsApp QR Code",className:"w-[240px] h-[240px] object-contain rounded-lg",onError:le=>{le.target.style.display="none";const Fe=le.target.parentElement;if(Fe){const qe=document.createElement("div");qe.className="w-[240px] h-[240px] flex items-center justify-center bg-muted text-muted-foreground text-xs",qe.textContent="QR Load Error",Fe.appendChild(qe)}}})}),i.jsxs("div",{className:"text-center space-y-1.5",children:[i.jsx("p",{className:"text-base font-bold text-gray-800",children:r==="ar"?"   ":"Open WhatsApp on your phone"}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500 font-medium bg-gray-50 px-3 py-1.5 rounded-full",children:[i.jsx("span",{children:r==="ar"?"":"Menu"}),i.jsx("span",{children:""}),i.jsx("span",{children:r==="ar"?" ":"Linked Devices"}),i.jsx("span",{children:""}),i.jsx("span",{children:r==="ar"?" ":"Link a Device"})]})]})]}),T==="starting"&&!X&&i.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 my-8 p-10 bg-muted/30 rounded-xl border border-dashed border-border/60",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full blur-xl animate-pulse"}),i.jsx(dt,{size:40,className:"relative z-10 animate-spin text-emerald-600"})]}),i.jsxs("div",{className:"text-center space-y-1",children:[i.jsx("p",{className:"text-sm font-bold text-foreground",children:r==="ar"?"  ...":"Preparing session..."}),i.jsx("p",{className:"text-xs text-muted-foreground",children:r==="ar"?"   ":"Please wait a few seconds"})]})]}),T==="disconnected"&&!X&&i.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 my-8 py-10 text-muted-foreground opacity-60",children:[i.jsx(Tc,{size:48,strokeWidth:1.5}),i.jsx("p",{className:"text-sm font-medium",children:r==="ar"?' " "  ':'Click "Start Session" to connect account'})]}),i.jsx("p",{className:"text-xs text-muted-foreground bg-card p-3 rounded-lg border border-border mt-6",children:c.waHint}),i.jsxs("p",{className:"text-xs text-amber-600 bg-amber-500/5 p-3 rounded-lg border border-amber-500/20 mt-2 flex items-start gap-2",children:[i.jsx(kh,{size:14,className:"shrink-0 mt-0.5"}),c.waChangeHint]})]})]}),i.jsx("div",{className:"flex justify-end px-7 py-4 border-t border-border bg-muted/30",children:i.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 px-6 py-2.5 bg-primary text-primary-foreground rounded-lg font-bold text-sm hover:opacity-90 transition-all shadow-md shadow-primary/20",children:[i.jsx(Pc,{size:18})," ",c.save]})})]},u)})]}),b&&i.jsxs(Te.div,{className:"fixed bottom-7 left-1/2 -translate-x-1/2 bg-gradient-to-r from-emerald-500 to-green-500 text-white px-5 py-3 rounded-full flex items-center gap-2 text-sm font-bold shadow-xl z-[3000]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[i.jsx(Bt,{size:18})," ",c.success]})]})},rO=()=>{const{settings:s}=Rs(),e=s.lang,a={title:e==="ar"?" ":"Customer Management",subtitle:e==="ar"?"    ":"Studio customer database",addBtn:e==="ar"?" ":"Add Customer",search:e==="ar"?"   ...":"Search by name or phone...",name:e==="ar"?" ":"Customer Name",phone:e==="ar"?" ":"Phone Number",email:e==="ar"?" ":"Email",address:e==="ar"?"":"Address",actions:e==="ar"?"":"Actions",date:e==="ar"?" ":"Join Date",save:e==="ar"?"":"Save",cancel:e==="ar"?"":"Cancel",empty:e==="ar"?"   ":"No customers found",loading:e==="ar"?" ...":"Loading...",confirmDelete:e==="ar"?"      ":"Delete this customer?",editCustomer:e==="ar"?" ":"Edit Customer",addCustomer:e==="ar"?"  ":"Add New Customer",totalCustomers:e==="ar"?" ":"Total Customers",thisMonth:e==="ar"?" ":"This Month",thisWeek:e==="ar"?" ":"This Week",duplicateWarning:e==="ar"?"   :":"Similar existing customers:"},[r,c]=S.useState([]),[u,d]=S.useState(!0),[f,p]=S.useState(""),[g,x]=S.useState(!1),[b,v]=S.useState(null),[j,w]=S.useState(""),[A,_]=S.useState(""),[C,D]=S.useState(""),[T,L]=S.useState(""),[q,H]=S.useState(!1),[X,ee]=S.useState(!1),[oe,ue]=S.useState(""),[ge,Ne]=S.useState("success"),Me=(G,fe="success")=>{ue(G),Ne(fe),ee(!0),setTimeout(()=>ee(!1),3500)},we=async()=>{d(!0);try{const G=await sm();c(G.data)}catch(G){console.error(G)}finally{d(!1)}};S.useEffect(()=>{we()},[]);const Ue=r.filter(G=>G.name.toLowerCase().includes(f.toLowerCase())||G.phone.includes(f)),U=new Date,W=r.filter(G=>{const fe=new Date(G.created_at);return fe.getMonth()===U.getMonth()&&fe.getFullYear()===U.getFullYear()}).length,se=r.filter(G=>{const fe=new Date(G.created_at);return(U.getTime()-fe.getTime())/(1e3*60*60*24)<=7}).length,pe=()=>{v(null),w(""),_(""),D(""),L(""),x(!0)},ie=G=>{v(G),w(G.name),_(G.phone),D(G.email||""),L(G.address||""),x(!0)},E=async()=>{if(!(!j||!A)){H(!0);try{if(b)await Q2(b.id,{name:j,phone:A,email:C,address:T}),Me(e==="ar"?"   ":"Customer updated");else{const G=A.replace(/[^0-9]/g,""),fe=G.startsWith(s.countryCode)?G:s.countryCode+G;await Ev({name:j,phone:fe,email:C,address:T}),Me(e==="ar"?"   ":"Customer added")}x(!1),we()}catch(G){console.error(G),Me(e==="ar"?" ":"Error occurred","error")}finally{H(!1)}}},V=async G=>{if(window.confirm(a.confirmDelete))try{await W2(G),we(),Me(e==="ar"?"  ":"Customer deleted")}catch(fe){console.error(fe)}},Q=!b&&A.length>=3?r.filter(G=>{const fe=A.replace(/[^0-9]/g,"");return G.phone.includes(fe)||G.name.toLowerCase().includes(A.toLowerCase())}).slice(0,3):[],re="w-full px-3.5 py-2.5 bg-muted border border-border rounded-xl text-foreground text-sm outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/10 transition-all font-cairo";return i.jsxs("div",{className:"animate-fade-in",children:[i.jsx("header",{className:"mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-black text-foreground flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:i.jsx(ei,{size:20,className:"text-primary"})}),a.title]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1 ms-[52px]",children:a.subtitle})]}),i.jsxs("button",{onClick:pe,className:"flex items-center gap-2 px-5 py-2.5 bg-primary text-primary-foreground rounded-xl font-bold text-sm hover:opacity-90 transition-all shadow-lg shadow-primary/20",children:[i.jsx(Lv,{size:18})," ",a.addBtn]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-5",children:[i.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(ei,{size:16,className:"text-primary"})}),i.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase",children:a.totalCustomers})]}),i.jsx("span",{className:"text-2xl font-black text-foreground font-mono",children:r.length})]}),i.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/10 flex items-center justify-center",children:i.jsx(rT,{size:16,className:"text-emerald-500"})}),i.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase",children:a.thisMonth})]}),i.jsx("span",{className:"text-2xl font-black text-foreground font-mono",children:W})]}),i.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-500/10 flex items-center justify-center",children:i.jsx($n,{size:16,className:"text-amber-500"})}),i.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase",children:a.thisWeek})]}),i.jsx("span",{className:"text-2xl font-black text-foreground font-mono",children:se})]})]}),i.jsx("div",{className:"mb-5",children:i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(qn,{size:16,className:"absolute start-3.5 top-1/2 -translate-y-1/2 text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:a.search,value:f,onChange:G=>p(G.target.value),className:`${re} ps-10`})]})}),i.jsx("div",{className:"hidden md:block bg-card border border-border rounded-2xl shadow-sm overflow-hidden",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-muted/50 border-b border-border",children:[i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:a.name}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:a.phone}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider hidden lg:table-cell",children:a.email}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider hidden lg:table-cell",children:a.date}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:a.actions})]})}),i.jsx("tbody",{className:"divide-y divide-border",children:u?i.jsx("tr",{children:i.jsxs("td",{colSpan:5,className:"text-center py-16",children:[i.jsx(dt,{className:"animate-spin mx-auto text-primary",size:28}),i.jsx("p",{className:"text-muted-foreground text-sm mt-3",children:a.loading})]})}):Ue.length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:5,className:"text-center py-16 text-muted-foreground",children:[i.jsx(ei,{size:32,className:"mx-auto mb-3 opacity-30"}),i.jsx("p",{children:a.empty})]})}):Ue.map(G=>i.jsxs("tr",{className:"hover:bg-muted/30 transition-colors group",children:[i.jsx("td",{className:"px-5 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-primary to-primary/60 text-primary-foreground flex items-center justify-center text-sm font-black shrink-0",children:G.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-bold text-foreground block",children:G.name}),G.address&&i.jsxs("span",{className:"text-[10px] text-muted-foreground flex items-center gap-1",children:[i.jsx(Lc,{size:9}),G.address]})]})]})}),i.jsx("td",{className:"px-5 py-4",children:i.jsxs("span",{className:"text-sm text-muted-foreground font-mono flex items-center gap-1.5",children:[i.jsx(c0,{size:12}),G.phone]})}),i.jsx("td",{className:"px-5 py-4 hidden lg:table-cell",children:G.email?i.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1.5",children:[i.jsx(Eo,{size:12}),G.email]}):i.jsx("span",{className:"text-muted-foreground/40",children:"-"})}),i.jsx("td",{className:"px-5 py-4 hidden lg:table-cell",children:i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(G.created_at).toLocaleDateString(e==="ar"?"ar-EG":"en-US")})}),i.jsx("td",{className:"px-5 py-4",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("button",{onClick:()=>ie(G),className:"p-2 rounded-lg text-muted-foreground hover:text-amber-500 hover:bg-amber-500/10 transition-all",children:i.jsx(nr,{size:16})}),i.jsx("button",{onClick:()=>V(G.id),className:"p-2 rounded-lg text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-all",children:i.jsx(es,{size:16})})]})})]},G.id))})]})}),i.jsx("div",{className:"md:hidden space-y-3",children:u?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] gap-3",children:[i.jsx(dt,{className:"animate-spin text-primary",size:28}),i.jsx("p",{className:"text-muted-foreground text-sm",children:a.loading})]}):Ue.length===0?i.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[i.jsx(ei,{size:32,className:"mx-auto mb-3 opacity-30"}),i.jsx("p",{children:a.empty})]}):Ue.map(G=>i.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-card border border-border rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-primary to-primary/60 text-primary-foreground flex items-center justify-center text-sm font-black shrink-0",children:G.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-bold text-sm text-foreground truncate",children:G.name}),i.jsxs("p",{className:"text-xs text-muted-foreground font-mono flex items-center gap-1 mt-0.5",dir:"ltr",children:[i.jsx(c0,{size:10}),G.phone]}),G.email&&i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5 truncate",children:[i.jsx(Eo,{size:10}),G.email]}),G.address&&i.jsxs("p",{className:"text-[10px] text-muted-foreground flex items-center gap-1 mt-0.5",children:[i.jsx(Lc,{size:9}),G.address]})]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 border-t border-border pt-3 mt-3",children:[i.jsxs("span",{className:"flex-1 text-[10px] text-muted-foreground flex items-center gap-1",children:[i.jsx($n,{size:10}),new Date(G.created_at).toLocaleDateString(e==="ar"?"ar-EG":"en-US")]}),i.jsx("button",{onClick:()=>ie(G),className:"p-2 rounded-lg border border-border text-muted-foreground hover:text-amber-500 hover:bg-amber-500/10 transition-all",children:i.jsx(nr,{size:15})}),i.jsx("button",{onClick:()=>V(G.id),className:"p-2 rounded-lg border border-border text-destructive/60 hover:text-destructive hover:bg-destructive/10 transition-all",children:i.jsx(es,{size:15})})]})]},G.id))}),i.jsx(Vt,{children:g&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[2100] flex items-center justify-center p-5",onClick:()=>x(!1),children:i.jsxs(Te.div,{className:"bg-card border border-border rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:G=>G.stopPropagation(),children:[i.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-border",children:[i.jsx("h3",{className:"font-bold text-foreground",children:b?a.editCustomer:a.addCustomer}),i.jsx("button",{onClick:()=>x(!1),className:"text-muted-foreground hover:text-foreground p-1 rounded-lg hover:bg-muted transition-all",children:i.jsx(Dt,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-bold text-muted-foreground mb-1.5",children:[a.name," *"]}),i.jsx("input",{value:j,onChange:G=>w(G.target.value),className:re,placeholder:e==="ar"?" ...":"Customer name..."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-bold text-muted-foreground mb-1.5",children:[a.phone," *"]}),i.jsx("input",{value:A,onChange:G=>_(G.target.value),className:re,dir:"ltr",placeholder:"01xxxxxxxxx"}),Q.length>0&&i.jsxs("div",{className:"mt-2 bg-amber-500/10 border border-amber-500/20 rounded-xl p-3",children:[i.jsxs("p",{className:"text-xs font-bold text-amber-600 mb-2 flex items-center gap-1.5",children:[i.jsx(qn,{size:12}),a.duplicateWarning]}),i.jsx("div",{className:"space-y-1.5",children:Q.map(G=>i.jsxs("div",{className:"flex justify-between items-center px-3 py-2 bg-card rounded-lg border border-border",children:[i.jsx("span",{className:"text-sm font-bold text-foreground",children:G.name}),i.jsx("span",{className:"text-xs text-muted-foreground font-mono",dir:"ltr",children:G.phone})]},G.id))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-1.5",children:a.email}),i.jsx("input",{value:C,onChange:G=>D(G.target.value),className:re,type:"email",placeholder:"email@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-1.5",children:a.address}),i.jsx("textarea",{value:T,onChange:G=>L(G.target.value),className:`${re} min-h-[60px] resize-y`,placeholder:e==="ar"?"...":"Address..."})]})]}),i.jsxs("div",{className:"flex justify-end gap-2.5 px-6 py-4 border-t border-border bg-muted/30",children:[i.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2.5 border border-border rounded-xl text-sm font-bold text-muted-foreground hover:bg-muted transition-all",children:a.cancel}),i.jsxs("button",{onClick:E,disabled:!j||!A||q,className:"px-5 py-2.5 bg-primary text-primary-foreground rounded-xl text-sm font-bold hover:opacity-90 disabled:opacity-50 flex items-center gap-2 transition-all",children:[q?i.jsx(dt,{className:"animate-spin",size:16}):i.jsx(Bt,{size:16}),a.save]})]})]})})}),i.jsx(Vt,{children:X&&i.jsxs(Te.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:`fixed bottom-6 left-1/2 -translate-x-1/2 px-6 py-3.5 rounded-2xl text-white font-bold text-sm shadow-2xl z-[5000] flex items-center gap-2.5 ${ge==="success"?"bg-emerald-600":"bg-destructive"}`,children:[ge==="success"?i.jsx(Bt,{size:18}):i.jsx(Dt,{size:18}),oe]})})]})},tv={ar:{title:" ",createTab:" ",listTab:" ",selectCustomer:" ",selectPackages:" ",multiplePackagesHint:"    ",participants:" ()",participantsHint:"   ...",invoiceSummary:" ",noItems:"    ",total:"",paid:"",remaining:"",createBtn:" ",customerName:" ",customerPhone:" ",invoiceNo:" ",amount:"",status:"",date:"",time:"",searchCustomer:"  ...",paid_label:"",pending:"",partial:"",actions:"",createdBy:"",print:"",deleteConfirm:"      ",close:"",studioName:" ",editInvoice:" ",saveChanges:" ",search:"...",noInvoices:"   ",addCustomer:"  ",inStock:"",outOfStock:"",quantity:"",unitPrice:" ",subtotal:" ",items:"",todayReport:" ",totalSales:" ",totalCollected:" ",totalUnpaid:" ",invoicesCount:" "},en:{title:"Invoicing System",createTab:"Create Invoice",listTab:"Invoice History",selectCustomer:"Customer Info",selectPackages:"Select Products",multiplePackagesHint:"You can add multiple products",participants:"Participants (Optional)",participantsHint:"Enter names of participants...",invoiceSummary:"Invoice Summary",noItems:"No products selected",total:"Total",paid:"Paid",remaining:"Remaining",createBtn:"Issue Invoice",customerName:"Customer Name",customerPhone:"Phone Number",invoiceNo:"Invoice No",amount:"Amount",status:"Status",date:"Date",time:"Time",searchCustomer:"Search customer...",paid_label:"Paid",pending:"Pending",partial:"Partial",actions:"Actions",createdBy:"Manager",print:"Print",deleteConfirm:"Are you sure you want to delete this invoice?",close:"Close",studioName:"Photography Studio",editInvoice:"Edit Invoice",saveChanges:"Save Changes",search:"Search...",noInvoices:"No invoices found",addCustomer:"Add new customer",inStock:"In Stock",outOfStock:"Out",quantity:"Quantity",unitPrice:"Unit Price",subtotal:"Subtotal",items:"items",todayReport:`  (${new Date().toLocaleDateString("ar-EG")})`,totalSales:"Total Sales",totalCollected:"Total Collected",totalUnpaid:"Total Unpaid",invoicesCount:"Invoices Count"}},iO=({user:s})=>{const{settings:e}=Rs(),a=e.lang,r=tv[a]||tv.en,[c,u]=S.useState("create"),[d,f]=S.useState([]),[p,g]=S.useState([]),[x,b]=S.useState([]),[v,j]=S.useState([]),[w,A]=S.useState(""),[_,C]=S.useState([]),[D,T]=S.useState(""),[L,q]=S.useState("0"),[H,X]=S.useState(!1),[ee,oe]=S.useState(!1),[ue,ge]=S.useState(""),[Ne,Me]=S.useState(""),[we,Ue]=S.useState(!1),[U,W]=S.useState(!1),[se,pe]=S.useState(null),[ie,E]=S.useState([]),[V,Q]=S.useState(null),[re,G]=S.useState("0"),[fe,je]=S.useState(""),[Z,de]=S.useState(!1),[Le,zt]=S.useState(""),[ts,bt]=S.useState("success"),[le,Fe]=S.useState(""),qe=(R,he="success")=>{zt(R),bt(he),de(!0),setTimeout(()=>de(!1),4e3)},F=async()=>{try{const[R,he,xe,Se]=await Promise.all([sm(),am(),J2(),Tv()]);f(R.data),g(he.data.filter(Pe=>Pe.sell_price>0&&Number(Pe.is_sellable)===1&&Pe.usage_type==="studio")),b(Se.data),j(xe.data)}catch(R){console.error("Fetch error:",R)}};S.useEffect(()=>{F()},[]);const He=R=>{R.quantity<=0||C(he=>[...he,{tempId:Date.now()+Math.random(),id:R.id,inventory_item_id:R.id,type:R.item_name,price:parseFloat(String(R.sell_price))||0,quantity:2,is_package:!1}])},tt=R=>{const he=R.sizes&&R.sizes.length>0?R.sizes[0]:"";C(xe=>[...xe,{tempId:Date.now()+Math.random(),id:R.id,inventory_item_id:0,type:R.type,price:R.price,quantity:2,is_package:!0,package_id:R.id,size:he,availableSizes:R.sizes}])},We=R=>C(he=>he.filter(xe=>xe.tempId!==R)),Tt=(R,he)=>{if(he<2)return;const xe=he%2===0?he:he+1;C(Se=>Se.map(Pe=>Pe.tempId===R?{...Pe,quantity:xe}:Pe))},as=(R,he,xe)=>{C(Se=>{let Pe=-1;for(let ht=Se.length-1;ht>=0;ht--){const Nt=Se[ht];if(he?Nt.package_id===R:Nt.inventory_item_id===R){Pe=ht;break}}if(Pe===-1)return Se;const vt=[...Se],nt=(vt[Pe].quantity||2)+xe;return nt<2?vt.splice(Pe,1):vt[Pe]={...vt[Pe],quantity:nt},vt})},ys=_.reduce((R,he)=>R+he.price*he.quantity,0),ae=Math.max(0,ys-(parseFloat(L)||0)),$t=s?.name||"Admin",ms=(()=>{const R=new Date().toDateString(),he=v.filter(xe=>xe.created_at?new Date(xe.created_at).toDateString()===R:!1);return{count:he.length,total:he.reduce((xe,Se)=>xe+Number(Se.total_amount),0),paid:he.reduce((xe,Se)=>xe+Number(Se.paid_amount),0),remaining:he.reduce((xe,Se)=>xe+Number(Se.remaining_amount),0)}})(),mt=async R=>{try{if(!(await nm()).data.connected){qe(a==="ar"?"   ":"WhatsApp is not connected","error");return}const Se=(await Th(R.id))?.data||{},Pe=Array.isArray(Se.items)?Se.items:Array.isArray(Se)?Se:[],vt=new Map;Pe.forEach(Nt=>{const pt=parseFloat(Nt.item_price||Nt.price||0),Ut=Nt.package_name||"Service",ot=`${Ut}-${pt}`;if(vt.has(ot)){const _a=vt.get(ot);_a.quantity+=1,_a.total+=pt}else vt.set(ot,{name:Ut,quantity:1,total:pt})});const nt=Array.from(vt.values()).map(Nt=>`- ${Nt.name} (x${Nt.quantity}): ${Nt.total.toFixed(2)} ${e.currency}`).join(`
`);let ht=`*${e.studioName||"Studio"}*
`;e.address&&(ht+=`${e.address}
`),e.phone&&(ht+=`${e.phone}
`),ht+=`
 *${r.invoiceNo||"Invoice"}: ${R.invoice_no}*`,ht+=`
 *${r.customerName||"Customer"}:* ${R.customer_name}`,R.participants&&(ht+=`
 *${r.participants||"Participants"}:* ${R.participants}`),ht+=`

${nt}
`,ht+=`
 *${r.total||"Total"}:* ${R.total_amount} ${e.currency}`,ht+=`
 *${r.paid||"Paid"}:* ${R.paid_amount} ${e.currency}`,ht+=`
 *${r.remaining||"Remaining"}:* ${R.remaining_amount} ${e.currency}`,await Rv({phone:R.customer_phone,message:ht}),qe(a==="ar"?"     ":" Invoice sent via WhatsApp")}catch(he){console.error("WhatsApp Error:",he),qe(a==="ar"?"  ":"Failed to send invoice","error")}},Yt=async()=>{if(!(!w||_.length===0)){if((parseFloat(L)||0)<=0){qe(a==="ar"?"     ":"Paid amount is required to complete the transaction","error");return}X(!0);try{const R=_.flatMap(nt=>{const ht=[];for(let Nt=0;Nt<nt.quantity;Nt++)ht.push({id:nt.id,inventory_item_id:nt.inventory_item_id,type:nt.size?`${nt.type} (${nt.size})`:nt.type,price:nt.price,is_package:nt.is_package,package_id:nt.package_id,quantity:1});return ht}),he={customer_id:Number(w),items:R,total_amount:ys,paid_amount:parseFloat(L)||0,participants:D||"",created_by:s?.name||"Admin"};console.log("Sending invoice data:",he);const xe=await Z2(he);await F(),await F();const Pe=(await Th(xe.data.id)).data,vt={id:xe.data.id,invoice_no:xe.data.invoice_no||`INV-${xe.data.id}`,customer_name:Pe.customer_name||"Customer",customer_phone:Pe.customer?.phone||"",total_amount:Pe.total_amount,paid_amount:Pe.paid_amount,remaining_amount:Pe.remaining_amount,participants:Pe.participants};qe(a==="ar"?"    ...":"Sending WhatsApp..."),await mt(vt),A(""),C([]),T(""),q("0"),u("create"),Xt(xe.data.id),qe(a==="ar"?"    ":" Invoice created successfully")}catch(R){console.error("Create error:",R),console.error("Error response:",R.response?.data);const he=R.response?.data?.message||R.message||"Unknown error";qe(a==="ar"?`  : ${he}`:`Failed to create invoice: ${he}`,"error")}finally{X(!1)}}},Xt=async R=>{try{const he=v.find(nt=>nt.id===R);if(!he)return;const Se=(await Th(R)).data,Pe=Array.isArray(Se.items)?Se.items:Array.isArray(Se)?Se:[],vt=new Map;Pe.forEach(nt=>{const ht=parseFloat(nt.item_price||nt.price||0),Nt=nt.package_name||"Service",pt=`${Nt}-${ht}`;if(vt.has(pt)){const Ut=vt.get(pt);Ut.quantity+=1,Ut.total+=ht}else vt.set(pt,{package_name:Nt,item_price:ht,quantity:1,total:ht})}),pe(he),E(Array.from(vt.values())),W(!0)}catch(he){console.error(he)}},Qt=async()=>{if(!(!ue||!Ne)){Ue(!0);try{const R=Ne.replace(/[^0-9]/g,""),he=R.startsWith(e.countryCode)?R:e.countryCode+R,xe=await Ev({name:ue,phone:he});await F(),A(xe.data.id),oe(!1),ge(""),Me("")}catch(R){console.error(R)}finally{Ue(!1)}}},ce=async R=>{if(window.confirm(r.deleteConfirm))try{await t_(R),await F()}catch(he){console.error(he)}},Ve=R=>{Q(R),G(R.paid_amount.toString()),je(R.participants||"")},Ye=async()=>{if(V)try{await e_(V.id,{paid_amount:parseFloat(re)||0,total_amount:V.total_amount,participants:fe}),Q(null),await F(),qe(a==="ar"?"   ":"Invoice updated successfully")}catch{qe(a==="ar"?" ":"Update failed","error")}},it=R=>R==="paid"?r.paid_label:R==="partial"?r.partial:r.pending,z=R=>R==="paid"?"bg-emerald-500/10 text-emerald-600 border-emerald-500/20":R==="partial"?"bg-amber-500/10 text-amber-600 border-amber-500/20":"bg-red-500/10 text-red-500 border-red-500/20",Ce="w-full px-3.5 py-2.5 bg-muted border border-border rounded-xl text-foreground text-sm outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/10 transition-all font-cairo",ke=v.filter(R=>R.invoice_no.toLowerCase().includes(le.toLowerCase())||R.customer_name.toLowerCase().includes(le.toLowerCase())||R.customer_phone.includes(le));return i.jsxs("div",{className:"animate-fade-in",children:[i.jsx("header",{className:"mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsx("div",{children:i.jsxs("h2",{className:"text-2xl font-black text-foreground flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:i.jsx(Vn,{size:20,className:"text-primary"})}),r.title]})}),i.jsxs("div",{className:"flex gap-1 bg-muted p-1 rounded-xl w-full sm:w-auto",children:[i.jsxs("button",{onClick:()=>u("create"),className:`flex-1 sm:flex-none px-5 py-2.5 rounded-lg text-sm font-bold transition-all ${c==="create"?"bg-card text-primary shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[i.jsx(At,{size:16,className:"inline-block me-1.5 -mt-0.5"}),r.createTab]}),i.jsxs("button",{onClick:()=>u("list"),className:`flex-1 sm:flex-none px-5 py-2.5 rounded-lg text-sm font-bold transition-all ${c==="list"?"bg-card text-primary shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[i.jsx(Vn,{size:16,className:"inline-block me-1.5 -mt-0.5"}),r.listTab]})]})]})}),c==="create"?i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_420px] gap-5",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("section",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-4 text-white shadow-lg shadow-blue-500/20",children:[i.jsxs("div",{className:"flex items-center gap-2 opacity-80 mb-2",children:[i.jsx(Vn,{size:14}),i.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:r.invoicesCount})]}),i.jsx("div",{className:"text-2xl font-black",children:ms.count})]}),i.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl p-4 text-white shadow-lg shadow-emerald-500/20",children:[i.jsxs("div",{className:"flex items-center gap-2 opacity-80 mb-2",children:[i.jsx(vs,{size:14}),i.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:r.totalSales})]}),i.jsxs("div",{className:"text-xl font-black",children:[ms.total.toFixed(0)," ",i.jsx("span",{className:"text-[10px] opacity-70",children:e.currency})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-violet-500 to-violet-600 rounded-2xl p-4 text-white shadow-lg shadow-violet-500/20",children:[i.jsxs("div",{className:"flex items-center gap-2 opacity-80 mb-2",children:[i.jsx(Bt,{size:14}),i.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:r.totalCollected})]}),i.jsxs("div",{className:"text-xl font-black",children:[ms.paid.toFixed(0)," ",i.jsx("span",{className:"text-[10px] opacity-70",children:e.currency})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-rose-500 to-rose-600 rounded-2xl p-4 text-white shadow-lg shadow-rose-500/20",children:[i.jsxs("div",{className:"flex items-center gap-2 opacity-80 mb-2",children:[i.jsx(li,{size:14}),i.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:r.totalUnpaid})]}),i.jsxs("div",{className:"text-xl font-black",children:[ms.remaining.toFixed(0)," ",i.jsx("span",{className:"text-[10px] opacity-70",children:e.currency})]})]})]}),i.jsxs("section",{className:"bg-card border border-border rounded-2xl p-5 shadow-sm",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2 mb-4",children:[i.jsx(dn,{size:16,className:"text-primary"}),r.selectCustomer]}),i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsxs("select",{value:w,onChange:R=>A(Number(R.target.value)),className:`${Ce} flex-1`,children:[i.jsx("option",{value:"",children:r.searchCustomer}),d.map(R=>i.jsxs("option",{value:R.id,children:[R.name," - ",R.phone]},R.id))]}),i.jsx("button",{onClick:()=>oe(!0),className:"shrink-0 w-11 h-11 rounded-xl border border-dashed border-primary/30 bg-primary/5 text-primary flex items-center justify-center hover:bg-primary/10 hover:border-primary/50 transition-all",title:r.addCustomer,children:i.jsx(At,{size:20})})]})]}),i.jsxs("section",{className:"bg-card border border-border rounded-2xl p-5 shadow-sm",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2 mb-4",children:[i.jsx(In,{size:16,className:"text-primary"}),a==="ar"?" ":"Photography Packages"]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2.5 mb-4",children:x.length===0?i.jsx("p",{className:"text-sm text-muted-foreground col-span-full text-center py-3",children:a==="ar"?"  ":"No packages"}):x.map(R=>{const xe=_.filter(Se=>Se.package_id===R.id).reduce((Se,Pe)=>Se+Pe.quantity,0);return i.jsxs(Te.div,{whileTap:{scale:.97},onClick:()=>xe===0&&tt(R),className:`bg-gradient-to-br from-primary/10 to-primary/5 border-2 ${xe>0?"border-primary shadow-lg shadow-primary/10":"border-primary/30"} rounded-xl p-3.5 cursor-pointer hover:border-primary/60 transition-all group relative overflow-hidden`,children:[i.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full -translate-y-10 translate-x-10 group-hover:scale-150 transition-transform duration-500"}),i.jsx("span",{className:"text-sm font-bold text-foreground block relative z-10",children:R.type}),i.jsxs("div",{className:"flex justify-between items-center mt-2 relative z-10",children:[i.jsxs("span",{className:"text-xs text-primary font-black",children:[R.price," ",e.currency]}),xe>0?i.jsxs("div",{className:"flex items-center gap-2 bg-white/80 dark:bg-black/20 rounded-lg p-1 shadow-sm border border-primary/20",children:[i.jsx("button",{onClick:Se=>{Se.stopPropagation(),as(R.id,!0,-2)},className:"w-6 h-6 rounded-md bg-card border border-border text-foreground hover:bg-destructive/10 hover:text-destructive transition-all flex items-center justify-center",children:i.jsx(bo,{size:12})}),i.jsx("span",{className:"text-xs font-black min-w-[20px] text-center",children:xe}),i.jsx("button",{onClick:Se=>{Se.stopPropagation(),as(R.id,!0,2)},className:"w-6 h-6 rounded-md bg-card border border-border text-foreground hover:bg-primary/10 hover:text-primary transition-all flex items-center justify-center",children:i.jsx(At,{size:12})})]}):i.jsxs("span",{className:"text-[10px] text-muted-foreground bg-muted/50 px-2 py-0.5 rounded-full",children:[R.photo_count," ",a==="ar"?"":"photos"]})]}),R.sizes&&R.sizes.length>0&&xe===0&&i.jsxs("div",{className:"mt-2 flex flex-wrap gap-1 relative z-10",children:[R.sizes.slice(0,2).map(Se=>i.jsx("span",{className:"text-[8px] font-bold px-1.5 py-0.5 bg-primary/10 text-primary rounded-md border border-primary/20",children:Se},Se)),R.sizes.length>2&&i.jsxs("span",{className:"text-[8px] font-bold px-1.5 py-0.5 bg-muted text-muted-foreground rounded-md",children:["+ ",R.sizes.length-2]})]}),xe===0&&i.jsx(At,{size:16,className:"absolute top-3 end-3 text-primary/40 opacity-0 group-hover:opacity-100 transition-all z-10"})]},`pkg-${R.id}`)})}),i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2 mb-4 mt-5",children:[i.jsx(va,{size:16,className:"text-primary"}),r.selectPackages,i.jsx("span",{className:"ms-auto text-xs text-muted-foreground font-normal",children:r.multiplePackagesHint})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2.5",children:p.length===0?i.jsx("p",{className:"text-sm text-muted-foreground col-span-full text-center py-4",children:a==="ar"?"    ":"No sellable products"}):p.map(R=>{const xe=_.filter(Se=>Se.inventory_item_id===R.id&&!Se.is_package).reduce((Se,Pe)=>Se+Pe.quantity,0);return i.jsxs(Te.div,{whileTap:{scale:.97},onClick:()=>R.quantity>0&&xe===0&&He(R),className:`bg-muted/50 border-2 ${xe>0?"border-primary bg-primary/5 shadow-md":"border-border"} rounded-xl p-3.5 cursor-pointer hover:border-primary/40 transition-all group relative ${R.quantity<=0?"opacity-40 cursor-not-allowed":""}`,children:[i.jsx("span",{className:"text-sm font-bold text-foreground block",children:R.item_name}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsxs("span",{className:"text-xs text-muted-foreground font-semibold",children:[R.sell_price," ",e.currency]}),xe>0?i.jsxs("div",{className:"flex items-center gap-2 bg-white/80 dark:bg-black/20 rounded-lg p-1 shadow-sm border border-primary/20",children:[i.jsx("button",{onClick:Se=>{Se.stopPropagation(),as(R.id,!1,-2)},className:"w-6 h-6 rounded-md bg-card border border-border text-foreground hover:bg-destructive/10 hover:text-destructive transition-all flex items-center justify-center",children:i.jsx(bo,{size:12})}),i.jsx("span",{className:"text-xs font-black min-w-[20px] text-center",children:xe}),i.jsx("button",{onClick:Se=>{Se.stopPropagation(),as(R.id,!1,2)},className:"w-6 h-6 rounded-md bg-card border border-border text-foreground hover:bg-primary/10 hover:text-primary transition-all flex items-center justify-center",children:i.jsx(At,{size:12})})]}):i.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${R.quantity>0?"bg-emerald-500/10 text-emerald-500":"bg-red-500/10 text-red-500"}`,children:R.quantity>0?`${R.quantity} ${r.inStock}`:r.outOfStock})]}),R.category_name_ar&&!xe&&i.jsx("span",{className:"text-[10px] mt-1 block",style:{color:R.category_color||"#6B7280"},children:R.category_name_ar}),xe===0&&R.quantity>0&&i.jsx(At,{size:14,className:"absolute top-3 end-3 text-muted-foreground opacity-0 group-hover:opacity-100 group-hover:text-primary transition-all"})]},`prod-${R.id}`)})})]}),i.jsxs("section",{className:"bg-card border border-border rounded-2xl p-5 shadow-sm",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2 mb-4",children:[i.jsx(Bt,{size:16,className:"text-primary"}),r.participants]}),i.jsx("textarea",{value:D,onChange:R=>T(R.target.value),className:`${Ce} min-h-[80px] resize-y`,placeholder:r.participantsHint})]})]}),i.jsx("aside",{children:i.jsxs("div",{className:"bg-gradient-to-br from-card to-muted/30 border-2 border-border rounded-2xl p-6 shadow-xl sticky top-24",children:[i.jsxs("h3",{className:"font-bold text-base text-foreground flex items-center gap-2 mb-5",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(im,{size:16,className:"text-primary"})}),r.invoiceSummary,_.length>0&&i.jsxs("span",{className:"ms-auto text-xs bg-primary/10 text-primary px-2.5 py-1 rounded-full font-black",children:[_.length," ",r.items]})]}),i.jsx("div",{className:"space-y-2.5 mb-6 max-h-[320px] overflow-y-auto custom-scrollbar pe-1",children:_.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-muted/50 flex items-center justify-center mx-auto mb-3",children:i.jsx(va,{size:28,className:"text-muted-foreground/30"})}),i.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:r.noItems})]}):_.map(R=>i.jsxs(Te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},className:"bg-card border border-border rounded-xl p-3.5 group hover:border-primary/30 hover:shadow-md transition-all",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-bold text-foreground block mb-1",children:R.type}),R.availableSizes&&R.availableSizes.length>0&&i.jsx("select",{value:R.size,onChange:he=>{const xe=he.target.value;C(Se=>Se.map(Pe=>Pe.tempId===R.tempId?{...Pe,size:xe}:Pe))},className:"text-[10px] font-bold bg-muted border border-border rounded-md px-1.5 py-0.5 outline-none text-primary",children:R.availableSizes.map(he=>i.jsx("option",{value:he,children:he},he))}),i.jsxs("span",{className:"text-[10px] text-muted-foreground font-medium block mt-1",children:[r.unitPrice,": ",R.price," ",e.currency]})]}),i.jsx("button",{onClick:()=>We(R.tempId),className:"w-7 h-7 rounded-lg text-destructive/50 hover:text-destructive hover:bg-destructive/10 flex items-center justify-center transition-all opacity-0 group-hover:opacity-100",children:i.jsx(Dt,{size:14})})]}),i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>Tt(R.tempId,R.quantity-2),disabled:R.quantity<=2,className:"w-7 h-7 rounded-md bg-card border border-border text-foreground font-bold hover:bg-primary/10 hover:text-primary hover:border-primary/30 disabled:opacity-30 disabled:cursor-not-allowed transition-all flex items-center justify-center",children:i.jsx(bo,{size:14})}),i.jsx("input",{type:"number",value:R.quantity,onChange:he=>Tt(R.tempId,parseInt(he.target.value)||2),className:"w-12 text-center bg-transparent border-0 outline-none font-black text-sm text-foreground",min:"2",step:"2"}),i.jsx("button",{onClick:()=>Tt(R.tempId,R.quantity+2),className:"w-7 h-7 rounded-md bg-card border border-border text-foreground font-bold hover:bg-primary/10 hover:text-primary hover:border-primary/30 transition-all flex items-center justify-center",children:i.jsx(At,{size:14})})]}),i.jsxs("div",{className:"text-end",children:[i.jsx("div",{className:"text-[10px] text-muted-foreground font-medium mb-0.5",children:r.subtotal}),i.jsxs("div",{className:"text-base font-black text-primary font-mono",children:[(R.price*R.quantity).toFixed(2)," ",e.currency]})]})]})]},R.tempId))}),i.jsxs("div",{className:"bg-gradient-to-br from-muted/80 to-muted/40 rounded-xl p-4 space-y-4 border-2 border-border/50 shadow-inner",children:[i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-border/50",children:[i.jsx("span",{className:"text-sm font-bold text-muted-foreground",children:r.total}),i.jsxs("span",{className:"text-2xl font-black text-primary font-mono",children:[ys.toFixed(2)," ",e.currency]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-black uppercase text-muted-foreground tracking-widest",children:r.paid}),i.jsxs("div",{className:"relative",children:[i.jsx(vs,{size:14,className:"absolute start-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),i.jsx("input",{type:"number",value:L,onChange:R=>q(R.target.value),className:"w-full bg-card border-2 border-border rounded-xl ps-9 pe-4 py-2.5 text-lg font-black font-mono focus:border-primary/50 outline-none transition-all"})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-border/50",children:[i.jsx("span",{className:"text-xs font-bold text-muted-foreground",children:r.remaining}),i.jsxs("span",{className:`text-xl font-black font-mono ${ae>0?"text-destructive":"text-emerald-500"}`,children:[ae.toFixed(2)," ",e.currency]})]})]}),i.jsx("button",{onClick:Yt,disabled:!w||_.length===0||H,className:"w-full mt-5 bg-gradient-to-r from-primary to-primary/80 text-primary-foreground font-black py-4 rounded-xl shadow-lg shadow-primary/25 hover:shadow-xl hover:shadow-primary/30 active:scale-[0.98] disabled:opacity-40 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 text-sm",children:H?i.jsx(dt,{className:"animate-spin",size:18}):i.jsxs(i.Fragment,{children:[i.jsx(Bt,{size:18}),r.createBtn]})})]})})]}):i.jsxs("div",{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(qn,{size:16,className:"absolute start-3.5 top-1/2 -translate-y-1/2 text-muted-foreground"}),i.jsx("input",{type:"text",value:le,onChange:R=>Fe(R.target.value),placeholder:r.search,className:`${Ce} ps-10`})]})}),i.jsx("div",{className:"hidden md:block bg-card border border-border rounded-2xl shadow-sm overflow-hidden",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-muted/50 border-b border-border",children:[i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:r.invoiceNo}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:r.customerName}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:r.amount}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:r.remaining}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:r.status}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:r.actions})]})}),i.jsx("tbody",{className:"divide-y divide-border",children:ke.length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:6,className:"px-5 py-16 text-center text-muted-foreground",children:[i.jsx(Vn,{size:32,className:"mx-auto mb-3 opacity-30"}),i.jsx("p",{children:r.noInvoices})]})}):ke.map(R=>i.jsxs("tr",{className:"hover:bg-muted/30 transition-colors group",children:[i.jsxs("td",{className:"px-5 py-4",children:[i.jsx("span",{className:"text-sm font-black text-foreground",children:R.invoice_no}),i.jsxs("span",{className:"text-[10px] text-muted-foreground flex items-center gap-1 mt-1",children:[i.jsx($n,{size:10}),new Date(R.created_at).toLocaleDateString()]})]}),i.jsxs("td",{className:"px-5 py-4",children:[i.jsx("span",{className:"text-sm font-bold text-foreground",children:R.customer_name}),i.jsx("span",{className:"text-[10px] text-muted-foreground font-mono block mt-0.5",children:R.customer_phone})]}),i.jsxs("td",{className:"px-5 py-4 font-black text-sm font-mono",children:[R.total_amount," ",e.currency]}),i.jsxs("td",{className:`px-5 py-4 font-black text-sm font-mono ${R.remaining_amount>0?"text-destructive":"text-emerald-500"}`,children:[R.remaining_amount," ",e.currency]}),i.jsx("td",{className:"px-5 py-4",children:i.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-[11px] font-bold border ${z(R.status)}`,children:it(R.status)})}),i.jsx("td",{className:"px-5 py-4",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("button",{onClick:()=>mt(R),className:"p-2 rounded-lg text-emerald-600 hover:bg-emerald-500/10 transition-all",title:"WhatsApp",children:i.jsx(hi,{size:16})}),i.jsx("button",{onClick:()=>Xt(R.id),className:"p-2 rounded-lg text-muted-foreground hover:text-primary hover:bg-primary/10 transition-all",title:r.print,children:i.jsx(oi,{size:16})}),i.jsx("button",{onClick:()=>Ve(R),className:"p-2 rounded-lg text-muted-foreground hover:text-amber-500 hover:bg-amber-500/10 transition-all",children:i.jsx(nr,{size:16})}),i.jsx("button",{onClick:()=>ce(R.id),className:"p-2 rounded-lg text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-all",children:i.jsx(es,{size:16})})]})})]},R.id))})]})}),i.jsx("div",{className:"md:hidden space-y-3",children:ke.length===0?i.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[i.jsx(Vn,{size:32,className:"mx-auto mb-3 opacity-30"}),i.jsx("p",{children:r.noInvoices})]}):ke.map(R=>i.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-card border border-border rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rm,{size:14,className:"text-primary"}),i.jsx("span",{className:"text-sm font-black text-foreground",children:R.invoice_no})]}),i.jsxs("span",{className:"text-[10px] text-muted-foreground flex items-center gap-1 mt-1 ms-5",children:[i.jsx($n,{size:10}),new Date(R.created_at).toLocaleDateString()]})]}),i.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold border ${z(R.status)}`,children:it(R.status)})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm",children:[i.jsx(dn,{size:14,className:"text-muted-foreground"}),i.jsx("span",{className:"font-bold",children:R.customer_name}),i.jsx("span",{className:"text-muted-foreground font-mono text-xs",children:R.customer_phone})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 bg-muted/50 rounded-xl p-3 mb-3",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground font-bold block",children:r.total}),i.jsx("span",{className:"text-sm font-black font-mono",children:R.total_amount})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground font-bold block",children:r.paid}),i.jsx("span",{className:"text-sm font-black font-mono text-emerald-600",children:R.paid_amount})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground font-bold block",children:r.remaining}),i.jsx("span",{className:`text-sm font-black font-mono ${R.remaining_amount>0?"text-destructive":"text-emerald-500"}`,children:R.remaining_amount})]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 border-t border-border pt-3",children:[i.jsxs("button",{onClick:()=>mt(R),className:"flex-1 py-2 rounded-lg bg-emerald-500/10 text-emerald-600 text-xs font-bold flex items-center justify-center gap-1.5 hover:bg-emerald-500/20 transition-all",children:[i.jsx(hi,{size:14}),a==="ar"?"":"WhatsApp"]}),i.jsx("button",{onClick:()=>Xt(R.id),className:"p-2 rounded-lg border border-border text-muted-foreground hover:text-primary hover:bg-primary/10 transition-all",children:i.jsx(oi,{size:16})}),i.jsx("button",{onClick:()=>Ve(R),className:"p-2 rounded-lg border border-border text-muted-foreground hover:text-amber-500 hover:bg-amber-500/10 transition-all",children:i.jsx(nr,{size:16})}),i.jsx("button",{onClick:()=>ce(R.id),className:"p-2 rounded-lg border border-border text-destructive/60 hover:text-destructive hover:bg-destructive/10 transition-all",children:i.jsx(es,{size:16})})]})]},R.id))})]}),i.jsx(Vt,{children:U&&se&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-[3000] flex items-center justify-center p-4",children:i.jsxs(Te.div,{className:"bg-white text-black rounded-3xl w-full max-w-sm shadow-2xl overflow-hidden",initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},children:[i.jsxs("div",{className:"bg-gray-50 border-b border-gray-100 px-6 py-4 flex justify-between items-center no-print",children:[i.jsx("h3",{className:"font-bold text-gray-800",children:r.print}),i.jsx("button",{onClick:()=>W(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(Dt,{size:20})})]}),i.jsxs("div",{className:"p-8",id:"printable-area",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"inline-flex w-12 h-12 bg-black text-white rounded-2xl items-center justify-center text-xl font-black mb-2",children:""}),i.jsx("h2",{className:"text-lg font-black uppercase tracking-tight",children:e.studioName||r.studioName}),e.phone&&i.jsx("p",{className:"text-[10px] text-gray-500 font-bold tracking-widest mt-1",children:e.phone})]}),i.jsx("div",{className:"border-t border-dashed border-gray-300 my-4"}),i.jsxs("div",{className:"space-y-2 text-[11px]",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400 uppercase tracking-wider font-bold",children:r.invoiceNo}),i.jsx("span",{className:"font-mono font-bold",children:se.invoice_no})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400 uppercase tracking-wider font-bold",children:r.date}),i.jsx("span",{className:"font-bold",children:new Date(se.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400 uppercase tracking-wider font-bold",children:r.customerName}),i.jsx("span",{className:"font-bold",children:se.customer_name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400 uppercase tracking-wider font-bold",children:r.customerPhone}),i.jsx("span",{className:"font-bold",dir:"ltr",children:se.customer_phone})]})]}),se.participants&&i.jsxs("div",{className:"mt-3 p-2.5 bg-gray-50 rounded-xl border-s-4 border-black text-[10px]",children:[i.jsx("span",{className:"font-black text-gray-400 uppercase block mb-1",children:r.participants}),i.jsx("p",{className:"font-bold",children:se.participants})]}),i.jsxs("table",{className:"w-full mt-5 mb-4",children:[i.jsx("thead",{className:"border-b-2 border-black",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-[10px] font-black text-start py-2 uppercase",children:r.selectPackages}),i.jsx("th",{className:"text-[10px] font-black text-center py-2 uppercase",children:r.quantity}),i.jsx("th",{className:"text-[10px] font-black text-end py-2 uppercase",children:r.amount})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:ie.map((R,he)=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2.5 text-[11px] font-bold",children:R.package_name}),i.jsx("td",{className:"py-2.5 text-center text-[11px] font-bold",children:R.quantity}),i.jsxs("td",{className:"py-2.5 text-end text-[11px] font-black",children:[R.total.toFixed(2)," ",e.currency]})]},he))})]}),i.jsxs("div",{className:"bg-black text-white p-4 rounded-2xl space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[i.jsx("span",{className:"opacity-60",children:r.total}),i.jsxs("span",{children:[se.total_amount," ",e.currency]})]}),i.jsxs("div",{className:"flex justify-between text-xs font-bold text-green-400",children:[i.jsx("span",{className:"opacity-60",children:r.paid}),i.jsxs("span",{children:[se.paid_amount," ",e.currency]})]}),i.jsxs("div",{className:"flex justify-between text-sm font-black pt-2 border-t border-white/20",children:[i.jsx("span",{children:r.remaining}),i.jsxs("span",{children:[se.remaining_amount," ",e.currency]})]})]}),i.jsxs("div",{className:"mt-5 flex justify-between text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:[i.jsx("span",{children:r.createdBy}),i.jsx("span",{children:se.created_by||$t})]}),i.jsx("div",{className:"text-center mt-6 pb-2 italic font-black text-gray-800",children:a==="ar"?" !":"Thanks for visiting!"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex gap-2.5 no-print",children:[i.jsx("button",{onClick:()=>W(!1),className:"flex-1 py-3 border border-gray-200 rounded-xl text-sm font-bold text-gray-600 hover:bg-gray-100 transition-all",children:r.close}),i.jsxs("button",{onClick:()=>window.print(),className:"flex-[2] py-3 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:opacity-90 active:scale-95 transition-all",children:[i.jsx(oi,{size:16}),r.print]})]})]})})}),i.jsx(Vt,{children:ee&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[2100] flex items-center justify-center p-5",onClick:()=>oe(!1),children:i.jsxs(Te.div,{className:"bg-card border border-border rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:R=>R.stopPropagation(),children:[i.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-border",children:[i.jsx("h3",{className:"font-bold text-foreground",children:r.addCustomer}),i.jsx("button",{onClick:()=>oe(!1),className:"text-muted-foreground hover:text-foreground p-1 rounded-lg hover:bg-muted transition-all",children:i.jsx(Dt,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-1.5",children:r.customerName}),i.jsx("input",{value:ue,onChange:R=>ge(R.target.value),className:Ce})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-1.5",children:r.customerPhone}),i.jsx("input",{value:Ne,onChange:R=>Me(R.target.value),className:Ce,dir:"ltr"}),Ne.length>=3&&(()=>{const R=Ne.replace(/[^0-9]/g,""),he=d.filter(xe=>xe.phone.includes(R)||xe.name.toLowerCase().includes(Ne.toLowerCase()));return he.length===0?null:i.jsxs("div",{className:"mt-2 bg-amber-500/10 border border-amber-500/20 rounded-xl p-3",children:[i.jsxs("p",{className:"text-xs font-bold text-amber-600 mb-2 flex items-center gap-1.5",children:[i.jsx(qn,{size:12}),a==="ar"?"   :":"Similar existing customers:"]}),i.jsx("div",{className:"space-y-1.5",children:he.slice(0,3).map(xe=>i.jsxs("button",{type:"button",onClick:()=>{A(xe.id),oe(!1),ge(""),Me("")},className:"w-full text-start flex justify-between items-center px-3 py-2 bg-card rounded-lg border border-border hover:border-primary/40 hover:bg-primary/5 transition-all cursor-pointer",children:[i.jsx("span",{className:"text-sm font-bold text-foreground",children:xe.name}),i.jsx("span",{className:"text-xs text-muted-foreground font-mono",dir:"ltr",children:xe.phone})]},xe.id))})]})})()]})]}),i.jsxs("div",{className:"flex justify-end gap-2.5 px-6 py-4 border-t border-border bg-muted/30",children:[i.jsx("button",{onClick:()=>oe(!1),className:"px-4 py-2.5 border border-border rounded-xl text-sm font-bold text-muted-foreground hover:bg-muted transition-all",children:r.close}),i.jsxs("button",{onClick:Qt,disabled:!ue||!Ne||we,className:"px-5 py-2.5 bg-primary text-primary-foreground rounded-xl text-sm font-bold hover:opacity-90 disabled:opacity-50 flex items-center gap-2 transition-all",children:[we?i.jsx(dt,{className:"animate-spin",size:16}):i.jsx(Bt,{size:16}),a==="ar"?"":"Add"]})]})]})})}),i.jsx(Vt,{children:V&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[2100] flex items-center justify-center p-5",onClick:()=>Q(null),children:i.jsxs(Te.div,{className:"bg-card border border-border rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:R=>R.stopPropagation(),children:[i.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-border",children:[i.jsxs("h3",{className:"font-bold text-foreground",children:[r.editInvoice,": ",V.invoice_no]}),i.jsx("button",{onClick:()=>Q(null),className:"text-muted-foreground hover:text-foreground p-1 rounded-lg hover:bg-muted transition-all",children:i.jsx(Dt,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-1.5",children:r.paid}),i.jsxs("div",{className:"relative",children:[i.jsx(vs,{size:14,className:"absolute start-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),i.jsx("input",{type:"number",value:re,onChange:R=>G(R.target.value),className:`${Ce} ps-9`})]}),i.jsxs("div",{className:"flex justify-between mt-2 px-1",children:[i.jsxs("small",{className:"text-[10px] text-muted-foreground",children:[r.total,": ",V.total_amount]}),i.jsxs("small",{className:`text-[10px] font-bold ${V.total_amount-parseFloat(re)>0?"text-destructive":"text-emerald-600"}`,children:[r.remaining,": ",Math.max(0,V.total_amount-(parseFloat(re)||0))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-1.5",children:r.participants}),i.jsx("textarea",{value:fe,onChange:R=>je(R.target.value),className:`${Ce} min-h-[70px] resize-y`,placeholder:r.participantsHint})]})]}),i.jsxs("div",{className:"flex justify-end gap-2.5 px-6 py-4 border-t border-border bg-muted/30",children:[i.jsx("button",{onClick:()=>Q(null),className:"px-4 py-2.5 border border-border rounded-xl text-sm font-bold text-muted-foreground hover:bg-muted transition-all",children:r.close}),i.jsxs("button",{onClick:Ye,className:"px-5 py-2.5 bg-primary text-primary-foreground rounded-xl text-sm font-bold hover:opacity-90 flex items-center gap-2 transition-all",children:[i.jsx(Bt,{size:16}),r.saveChanges]})]})]})})}),i.jsx(Vt,{children:Z&&i.jsxs(Te.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:`fixed bottom-6 left-1/2 -translate-x-1/2 px-6 py-3.5 rounded-2xl text-white font-bold text-sm shadow-2xl z-[5000] flex items-center gap-2.5 ${ts==="success"?"bg-emerald-600":"bg-destructive"}`,children:[ts==="success"?i.jsx(Bt,{size:18}):i.jsx(Dt,{size:18}),Le]})}),i.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar {
                    width: 6px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: transparent;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: hsl(var(--muted-foreground) / 0.2);
                    border-radius: 10px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: hsl(var(--muted-foreground) / 0.3);
                }
            `})]})},Nc=["#f43f5e","#ec4899","#a855f7","#0ea5e9","#10b981"],oO={ar:{albumsTitle:" ",albumsSubtitle:"   ",addAlbum:" ",editAlbum:" ",description:" ",price:"",photoCount:" ",size:"",save:"",cancel:"",placeholderDesc:":     ...",placeholderSize:": 20x30 ",emptyAlbums:"   ",loading:" ...",videosTitle:" ",videosSubtitle:"   ",addVideo:"  ",editVideo:"  ",cameraType:" ",quality:"",pricePerHour:" ",placeholderCamera:": Sony A7III, Canon R5...",placeholderQuality:": 4K, Full HD...",emptyVideos:"    ",photos:"",perHour:"/ ",linkProduct:"   ",noProduct:"  ",selectProduct:" ..."},en:{albumsTitle:"Wedding Albums",albumsSubtitle:"Manage photography albums and pricing",addAlbum:"Add Album",editAlbum:"Edit Album",description:"Album Description",price:"Price",photoCount:"Photo Count",size:"Size",save:"Save",cancel:"Cancel",placeholderDesc:"e.g. Premium leather-bound album...",placeholderSize:"e.g. 20x30 cm",emptyAlbums:"No albums yet",loading:"Loading...",videosTitle:"Video Pricing",videosSubtitle:"Manage video shooting prices",addVideo:"Add Video Price",editVideo:"Edit Video Price",cameraType:"Camera Type",quality:"Quality",pricePerHour:"Price Per Hour",placeholderCamera:"e.g. Sony A7III, Canon R5...",placeholderQuality:"e.g. 4K, Full HD...",emptyVideos:"No video pricing yet",photos:"photos",perHour:"/ hour",linkProduct:"Link to Inventory Product",noProduct:"No linked product",selectProduct:"Select product..."}},lO=()=>{const{settings:s}=Rs(),e=s.lang,a=s.currency,r=oO[e],[c,u]=S.useState([]),[d,f]=S.useState([]),[p,g]=S.useState([]),[x,b]=S.useState(!0),[v,j]=S.useState(!1),[w,A]=S.useState(null),[_,C]=S.useState(""),[D,T]=S.useState(0),[L,q]=S.useState(0),[H,X]=S.useState(""),[ee,oe]=S.useState(void 0),[ue,ge]=S.useState(!1),[Ne,Me]=S.useState(null),[we,Ue]=S.useState(""),[U,W]=S.useState(""),[se,pe]=S.useState(0),ie=async()=>{b(!0);try{const[Z,de,Le]=await Promise.all([kv(),Cv(),am()]);u(Z.data),f(de.data),g(Le.data.filter(zt=>zt.usage_type==="wedding"))}catch(Z){console.error(Z)}finally{b(!1)}};S.useEffect(()=>{ie()},[]);const E=Z=>{Z?(A(Z),C(Z.description),T(Z.price),q(Z.photo_count),X(Z.size||""),oe(Z.inventory_item_id)):(A(null),C(""),T(0),q(0),X(""),oe(void 0)),j(!0)},V=async()=>{const Z={description:_,price:D,photo_count:L,size:H,inventory_item_id:ee,color:w?.color||Nc[c.length%Nc.length]};try{w?await n_(w.id,Z):await s_(Z),ie(),j(!1)}catch(de){console.error(de)}},Q=async Z=>{if(window.confirm(e==="ar"?"  ":"Are you sure?"))try{await a_(Z),ie()}catch(de){console.error(de)}},re=Z=>{Z?(Me(Z),Ue(Z.camera_type),W(Z.quality),pe(Z.price_per_hour)):(Me(null),Ue(""),W(""),pe(0)),ge(!0)},G=async()=>{const Z={camera_type:we,quality:U,price_per_hour:se,color:Ne?.color||Nc[(d.length+2)%Nc.length]};try{Ne?await i_(Ne.id,Z):await r_(Z),ie(),ge(!1)}catch(de){console.error(de)}},fe=async Z=>{if(window.confirm(e==="ar"?"  ":"Are you sure?"))try{await o_(Z),ie()}catch(de){console.error(de)}},je="w-full px-3.5 py-2.5 bg-muted border border-border rounded-lg text-foreground text-sm outline-none focus:border-pink-500/50 focus:ring-2 focus:ring-pink-500/10 transition-all font-cairo";return x?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-3",children:[i.jsx(dt,{className:"animate-spin text-pink-500",size:28}),i.jsx("p",{className:"text-muted-foreground text-sm",children:r.loading})]}):i.jsxs("div",{className:"animate-fade-in space-y-10",children:[i.jsxs("section",{children:[i.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4 mb-5",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 text-pink-500 text-xs font-extrabold uppercase tracking-widest mb-1",children:[i.jsx(ga,{size:16}),i.jsx("span",{children:e==="ar"?" ":"Wedding Section"})]}),i.jsx("h1",{className:"text-xl font-extrabold text-foreground",children:r.albumsTitle}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.albumsSubtitle})]}),i.jsxs("button",{onClick:()=>E(),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-lg font-semibold text-sm hover:opacity-90 transition-all shadow-md shadow-pink-500/20",children:[i.jsx(At,{size:18}),r.addAlbum]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:c.length===0?i.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center min-h-[200px] gap-3 text-muted-foreground",children:[i.jsx(uf,{size:40}),i.jsx("p",{children:r.emptyAlbums})]}):c.map((Z,de)=>i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:de*.08},className:"bg-card border border-border rounded-xl p-5 hover:-translate-y-1 hover:shadow-lg transition-all relative overflow-hidden group",style:{borderTopColor:Z.color,borderTopWidth:3},children:[i.jsxs("div",{className:"absolute top-3 end-3 flex gap-1.5",children:[i.jsx("button",{onClick:()=>E(Z),className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center text-muted-foreground hover:text-primary hover:bg-primary/10 transition-all",children:i.jsx(gf,{size:14})}),i.jsx("button",{onClick:()=>Q(Z.id),className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-all",children:i.jsx(es,{size:14})})]}),i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mb-3",style:{background:`${Z.color}15`,color:Z.color},children:i.jsx(l0,{size:20})}),i.jsx("h3",{className:"font-bold text-foreground text-lg mb-1",children:Z.description}),i.jsxs("div",{className:"flex items-baseline gap-1.5 mb-4",children:[i.jsx("span",{className:"text-3xl font-extrabold text-foreground tracking-tight",children:Z.price}),i.jsx("span",{className:"text-base font-semibold text-muted-foreground",children:a})]}),i.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ff,{size:14,style:{color:Z.color}}),i.jsxs("span",{children:[Z.photo_count," ",r.photos]})]}),Z.size&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(d0,{size:14,style:{color:Z.color}}),i.jsx("span",{children:Z.size})]}),Z.product_name&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(va,{size:14,style:{color:Z.color}}),i.jsx("span",{className:"text-xs",children:Z.product_name})]})]})]},Z.id))})]}),i.jsxs("section",{children:[i.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4 mb-5",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 text-purple-500 text-xs font-extrabold uppercase tracking-widest mb-1",children:[i.jsx(Ch,{size:16}),i.jsx("span",{children:e==="ar"?" ":"Video Section"})]}),i.jsx("h1",{className:"text-xl font-extrabold text-foreground",children:r.videosTitle}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.videosSubtitle})]}),i.jsxs("button",{onClick:()=>re(),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-purple-500 to-violet-500 text-white rounded-lg font-semibold text-sm hover:opacity-90 transition-all shadow-md shadow-purple-500/20",children:[i.jsx(At,{size:18}),r.addVideo]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:d.length===0?i.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center min-h-[200px] gap-3 text-muted-foreground",children:[i.jsx(uf,{size:40}),i.jsx("p",{children:r.emptyVideos})]}):d.map((Z,de)=>i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:de*.08},className:"bg-card border border-border rounded-xl p-5 hover:-translate-y-1 hover:shadow-lg transition-all relative overflow-hidden group",style:{borderTopColor:Z.color||"#a855f7",borderTopWidth:3},children:[i.jsxs("div",{className:"absolute top-3 end-3 flex gap-1.5",children:[i.jsx("button",{onClick:()=>re(Z),className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center text-muted-foreground hover:text-primary hover:bg-primary/10 transition-all",children:i.jsx(gf,{size:14})}),i.jsx("button",{onClick:()=>fe(Z.id),className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-all",children:i.jsx(es,{size:14})})]}),i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mb-3",style:{background:`${Z.color||"#a855f7"}15`,color:Z.color||"#a855f7"},children:i.jsx(Ch,{size:20})}),i.jsx("h3",{className:"font-bold text-foreground text-lg mb-1",children:Z.camera_type}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[i.jsx(In,{size:14}),i.jsx("span",{children:Z.quality})]}),i.jsxs("div",{className:"flex items-baseline gap-1.5",children:[i.jsx("span",{className:"text-3xl font-extrabold text-foreground tracking-tight",children:Z.price_per_hour}),i.jsxs("span",{className:"text-base font-semibold text-muted-foreground",children:[a," ",r.perHour]})]})]},Z.id))})]}),i.jsx(Vt,{children:v&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[2000] flex items-center justify-center p-5",onClick:()=>j(!1),children:i.jsxs(Te.div,{className:"bg-card border border-border rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},onClick:Z=>Z.stopPropagation(),children:[i.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-border",children:[i.jsxs("h2",{className:"font-bold text-foreground flex items-center gap-2",children:[i.jsx(l0,{size:18,className:"text-pink-500"}),w?r.editAlbum:r.addAlbum]}),i.jsx("button",{onClick:()=>j(!1),className:"text-muted-foreground hover:text-foreground p-1 rounded-lg hover:bg-muted transition-all",children:i.jsx(Dt,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-1.5",children:r.description}),i.jsx("input",{value:_,onChange:Z=>C(Z.target.value),placeholder:r.placeholderDesc,className:je})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-semibold text-foreground mb-1.5",children:[r.price," (",a,")"]}),i.jsxs("div",{className:"flex items-center gap-2.5 bg-muted border border-border rounded-lg px-3.5 h-11 focus-within:border-pink-500/50 focus-within:ring-2 focus-within:ring-pink-500/10",children:[i.jsx(vs,{size:16,className:"text-muted-foreground"}),i.jsx("input",{type:"number",value:D,onChange:Z=>T(Number(Z.target.value)),className:"flex-1 bg-transparent border-none outline-none text-foreground text-sm"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-1.5",children:r.photoCount}),i.jsxs("div",{className:"flex items-center gap-2.5 bg-muted border border-border rounded-lg px-3.5 h-11 focus-within:border-pink-500/50 focus-within:ring-2 focus-within:ring-pink-500/10",children:[i.jsx(ff,{size:16,className:"text-muted-foreground"}),i.jsx("input",{type:"number",value:L,onChange:Z=>q(Number(Z.target.value)),className:"flex-1 bg-transparent border-none outline-none text-foreground text-sm"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-1.5",children:r.size}),i.jsxs("div",{className:"flex items-center gap-2.5 bg-muted border border-border rounded-lg px-3.5 h-11 focus-within:border-pink-500/50 focus-within:ring-2 focus-within:ring-pink-500/10",children:[i.jsx(d0,{size:16,className:"text-muted-foreground"}),i.jsx("input",{value:H,onChange:Z=>X(Z.target.value),placeholder:r.placeholderSize,className:"flex-1 bg-transparent border-none outline-none text-foreground text-sm font-cairo"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-1.5",children:r.linkProduct}),i.jsxs("div",{className:"flex items-center gap-2.5 bg-muted border border-border rounded-lg px-3.5 h-11 focus-within:border-pink-500/50 focus-within:ring-2 focus-within:ring-pink-500/10",children:[i.jsx(va,{size:16,className:"text-muted-foreground"}),i.jsxs("select",{value:ee||"",onChange:Z=>oe(Z.target.value?Number(Z.target.value):void 0),className:"flex-1 bg-transparent border-none outline-none text-foreground text-sm font-cairo cursor-pointer",children:[i.jsx("option",{value:"",children:r.noProduct}),p.map(Z=>i.jsxs("option",{value:Z.id,children:[Z.item_name," (",Z.sell_price," ",a,")"]},Z.id))]})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2.5 px-6 py-4 border-t border-border bg-muted/30",children:[i.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2.5 border border-border rounded-lg text-sm font-semibold text-muted-foreground hover:bg-muted transition-all",children:r.cancel}),i.jsxs("button",{onClick:V,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-lg text-sm font-semibold hover:opacity-90 transition-all",children:[i.jsx(Pc,{size:16}),r.save]})]})]})})}),i.jsx(Vt,{children:ue&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[2000] flex items-center justify-center p-5",onClick:()=>ge(!1),children:i.jsxs(Te.div,{className:"bg-card border border-border rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},onClick:Z=>Z.stopPropagation(),children:[i.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-border",children:[i.jsxs("h2",{className:"font-bold text-foreground flex items-center gap-2",children:[i.jsx(Ch,{size:18,className:"text-purple-500"}),Ne?r.editVideo:r.addVideo]}),i.jsx("button",{onClick:()=>ge(!1),className:"text-muted-foreground hover:text-foreground p-1 rounded-lg hover:bg-muted transition-all",children:i.jsx(Dt,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-1.5",children:r.cameraType}),i.jsxs("div",{className:"flex items-center gap-2.5 bg-muted border border-border rounded-lg px-3.5 h-11 focus-within:border-purple-500/50 focus-within:ring-2 focus-within:ring-purple-500/10",children:[i.jsx(In,{size:16,className:"text-muted-foreground"}),i.jsx("input",{value:we,onChange:Z=>Ue(Z.target.value),placeholder:r.placeholderCamera,className:"flex-1 bg-transparent border-none outline-none text-foreground text-sm font-cairo"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-foreground mb-1.5",children:r.quality}),i.jsx("input",{value:U,onChange:Z=>W(Z.target.value),placeholder:r.placeholderQuality,className:je})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-semibold text-foreground mb-1.5",children:[r.pricePerHour," (",a,")"]}),i.jsxs("div",{className:"flex items-center gap-2.5 bg-muted border border-border rounded-lg px-3.5 h-11 focus-within:border-purple-500/50 focus-within:ring-2 focus-within:ring-purple-500/10",children:[i.jsx(vs,{size:16,className:"text-muted-foreground"}),i.jsx("input",{type:"number",value:se,onChange:Z=>pe(Number(Z.target.value)),className:"flex-1 bg-transparent border-none outline-none text-foreground text-sm"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2.5 px-6 py-4 border-t border-border bg-muted/30",children:[i.jsx("button",{onClick:()=>ge(!1),className:"px-4 py-2.5 border border-border rounded-lg text-sm font-semibold text-muted-foreground hover:bg-muted transition-all",children:r.cancel}),i.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-purple-500 to-violet-500 text-white rounded-lg text-sm font-semibold hover:opacity-90 transition-all",children:[i.jsx(Pc,{size:16}),r.save]})]})]})})})]})},cO=({user:s})=>{const{settings:e}=Rs(),a=e.lang,r=s?.name||"Admin",[c,u]=S.useState("create"),[d,f]=S.useState([]),[p,g]=S.useState([]),[x,b]=S.useState([]),[v,j]=S.useState([]),[w,A]=S.useState(""),[_,C]=S.useState([]),[D,T]=S.useState("0"),[L,q]=S.useState(""),[H,X]=S.useState(""),[ee,oe]=S.useState(""),[ue,ge]=S.useState(!1),[Ne,Me]=S.useState(!1),[we,Ue]=S.useState(null),[U,W]=S.useState([]),[se,pe]=S.useState(null),[ie,E]=S.useState("0"),[V,Q]=S.useState(""),[re,G]=S.useState(""),[fe,je]=S.useState(""),[Z,de]=S.useState(!1),[Le,zt]=S.useState(""),[ts,bt]=S.useState("success"),[le,Fe]=S.useState(""),qe=(z,Ce="success")=>{zt(z),bt(Ce),de(!0),setTimeout(()=>de(!1),4e3)},F={title:a==="ar"?" ":"Wedding Invoices",createTab:a==="ar"?" ":"New Invoice",listTab:a==="ar"?" ":"Invoice List",customer:a==="ar"?"":"Customer",items:a==="ar"?" ":"Selected Packages",total:a==="ar"?"":"Total",paid:a==="ar"?"":"Paid",remaining:a==="ar"?"":"Remaining",weddingDate:a==="ar"?" ":"Wedding Date",venue:a==="ar"?" ":"Venue",notes:a==="ar"?"":"Notes",createBtn:a==="ar"?" ":"Issue Invoice",invoiceNo:a==="ar"?" ":"Invoice No",customerName:a==="ar"?"":"Customer",amount:a==="ar"?"":"Amount",actions:a==="ar"?"":"Actions",print:a==="ar"?"":"Print",close:a==="ar"?"":"Close",deleteConfirm:a==="ar"?"  ":"Delete this invoice?",editInvoice:a==="ar"?" ":"Edit Invoice",saveChanges:a==="ar"?"":"Save",date:a==="ar"?"":"Date",customerPhone:a==="ar"?"":"Phone",albums:a==="ar"?"":"Albums",videos:a==="ar"?"":"Videos",products:a==="ar"?"":"Products",studioName:a==="ar"?" ":"Studio",search:a==="ar"?"...":"Search...",noInvoices:a==="ar"?"  ":"No invoices found",selectCustomer:a==="ar"?" ...":"Select customer...",paid_label:a==="ar"?"":"Paid",pending:a==="ar"?"":"Pending",partial:a==="ar"?"":"Partial",status:a==="ar"?"":"Status"},He=async()=>{try{const[z,Ce,ke,R]=await Promise.all([sm(),kv(),Cv(),a0()]);f(z.data),g(Ce.data.map(he=>({...he,description:he.description||"Album",price:parseFloat(he.price)||0}))),b(ke.data.map(he=>({...he,description:he.camera_type?`${he.camera_type} (${he.quality})`:he.description||"Video",price:parseFloat(he.price||he.price_per_hour)||0}))),j(R.data)}catch(z){console.error(z)}};S.useEffect(()=>{He()},[]);const tt=(z,Ce)=>{C(ke=>[...ke,{tempId:Date.now()+Math.random(),id:z.id,package_name:z.description||z.item_name,price:parseFloat(z.price||z.sell_price)||0,type:Ce}])},We=(z,Ce)=>{if(Ce<=0)return;const ke=parseFloat(String(z.price))||0;C(R=>[...R.filter(xe=>!(xe.type==="video"&&xe.id===z.id)),{tempId:Date.now()+Math.random(),id:z.id,package_name:`${z.description} - ${Ce} ${a==="ar"?" ":"hours"} `,price:ke*Ce,type:"video",hours:Ce}])},Tt=z=>{C(Ce=>Ce.filter(ke=>!(ke.type==="video"&&ke.id===z)))},as=z=>_.find(ke=>ke.type==="video"&&ke.id===z)?.hours||0,ys=z=>C(Ce=>Ce.filter(ke=>ke.tempId!==z)),ae=_.reduce((z,Ce)=>z+Ce.price,0),$t=Math.max(0,ae-(parseFloat(D)||0)),en=z=>z==="paid"?F.paid_label:z==="partial"?F.partial:F.pending,ms=z=>z==="paid"?"bg-emerald-500/10 text-emerald-600 border-emerald-500/20":z==="partial"?"bg-amber-500/10 text-amber-600 border-amber-500/20":"bg-rose-500/10 text-rose-500 border-rose-500/20",mt=async z=>{try{if(!(await nm()).data.connected){qe(a==="ar"?"   ":"WhatsApp is not connected","error");return}const he=(await r0(z.id)).data.map(Se=>`- ${Se.package_name}: ${Se.item_price||Se.price} ${e.currency} `).join(`
`),xe=`* ${e.studioName||F.studioName}*
${e.address?e.address+`
`:""}${e.phone?e.phone+`
`:""} 
 * ${F.invoiceNo}: ${z.invoice_no}*
 * ${F.customerName}:* ${z.customer_name} 
 * ${F.customerPhone}:* ${z.customer_phone} 
${z.wedding_date?`*${F.weddingDate}:* ${z.wedding_date}
`:""}${z.venue?`*${F.venue}:* ${z.venue}
`:""} 
 * ${F.items}:*
${he} 

 * ${F.total}:* ${z.total_amount} ${e.currency} 
 * ${F.paid}:* ${z.paid_amount} ${e.currency} 
 * ${F.remaining}:* ${z.remaining_amount} ${e.currency} `;await Rv({phone:z.customer_phone,message:xe}),qe(a==="ar"?"     ":" Invoice sent via WhatsApp")}catch(Ce){console.error(Ce),qe(a==="ar"?" ":"Failed to send","error")}},Yt=async()=>{if(!(!w||_.length===0||ue)){if((parseFloat(D)||0)<=0){qe(a==="ar"?"     ":"Paid amount is required to complete the transaction","error");return}ge(!0);try{const z=_.map(he=>({id:he.id,package_name:he.package_name,item_type:he.type,quantity:1,unit_price:he.price,price:he.price})),Ce=await l_({customer_id:Number(w),items:z,total_amount:ae,paid_amount:parseFloat(D)||0,created_by:s?.name||"Admin",wedding_date:L,venue:H,notes:ee}),ke=await a0();j(ke.data);const R=ke.data.find(he=>he.id===Ce.data?.id);R&&await mt(R),A(""),C([]),T("0"),q(""),X(""),oe(""),u("list"),qe(a==="ar"?"   ":"Invoice created")}catch(z){console.error(z),qe(a==="ar"?"  ":"Failed to create","error")}finally{ge(!1)}}},Xt=async z=>{try{const Ce=v.find(R=>R.id===z);if(!Ce)return;const ke=await r0(z);Ue(Ce),W(ke.data),Me(!0)}catch(Ce){console.error(Ce)}},Qt=z=>{pe(z),E(z.paid_amount.toString()),G(z.venue||""),je(z.notes||""),Q(z.wedding_date?z.wedding_date.split("T")[0]:"")},ce=async()=>{if(se)try{await c_(se.id,{paid_amount:parseFloat(ie)||0,total_amount:se.total_amount,wedding_date:V,venue:re,notes:fe}),pe(null),He(),qe(a==="ar"?" ":"Updated")}catch(z){console.error(z)}},Ve=async z=>{window.confirm(F.deleteConfirm)&&(await u_(z),He())},Ye="w-full px-3.5 py-2.5 bg-muted border border-border rounded-xl text-foreground text-sm outline-none focus:border-rose-400/50 focus:ring-2 focus:ring-rose-400/10 transition-all font-cairo",it=v.filter(z=>z.invoice_no.toLowerCase().includes(le.toLowerCase())||z.customer_name.toLowerCase().includes(le.toLowerCase())||z.customer_phone.includes(le));return i.jsxs("div",{className:"animate-fade-in",children:[i.jsx("header",{className:"mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsx("div",{children:i.jsxs("h2",{className:"text-2xl font-black text-foreground flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-rose-500/10 flex items-center justify-center",children:i.jsx(ga,{size:20,className:"text-rose-500"})}),F.title]})}),i.jsxs("div",{className:"flex gap-1 bg-muted p-1 rounded-xl w-full sm:w-auto",children:[i.jsxs("button",{onClick:()=>u("create"),className:`flex - 1 sm: flex - none px - 5 py - 2.5 rounded - lg text - sm font - bold transition - all ${c==="create"?"bg-card text-rose-500 shadow-sm":"text-muted-foreground hover:text-foreground"} `,children:[i.jsx(At,{size:16,className:"inline-block me-1.5 -mt-0.5"}),F.createTab]}),i.jsxs("button",{onClick:()=>u("list"),className:`flex - 1 sm: flex - none px - 5 py - 2.5 rounded - lg text - sm font - bold transition - all ${c==="list"?"bg-card text-rose-500 shadow-sm":"text-muted-foreground hover:text-foreground"} `,children:[i.jsx(ga,{size:16,className:"inline-block me-1.5 -mt-0.5"}),F.listTab]})]})]})}),c==="create"?i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_380px] gap-5",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("section",{className:"bg-card border border-border rounded-2xl p-5 shadow-sm",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2 mb-4",children:[i.jsx(dn,{size:16,className:"text-rose-500"}),F.customer]}),i.jsxs("select",{value:w,onChange:z=>A(Number(z.target.value)),className:Ye,children:[i.jsx("option",{value:"",children:F.selectCustomer}),d.map(z=>i.jsxs("option",{value:z.id,children:[z.name," - ",z.phone]},z.id))]})]}),i.jsxs("section",{className:"bg-card border border-border rounded-2xl p-5 shadow-sm",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2 mb-4",children:[i.jsx(In,{size:16,className:"text-rose-500"}),F.albums]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2.5",children:p.map(z=>i.jsxs(Te.div,{whileTap:{scale:.97},onClick:()=>tt(z,"album"),className:"bg-muted/50 border border-border rounded-xl p-3.5 cursor-pointer hover:border-rose-400/40 hover:bg-rose-500/5 transition-all group relative",children:[i.jsx("span",{className:"text-sm font-bold text-foreground block",children:z.description}),i.jsxs("span",{className:"text-xs text-muted-foreground font-semibold mt-1 block",children:[z.price," ",e.currency]}),i.jsx(At,{size:14,className:"absolute top-3 end-3 text-muted-foreground opacity-30 group-hover:opacity-100 group-hover:text-rose-500 transition-all"})]},z.id))})]}),i.jsxs("section",{className:"bg-card border border-border rounded-2xl p-5 shadow-sm",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2 mb-4",children:[i.jsx(oA,{size:16,className:"text-rose-500"}),F.videos,i.jsx("span",{className:"ms-auto text-xs text-muted-foreground font-normal",children:a==="ar"?"    ":"Set hours per camera"})]}),i.jsx("div",{className:"space-y-3",children:x.map(z=>{const Ce=as(z.id);return i.jsxs("div",{className:`flex items - center justify - between p - 3.5 rounded - xl border transition - all ${Ce>0?"bg-rose-500/5 border-rose-400/40":"bg-muted/50 border-border"} `,children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-bold text-foreground block",children:z.description}),i.jsxs("span",{className:"text-xs text-muted-foreground font-semibold",children:[z.price," ",e.currency,"/",a==="ar"?"":"hr"]}),Ce>0&&i.jsxs("span",{className:"text-xs text-rose-500 font-bold block mt-0.5",children:[a==="ar"?"":"Total",": ",(parseFloat(String(z.price))||0)*Ce," ",e.currency]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>{Ce>0&&(Ce===1?Tt(z.id):We(z,Ce-1))},className:`w - 9 h - 9 rounded - xl flex items - center justify - center text - sm font - bold transition - all ${Ce>0?"bg-rose-500/10 text-rose-500 hover:bg-rose-500/20":"bg-muted text-muted-foreground/30 cursor-not-allowed"} `,children:i.jsx(bo,{size:16})}),i.jsx("span",{className:`w - 10 text - center text - lg font - black font - mono ${Ce>0?"text-foreground":"text-muted-foreground/40"} `,children:Ce}),i.jsx("button",{onClick:()=>We(z,Ce+1),className:"w-9 h-9 rounded-xl bg-rose-500/10 text-rose-500 hover:bg-rose-500/20 flex items-center justify-center text-sm font-bold transition-all",children:i.jsx(At,{size:16})})]})]},z.id)})})]}),i.jsxs("section",{className:"bg-card border border-border rounded-2xl p-5 shadow-sm",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2 mb-4",children:[i.jsx($n,{size:16,className:"text-rose-500"}),a==="ar"?" ":"Event Details"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1.5 block",children:F.weddingDate}),i.jsx("input",{type:"date",value:L,onChange:z=>q(z.target.value),className:Ye})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1.5 block",children:F.venue}),i.jsx("input",{type:"text",value:H,onChange:z=>X(z.target.value),className:Ye,placeholder:a==="ar"?"   ...":"Hall name or location..."})]}),i.jsxs("div",{className:"sm:col-span-2",children:[i.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1.5 block",children:F.notes}),i.jsx("textarea",{value:ee,onChange:z=>oe(z.target.value),className:`${Ye} min - h - [60px] resize - y`})]})]})]})]}),i.jsx("aside",{children:i.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6 shadow-sm sticky top-24",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2 mb-5",children:[i.jsx(ga,{size:16,className:"text-rose-500"}),F.items]}),i.jsx("div",{className:"space-y-2 mb-6 max-h-[250px] overflow-y-auto",children:_.length===0?i.jsxs("div",{className:"text-center py-10",children:[i.jsx(ga,{size:32,className:"mx-auto text-muted-foreground/20 mb-3"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:a==="ar"?"   ":"No packages selected"})]}):_.map(z=>i.jsxs(Te.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex justify-between items-center py-2.5 px-3 bg-muted/50 rounded-lg group hover:bg-muted transition-all",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-bold text-foreground",children:z.package_name}),i.jsx("span",{className:"text-[10px] text-rose-500 font-bold uppercase block",children:z.type==="album"?a==="ar"?"":"Album":a==="ar"?"":"Video"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("strong",{className:"text-sm font-mono",children:z.price}),i.jsx("button",{onClick:()=>ys(z.tempId),className:"w-7 h-7 rounded-lg text-destructive/50 hover:text-destructive hover:bg-destructive/10 flex items-center justify-center transition-all opacity-0 group-hover:opacity-100",children:i.jsx(Dt,{size:14})})]})]},z.tempId))}),i.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 space-y-4 border border-border/50",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-bold text-muted-foreground",children:F.total}),i.jsxs("span",{className:"text-xl font-black text-rose-500 font-mono",children:[ae," ",e.currency]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-black uppercase text-muted-foreground tracking-widest",children:F.paid}),i.jsx("input",{type:"number",value:D,onChange:z=>T(z.target.value),className:"w-full bg-card border border-border rounded-xl px-3 py-2.5 text-lg font-black font-mono focus:border-rose-400/50 outline-none transition-all"})]}),i.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-border/50",children:[i.jsx("span",{className:"text-xs font-bold text-muted-foreground",children:F.remaining}),i.jsxs("span",{className:`text - lg font - black font - mono ${$t>0?"text-destructive":"text-emerald-500"} `,children:[$t," ",e.currency]})]})]}),i.jsx("button",{onClick:Yt,disabled:!w||_.length===0||ue,className:"w-full mt-5 bg-rose-500 text-white font-black py-3.5 rounded-xl shadow-lg shadow-rose-500/20 hover:bg-rose-600 active:scale-[0.98] disabled:opacity-40 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 text-sm",children:ue?i.jsx(dt,{className:"animate-spin",size:18}):i.jsxs(i.Fragment,{children:[i.jsx(Bt,{size:18}),F.createBtn]})})]})})]}):i.jsxs("div",{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(qn,{size:16,className:"absolute start-3.5 top-1/2 -translate-y-1/2 text-muted-foreground"}),i.jsx("input",{type:"text",value:le,onChange:z=>Fe(z.target.value),placeholder:F.search,className:`${Ye} ps - 10`})]})}),i.jsx("div",{className:"hidden md:block bg-card border border-border rounded-2xl shadow-sm overflow-hidden",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-muted/50 border-b border-border",children:[i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:F.invoiceNo}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:F.customerName}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:F.amount}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:F.remaining}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:F.status}),i.jsx("th",{className:"px-5 py-4 text-start text-[11px] font-black uppercase text-muted-foreground tracking-wider",children:F.actions})]})}),i.jsx("tbody",{className:"divide-y divide-border",children:it.length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:6,className:"px-5 py-16 text-center text-muted-foreground",children:[i.jsx(ga,{size:32,className:"mx-auto mb-3 opacity-30"}),i.jsx("p",{children:F.noInvoices})]})}):it.map(z=>i.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[i.jsxs("td",{className:"px-5 py-4",children:[i.jsx("span",{className:"text-sm font-black text-foreground",children:z.invoice_no}),i.jsxs("span",{className:"text-[10px] text-muted-foreground flex items-center gap-1 mt-1",children:[i.jsx($n,{size:10}),new Date(z.created_at).toLocaleDateString()]})]}),i.jsxs("td",{className:"px-5 py-4",children:[i.jsx("span",{className:"text-sm font-bold",children:z.customer_name}),i.jsx("span",{className:"text-[10px] text-muted-foreground font-mono block mt-0.5",children:z.customer_phone})]}),i.jsxs("td",{className:"px-5 py-4 font-black text-sm font-mono",children:[z.total_amount," ",e.currency]}),i.jsxs("td",{className:`px - 5 py - 4 font - black text - sm font - mono ${z.remaining_amount>0?"text-destructive":"text-emerald-500"} `,children:[z.remaining_amount," ",e.currency]}),i.jsx("td",{className:"px-5 py-4",children:i.jsx("span",{className:`inline - flex px - 2.5 py - 1 rounded - full text - [11px] font - bold border ${ms(z.status)} `,children:en(z.status)})}),i.jsx("td",{className:"px-5 py-4",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("button",{onClick:()=>mt(z),className:"p-2 rounded-lg text-emerald-600 hover:bg-emerald-500/10 transition-all",title:"WhatsApp",children:i.jsx(hi,{size:16})}),i.jsx("button",{onClick:()=>Xt(z.id),className:"p-2 rounded-lg text-muted-foreground hover:text-rose-500 hover:bg-rose-500/10 transition-all",title:F.print,children:i.jsx(oi,{size:16})}),i.jsx("button",{onClick:()=>Qt(z),className:"p-2 rounded-lg text-muted-foreground hover:text-amber-500 hover:bg-amber-500/10 transition-all",children:i.jsx(nr,{size:16})}),i.jsx("button",{onClick:()=>Ve(z.id),className:"p-2 rounded-lg text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-all",children:i.jsx(es,{size:16})})]})})]},z.id))})]})}),i.jsx("div",{className:"md:hidden space-y-3",children:it.length===0?i.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[i.jsx(ga,{size:32,className:"mx-auto mb-3 opacity-30"}),i.jsx("p",{children:F.noInvoices})]}):it.map(z=>i.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-card border border-border rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rm,{size:14,className:"text-rose-500"}),i.jsx("span",{className:"text-sm font-black",children:z.invoice_no})]}),i.jsxs("span",{className:"text-[10px] text-muted-foreground flex items-center gap-1 mt-1 ms-5",children:[i.jsx($n,{size:10}),new Date(z.created_at).toLocaleDateString()]})]}),i.jsx("span",{className:`px - 2.5 py - 1 rounded - full text - [10px] font - bold border ${ms(z.status)} `,children:en(z.status)})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm",children:[i.jsx(dn,{size:14,className:"text-muted-foreground"}),i.jsx("span",{className:"font-bold",children:z.customer_name})]}),(z.wedding_date||z.venue)&&i.jsxs("div",{className:"flex flex-wrap gap-3 mb-3 text-[11px] text-muted-foreground",children:[z.wedding_date&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx($n,{size:11}),new Date(z.wedding_date).toLocaleDateString()]}),z.venue&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Lc,{size:11}),z.venue]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 bg-muted/50 rounded-xl p-3 mb-3",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground font-bold block",children:F.total}),i.jsx("span",{className:"text-sm font-black font-mono",children:z.total_amount})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground font-bold block",children:F.paid}),i.jsx("span",{className:"text-sm font-black font-mono text-emerald-600",children:z.paid_amount})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground font-bold block",children:F.remaining}),i.jsx("span",{className:`text - sm font - black font - mono ${z.remaining_amount>0?"text-destructive":"text-emerald-500"} `,children:z.remaining_amount})]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 border-t border-border pt-3",children:[i.jsxs("button",{onClick:()=>mt(z),className:"flex-1 py-2 rounded-lg bg-emerald-500/10 text-emerald-600 text-xs font-bold flex items-center justify-center gap-1.5 hover:bg-emerald-500/20 transition-all",children:[i.jsx(hi,{size:14}),a==="ar"?"":"WhatsApp"]}),i.jsx("button",{onClick:()=>Xt(z.id),className:"p-2 rounded-lg border border-border text-muted-foreground hover:text-rose-500 hover:bg-rose-500/10 transition-all",children:i.jsx(oi,{size:16})}),i.jsx("button",{onClick:()=>Qt(z),className:"p-2 rounded-lg border border-border text-muted-foreground hover:text-amber-500 hover:bg-amber-500/10 transition-all",children:i.jsx(nr,{size:16})}),i.jsx("button",{onClick:()=>Ve(z.id),className:"p-2 rounded-lg border border-border text-destructive/60 hover:text-destructive hover:bg-destructive/10 transition-all",children:i.jsx(es,{size:16})})]})]},z.id))})]}),i.jsx(Vt,{children:Ne&&we&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-[3000] flex items-center justify-center p-4",children:i.jsxs(Te.div,{className:"bg-white text-black rounded-3xl w-full max-w-sm shadow-2xl overflow-hidden",initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},children:[i.jsxs("div",{className:"bg-gray-50 border-b border-gray-100 px-6 py-4 flex justify-between items-center no-print",children:[i.jsx("h3",{className:"font-bold text-gray-800",children:F.print}),i.jsx("button",{onClick:()=>Me(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(Dt,{size:20})})]}),i.jsxs("div",{className:"p-8",id:"printable-area",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"inline-flex w-12 h-12 bg-rose-500 text-white rounded-2xl items-center justify-center text-xl mb-2",children:""}),i.jsx("h2",{className:"text-lg font-black uppercase tracking-tight",children:e.studioName||F.studioName}),e.phone&&i.jsx("p",{className:"text-[10px] text-gray-500 font-bold tracking-widest mt-1",children:e.phone})]}),i.jsx("div",{className:"border-t border-dashed border-gray-300 my-4"}),i.jsxs("div",{className:"space-y-2 text-[11px]",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400 uppercase tracking-wider font-bold",children:F.invoiceNo}),i.jsx("span",{className:"font-mono font-bold",children:we.invoice_no})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400 uppercase tracking-wider font-bold",children:F.date}),i.jsx("span",{className:"font-bold",children:new Date(we.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400 uppercase tracking-wider font-bold",children:F.customerName}),i.jsx("span",{className:"font-bold",children:we.customer_name})]}),we.wedding_date&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400 uppercase tracking-wider font-bold",children:F.weddingDate}),i.jsx("span",{className:"font-bold",children:new Date(we.wedding_date).toLocaleDateString()})]}),we.venue&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400 uppercase tracking-wider font-bold",children:F.venue}),i.jsx("span",{className:"font-bold",children:we.venue})]})]}),i.jsxs("table",{className:"w-full mt-5 mb-4",children:[i.jsx("thead",{className:"border-b-2 border-black",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-[10px] font-black text-start py-2 uppercase",children:F.items}),i.jsx("th",{className:"text-[10px] font-black text-end py-2 uppercase",children:F.amount})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:U.map((z,Ce)=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2.5 text-[11px] font-bold",children:z.package_name}),i.jsxs("td",{className:"py-2.5 text-end text-[11px] font-black",children:[z.item_price||z.price," ",e.currency]})]},Ce))})]}),i.jsxs("div",{className:"bg-rose-500 text-white p-4 rounded-2xl space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[i.jsx("span",{className:"opacity-60",children:F.total}),i.jsxs("span",{children:[we.total_amount," ",e.currency]})]}),i.jsxs("div",{className:"flex justify-between text-xs font-bold text-green-300",children:[i.jsx("span",{className:"opacity-60",children:F.paid}),i.jsxs("span",{children:[we.paid_amount," ",e.currency]})]}),i.jsxs("div",{className:"flex justify-between text-sm font-black pt-2 border-t border-white/20",children:[i.jsx("span",{children:F.remaining}),i.jsxs("span",{children:[we.remaining_amount," ",e.currency]})]})]}),i.jsxs("div",{className:"mt-5 flex justify-between text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:[i.jsx("span",{children:a==="ar"?"":"Manager"}),i.jsx("span",{children:we.created_by||r})]}),i.jsx("div",{className:"text-center mt-6 pb-2 italic font-black text-gray-800",children:a==="ar"?" !":"Thanks for visiting!"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex gap-2.5 no-print",children:[i.jsx("button",{onClick:()=>Me(!1),className:"flex-1 py-3 border border-gray-200 rounded-xl text-sm font-bold text-gray-600 hover:bg-gray-100 transition-all",children:F.close}),i.jsxs("button",{onClick:()=>window.print(),className:"flex-[2] py-3 bg-rose-500 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-rose-600 active:scale-95 transition-all",children:[i.jsx(oi,{size:16}),F.print]})]})]})})}),i.jsx(Vt,{children:se&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[3000] flex items-center justify-center p-4",onClick:()=>pe(null),children:i.jsxs(Te.div,{className:"bg-card border border-border rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:z=>z.stopPropagation(),children:[i.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-border",children:[i.jsxs("h3",{className:"font-bold text-foreground",children:[F.editInvoice,": ",se.invoice_no]}),i.jsx("button",{onClick:()=>pe(null),className:"text-muted-foreground hover:text-foreground p-1 rounded-lg hover:bg-muted transition-all",children:i.jsx(Dt,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-muted-foreground mb-1.5",children:F.paid}),i.jsx("input",{type:"number",value:ie,onChange:z=>E(z.target.value),className:Ye}),i.jsxs("div",{className:"flex justify-between mt-2 px-1",children:[i.jsxs("small",{className:"text-[10px] text-muted-foreground",children:[F.total,": ",se.total_amount]}),i.jsxs("small",{className:`text - [10px] font - bold ${se.total_amount-(parseFloat(ie)||0)>0?"text-destructive":"text-emerald-600"} `,children:[F.remaining,": ",Math.max(0,se.total_amount-(parseFloat(ie)||0))]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-muted-foreground mb-1 block",children:F.weddingDate}),i.jsx("input",{type:"date",value:V,onChange:z=>Q(z.target.value),className:Ye})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-muted-foreground mb-1 block",children:F.venue}),i.jsx("input",{type:"text",value:re,onChange:z=>G(z.target.value),className:Ye})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-muted-foreground mb-1 block",children:F.notes}),i.jsx("textarea",{value:fe,onChange:z=>je(z.target.value),className:`${Ye} min - h - [60px] resize - y`})]})]}),i.jsxs("div",{className:"flex justify-end gap-2.5 px-6 py-4 border-t border-border bg-muted/30",children:[i.jsx("button",{onClick:()=>pe(null),className:"px-4 py-2.5 border border-border rounded-xl text-sm font-bold text-muted-foreground hover:bg-muted transition-all",children:F.close}),i.jsxs("button",{onClick:ce,className:"px-5 py-2.5 bg-rose-500 text-white rounded-xl text-sm font-bold hover:bg-rose-600 flex items-center gap-2 transition-all",children:[i.jsx(Bt,{size:16}),F.saveChanges]})]})]})})}),i.jsx(Vt,{children:Z&&i.jsxs(Te.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:`fixed bottom - 6 left - 1 / 2 - translate - x - 1 / 2 px - 6 py - 3.5 rounded - 2xl text - white font - bold text - sm shadow - 2xl z - [5000] flex items - center gap - 2.5 ${ts==="success"?"bg-emerald-600":"bg-destructive"} `,children:[ts==="success"?i.jsx(Bt,{size:18}):i.jsx(Dt,{size:18}),Le]})})]})},uO={title:" ",addPurchase:" ",list:" ",itemName:" ",category:"",quantity:"",unitCost:" ",total:"",paid:"",remaining:"",supplier:"",save:"",search:"...",noItems:"  ",addItem:" ",selectItem:" ...",purchaseSummary:" ",categoryName:" ",categoryNameAr:" ",addCategory:" ",items:"",subtotal:" ",studio:"",wedding:""},dO={title:"Inventory & Purchases",addPurchase:"Add Purchase",list:"Inventory List",itemName:"Item Name",category:"Category",quantity:"Quantity",unitCost:"Unit Cost",total:"Total",paid:"Paid",remaining:"Remaining",supplier:"Supplier",save:"Save",search:"Search...",noItems:"No inventory",addItem:"Add Item",selectItem:"Select item...",purchaseSummary:"Purchase Summary",categoryName:"Category Name",categoryNameAr:"Arabic Name",addCategory:"Add Category",items:"items",subtotal:"Subtotal",studio:"Studio",wedding:"Wedding"},hO=({user:s})=>{const{settings:e}=Rs(),a=e.lang,r=a==="ar"?uO:dO,[c,u]=S.useState([]),[d,f]=S.useState([]),[p,g]=S.useState(!0),[x,b]=S.useState("purchase"),[v,j]=S.useState("studio"),[w,A]=S.useState(""),[_,C]=S.useState(!1),[D,T]=S.useState(""),[L,q]=S.useState("success"),[H,X]=S.useState([]),[ee,oe]=S.useState(""),[ue,ge]=S.useState("1"),[Ne,Me]=S.useState(""),[we,Ue]=S.useState("0"),[U,W]=S.useState(""),[se,pe]=S.useState(!1),[ie,E]=S.useState(!1),[V,Q]=S.useState(""),[re,G]=S.useState(""),[fe,je]=S.useState(!1),[Z,de]=S.useState(""),[Le,zt]=S.useState(""),[ts,bt]=S.useState("#6B7280"),le=(ce,Ve="success")=>{T(ce),q(Ve),C(!0),setTimeout(()=>C(!1),3e3)},Fe=async()=>{try{const[ce,Ve]=await Promise.all([am(),g_()]);u(ce.data),f(Ve.data)}catch{le(a==="ar"?"  ":"Failed to load data","error")}finally{g(!1)}};S.useEffect(()=>{Fe()},[]);const qe=d.filter(ce=>!ce.usage_type||ce.usage_type===v),F=c.filter(ce=>ce.usage_type===v),He=()=>{if(!ee||!ue||!Ne)return;const ce=c.find(it=>it.id===ee);if(!ce)return;const Ve=parseInt(ue),Ye=parseFloat(Ne);X(it=>[...it,{tempId:Date.now()+Math.random(),item_id:ce.id,item_name:ce.item_name,quantity:Ve,unit_cost:Ye,total:Ve*Ye}]),oe(""),ge("1"),Me("")},tt=ce=>X(Ve=>Ve.filter(Ye=>Ye.tempId!==ce)),We=(ce,Ve)=>{Ve<1||X(Ye=>Ye.map(it=>it.tempId===ce?{...it,quantity:Ve,total:Ve*it.unit_cost}:it))},Tt=H.reduce((ce,Ve)=>ce+Ve.total,0),as=Math.max(0,Tt-(parseFloat(we)||0)),ys=async()=>{if(H.length!==0){if((parseFloat(we)||0)<=0){le(a==="ar"?"     ":"Paid amount is required to complete the transaction","error");return}pe(!0);try{for(const ce of H){const Ve=c.find(Ye=>Ye.id===ce.item_id);Ve&&await m_(ce.item_id,{item_name:Ve.item_name,category_id:Ve.category_id,usage_type:Ve.usage_type,quantity:Ve.quantity+ce.quantity,unit_cost:ce.unit_cost,sell_price:Ve.sell_price,min_stock:Ve.min_stock||5,supplier:U||Ve.supplier,notes:Ve.notes||"",created_by:s?.name||"Admin"})}le(a==="ar"?"   ":"Purchase saved successfully"),X([]),Ue("0"),W(""),await Fe()}catch(ce){console.error("Save purchase error:",ce),le(a==="ar"?" ":"Save failed","error")}finally{pe(!1)}}},ae=async()=>{if(V)try{const ce=await f_({item_name:V,category_id:re||null,usage_type:v,quantity:0,unit_cost:0,sell_price:0,min_stock:5,supplier:"",notes:"",created_by:s?.name||"Admin"});await Fe(),setTimeout(()=>{oe(ce.data.id)},100),E(!1),Q(""),G(""),le(a==="ar"?"  ":"Item added")}catch(ce){console.error("Add item error:",ce),le(a==="ar"?"":"Failed","error")}},$t=async()=>{if(Z)try{await x_({name:Z,name_ar:Le||Z,color:ts,usage_type:v,is_sellable:1}),je(!1),de(""),zt(""),bt("#6B7280"),await Fe(),le(a==="ar"?"  ":"Category added")}catch{le(a==="ar"?"":"Failed","error")}},en=async ce=>{if(window.confirm(a==="ar"?"  ":"Are you sure?"))try{await p_(ce),await Fe(),le(a==="ar"?" ":"Deleted")}catch{le(a==="ar"?"":"Failed","error")}},ms=F.filter(ce=>ce.item_name.toLowerCase().includes(w.toLowerCase())),mt="w-full px-3.5 py-2.5 bg-muted border border-border rounded-xl text-foreground text-sm outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/10 transition-all";if(p)return i.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:i.jsx(dt,{className:"animate-spin text-primary",size:24})});const Yt=v==="studio"?"amber":"rose",Xt=v==="studio"?"from-amber-500 to-orange-500":"from-rose-500 to-pink-500",Qt=v==="studio"?"text-amber-600":"text-rose-500";return i.jsxs("div",{className:"animate-fade-in text-start",children:[i.jsx(Vt,{children:_&&i.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`fixed top-4 left-1/2 -translate-x-1/2 z-[9999] px-5 py-3 rounded-xl shadow-lg text-sm font-bold text-white ${L==="success"?"bg-emerald-500":"bg-red-500"}`,children:D})}),i.jsx("header",{className:"mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("h2",{className:"text-2xl font-black text-foreground flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${Xt} flex items-center justify-center shadow-lg`,children:i.jsx(h0,{size:20,className:"text-white"})}),r.title,i.jsx("span",{className:`text-[10px] px-2 py-1 rounded-md bg-${Yt}-500/10 ${Qt} uppercase tracking-widest font-black`,children:v==="studio"?r.studio:r.wedding})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[i.jsxs("div",{className:"flex bg-muted p-1 rounded-xl flex-wrap",children:[i.jsx("button",{onClick:()=>{j("studio"),oe("")},className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${v==="studio"?"bg-card text-amber-600 shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:r.studio}),i.jsx("button",{onClick:()=>{j("wedding"),oe("")},className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${v==="wedding"?"bg-card text-rose-500 shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:r.wedding})]}),i.jsxs("div",{className:"flex gap-1 bg-muted p-1 rounded-xl flex-wrap",children:[i.jsxs("button",{onClick:()=>b("purchase"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${x==="purchase"?"bg-card text-primary shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[i.jsx(At,{size:14,className:"inline-block me-1 -mt-0.5"}),r.addPurchase]}),i.jsxs("button",{onClick:()=>b("list"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${x==="list"?"bg-card text-primary shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[i.jsx(va,{size:14,className:"inline-block me-1 -mt-0.5"}),r.list]})]})]})]})}),x==="purchase"?i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_400px] gap-5",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("section",{className:"bg-card border border-border rounded-2xl p-5 shadow-sm",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2 mb-4",children:[i.jsx(va,{size:16,className:Qt}),r.addItem]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_120px_140px_auto] gap-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:ee,onChange:ce=>oe(Number(ce.target.value)),className:`${mt} flex-1`,children:[i.jsx("option",{value:"",children:r.selectItem}),F.map(ce=>i.jsx("option",{value:ce.id,children:ce.item_name},ce.id))]}),i.jsx("button",{onClick:()=>E(!0),className:`shrink-0 w-11 h-11 rounded-xl border border-dashed flex items-center justify-center transition-all ${v==="studio"?"border-amber-500/30 bg-amber-500/5 text-amber-600 hover:bg-amber-500/10":"border-rose-500/30 bg-rose-500/5 text-rose-500 hover:bg-rose-500/10"}`,children:i.jsx(At,{size:18})})]}),i.jsx("input",{type:"number",min:"1",value:ue,onChange:ce=>ge(ce.target.value),className:mt,placeholder:r.quantity}),i.jsx("input",{type:"number",min:"0",step:"0.01",value:Ne,onChange:ce=>Me(ce.target.value),className:mt,placeholder:r.unitCost}),i.jsxs("button",{onClick:He,disabled:!ee||!ue||!Ne,className:`px-6 py-2.5 rounded-xl text-white font-bold hover:opacity-90 disabled:opacity-40 transition-all flex items-center gap-2 ${Xt}`,children:[i.jsx(At,{size:16}),r.addItem]})]})]}),i.jsx(Vt,{children:ie&&i.jsxs(Te.section,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`border rounded-2xl p-5 ${v==="studio"?"bg-amber-500/5 border-amber-500/20":"bg-rose-500/5 border-rose-500/20"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h4",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[i.jsx(sT,{size:14,className:Qt}),a==="ar"?"  ":"New Item "," (",v==="studio"?r.studio:r.wedding,")"]}),i.jsx("button",{onClick:()=>E(!1),className:"text-muted-foreground hover:text-foreground",children:i.jsx(Dt,{size:16})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:[i.jsx("input",{value:V,onChange:ce=>Q(ce.target.value),className:mt,placeholder:r.itemName}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:re,onChange:ce=>G(ce.target.value?Number(ce.target.value):""),className:`${mt} flex-1`,children:[i.jsx("option",{value:"",children:r.category}),qe.map(ce=>i.jsx("option",{value:ce.id,children:a==="ar"?ce.name_ar:ce.name},ce.id))]}),i.jsx("button",{onClick:()=>je(!0),className:"shrink-0 w-11 h-11 rounded-xl border border-dashed border-primary/30 bg-primary/5 text-primary flex items-center justify-center hover:bg-primary/10 transition-all",children:i.jsx(At,{size:18})})]})]}),fe&&i.jsxs("div",{className:"bg-card border border-border rounded-xl p-3 mb-3 space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("input",{value:Z,onChange:ce=>de(ce.target.value),className:mt,placeholder:r.categoryName}),i.jsx("input",{value:Le,onChange:ce=>zt(ce.target.value),className:mt,placeholder:r.categoryNameAr})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:ts,onChange:ce=>bt(ce.target.value),className:"w-10 h-10 rounded-lg border border-border cursor-pointer"}),i.jsx("button",{onClick:$t,disabled:!Z,className:`flex-1 py-2 rounded-lg text-white font-bold text-xs hover:opacity-90 disabled:opacity-40 transition-all ${Xt}`,children:r.addCategory})]})]}),i.jsx("button",{onClick:ae,disabled:!V,className:`w-full py-2.5 rounded-xl text-white font-bold hover:opacity-90 disabled:opacity-40 transition-all ${Xt} shadow-lg shadow-${Yt}-500/20`,children:r.save})]})}),i.jsxs("section",{className:"bg-card border border-border rounded-2xl p-5 shadow-sm",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2 mb-4",children:[i.jsx(u0,{size:16,className:Qt}),r.supplier]}),i.jsx("input",{value:U,onChange:ce=>W(ce.target.value),className:mt,placeholder:a==="ar"?"  ()":"Supplier name (optional)"})]})]}),i.jsx("aside",{children:i.jsxs("div",{className:"bg-gradient-to-br from-card to-muted/30 border-2 border-border rounded-2xl p-6 shadow-xl sticky top-24",children:[i.jsxs("h3",{className:"font-bold text-base text-foreground flex items-center gap-2 mb-5",children:[i.jsx("div",{className:`w-8 h-8 rounded-lg bg-${Yt}-500/10 flex items-center justify-center`,children:i.jsx(u0,{size:16,className:Qt})}),r.purchaseSummary,H.length>0&&i.jsxs("span",{className:`ms-auto text-xs bg-${Yt}-500/10 ${Qt} px-2.5 py-1 rounded-full font-black`,children:[H.length," ",r.items]})]}),i.jsx("div",{className:"space-y-2.5 mb-6 max-h-[320px] overflow-y-auto pe-1",children:H.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-muted/50 flex items-center justify-center mx-auto mb-3",children:i.jsx(va,{size:28,className:"text-muted-foreground/30"})}),i.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:r.noItems})]}):H.map(ce=>i.jsxs(Te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},className:`bg-card border border-border rounded-xl p-3.5 group hover:border-${Yt}-500/30 hover:shadow-md transition-all`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-bold text-foreground block mb-1",children:ce.item_name}),i.jsxs("span",{className:"text-[10px] text-muted-foreground font-medium",children:[r.unitCost,": ",ce.unit_cost," ",e.currency]})]}),i.jsx("button",{onClick:()=>tt(ce.tempId),className:"w-7 h-7 rounded-lg text-destructive/50 hover:text-destructive hover:bg-destructive/10 flex items-center justify-center transition-all opacity-0 group-hover:opacity-100",children:i.jsx(Dt,{size:14})})]}),i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>We(ce.tempId,ce.quantity-1),disabled:ce.quantity<=1,className:`w-7 h-7 rounded-md bg-card border border-border text-foreground font-bold hover:bg-${Yt}-500/10 hover:${Qt} hover:border-${Yt}-500/30 disabled:opacity-30 disabled:cursor-not-allowed transition-all flex items-center justify-center`,children:i.jsx(bo,{size:14})}),i.jsx("input",{type:"number",value:ce.quantity,onChange:Ve=>We(ce.tempId,parseInt(Ve.target.value)||1),className:"w-12 text-center bg-transparent border-0 outline-none font-black text-sm text-foreground",min:"1"}),i.jsx("button",{onClick:()=>We(ce.tempId,ce.quantity+1),className:`w-7 h-7 rounded-md bg-card border border-border text-foreground font-bold hover:bg-${Yt}-500/10 hover:${Qt} hover:border-${Yt}-500/30 transition-all flex items-center justify-center`,children:i.jsx(At,{size:14})})]}),i.jsxs("div",{className:"text-end",children:[i.jsx("div",{className:"text-[10px] text-muted-foreground font-medium mb-0.5",children:r.subtotal}),i.jsxs("div",{className:`text-base font-black ${Qt} font-mono`,children:[ce.total.toFixed(2)," ",e.currency]})]})]})]},ce.tempId))}),i.jsxs("div",{className:"bg-gradient-to-br from-muted/80 to-muted/40 rounded-xl p-4 space-y-4 border-2 border-border/50 shadow-inner",children:[i.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-border/50",children:[i.jsx("span",{className:"text-sm font-bold text-muted-foreground",children:r.total}),i.jsxs("span",{className:`text-2xl font-black ${Qt} font-mono`,children:[Tt.toFixed(2)," ",e.currency]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-black uppercase text-muted-foreground tracking-widest",children:r.paid}),i.jsxs("div",{className:"relative",children:[i.jsx(vs,{size:14,className:"absolute start-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),i.jsx("input",{type:"number",value:we,onChange:ce=>Ue(ce.target.value),className:`w-full bg-card border-2 border-border rounded-xl ps-9 pe-4 py-2.5 text-lg font-black font-mono focus:border-${Yt}-500/50 outline-none transition-all`})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-border/50",children:[i.jsx("span",{className:"text-xs font-bold text-muted-foreground",children:r.remaining}),i.jsxs("span",{className:`text-xl font-black font-mono ${as>0?"text-destructive":"text-emerald-500"}`,children:[as.toFixed(2)," ",e.currency]})]})]}),i.jsx("button",{onClick:ys,disabled:H.length===0||se,className:`w-full mt-5 text-white font-black py-4 rounded-xl shadow-lg hover:shadow-xl active:scale-[0.98] disabled:opacity-40 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 text-sm ${Xt}`,children:se?i.jsx(dt,{className:"animate-spin",size:18}):i.jsxs(i.Fragment,{children:[i.jsx(h0,{size:18}),r.save]})})]})})]}):i.jsxs("div",{children:[i.jsxs("div",{className:"mb-4 relative max-w-md",children:[i.jsx(qn,{size:16,className:"absolute start-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),i.jsx("input",{value:w,onChange:ce=>A(ce.target.value),className:`${mt} ps-10`,placeholder:r.search})]}),ms.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx(va,{size:40,className:"mx-auto text-muted-foreground/30 mb-3"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:r.noItems})]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:ms.map((ce,Ve)=>i.jsxs(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Ve*.03},className:`bg-card border border-border rounded-xl p-4 shadow-sm hover:shadow-md hover:border-${Yt}-500/30 transition-all group`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-sm text-foreground mb-1",children:ce.item_name}),i.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full",style:{background:`${ce.category_color||"#6B7280"}15`,color:ce.category_color||"#6B7280"},children:a==="ar"?ce.category_name_ar||ce.category_name||"-":ce.category_name||"-"})]}),i.jsx("button",{onClick:()=>en(ce.id),className:"w-8 h-8 rounded-lg text-muted-foreground hover:text-destructive hover:bg-destructive/10 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all",children:i.jsx(es,{size:14})})]}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-muted-foreground",children:[r.quantity,":"]}),i.jsx("span",{className:"font-bold text-foreground",children:ce.quantity})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-muted-foreground",children:[r.unitCost,":"]}),i.jsxs("span",{className:"font-bold text-foreground",children:[ce.unit_cost," ",e.currency]})]}),ce.supplier&&i.jsxs("div",{className:"flex justify-between pt-2 border-t border-border",children:[i.jsxs("span",{className:"text-muted-foreground",children:[r.supplier,":"]}),i.jsx("span",{className:"font-semibold text-foreground",children:ce.supplier})]})]})]},ce.id))})]})]})},fO=({user:s})=>{const{settings:e}=Rs(),r=e.lang==="ar",[c,u]=S.useState("expenses"),[d,f]=S.useState(!0),[p,g]=S.useState(!1),[x,b]=S.useState(!1),[v,j]=S.useState(""),[w,A]=S.useState("success"),[_,C]=S.useState([]),[D,T]=S.useState([]),[L,q]=S.useState([]),[H,X]=S.useState([]),[ee,oe]=S.useState([]),[ue,ge]=S.useState(""),[Ne,Me]=S.useState(r?"":"General"),[we,Ue]=S.useState(""),[U,W]=S.useState(new Date().toISOString().slice(0,10)),[se,pe]=S.useState(""),[ie,E]=S.useState(""),[V,Q]=S.useState(""),[re,G]=S.useState(""),[fe,je]=S.useState(""),[Z,de]=S.useState(new Date().toISOString().slice(0,10)),[Le,zt]=S.useState(""),[ts,bt]=S.useState(""),[le,Fe]=S.useState(new Date().toISOString().slice(0,10)),[qe,F]=S.useState(""),[He,tt]=S.useState(""),[We,Tt]=S.useState("09:00"),[as,ys]=S.useState("17:00"),[ae,$t]=S.useState("present"),[en,ms]=S.useState(""),[mt,Yt]=S.useState(""),[Xt,Qt]=S.useState(new Date().toISOString().slice(0,7)),[ce,Ve]=S.useState(""),[Ye,it]=S.useState(""),[z,Ce]=S.useState(new Date().toISOString().slice(0,7)),[ke,R]=S.useState(null),[he,xe]=S.useState("0"),[Se,Pe]=S.useState("0"),[vt,nt]=S.useState(""),[ht,Nt]=S.useState(!1),pt=($,St="success")=>{j($),A(St),b(!0),setTimeout(()=>b(!1),3e3)},Ut=async()=>{try{const[$,St,rs,gt,is]=await Promise.all([y_().catch(()=>({data:[]})),E_().catch(()=>({data:[]})),w_().catch(()=>({data:[]})),S_().catch(()=>({data:[]})),_v().catch(()=>({data:[]}))]);C(Array.isArray($.data)?$.data:[]),T(Array.isArray(St.data)?St.data:[]),q(Array.isArray(rs.data)?rs.data:[]),X(Array.isArray(gt.data)?gt.data:[]),oe(Array.isArray(is.data)?is.data:[])}catch{pt(r?"  ":"Failed to load","error")}finally{f(!1)}};S.useEffect(()=>{Ut()},[]);const ot="w-full px-3.5 py-2.5 bg-muted border border-border rounded-xl text-foreground text-sm outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/10 transition-all",_a=async()=>{if(!(!ce||!z))try{const $=await T_(ce,z);R($.data),Nt(!0)}catch{pt(r?"  ":"Failed to load report","error")}},Wo=async()=>{if(!(!ke||!ce)){g(!0);try{const $=parseFloat(he)||0,St=parseFloat(Se)||0;await k_({user_id:ce,user_name:Ye,base_salary:ke.base_salary,amount:ke.base_salary,bonus:$,overtime_hours:(ke.total_overtime_minutes/60).toFixed(2),overtime_amount:ke.overtime_amount,late_hours:(ke.total_late_minutes/60).toFixed(2),late_deduction:ke.late_deduction,advances_deduction:ke.total_advances,deductions:St,month:z,notes:vt,attendance_summary:JSON.stringify({days_present:ke.days_present,days_absent:ke.days_absent,days_late:ke.days_late}),created_by:s?.name||"Admin"}),pt(r?"   ":"Salary paid"),Ve(""),it(""),R(null),Nt(!1),xe("0"),Pe("0"),nt(""),await Ut()}catch{pt(r?"":"Failed","error")}finally{g(!1)}}};if(d)return i.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:i.jsx(dt,{className:"animate-spin text-primary",size:24})});const Jo=[{key:"expenses",label:r?" ":"Expenses",icon:po,color:"text-orange-500"},{key:"advances",label:r?"":"Advances",icon:Eh,color:"text-blue-500"},{key:"salaries",label:r?"":"Salaries",icon:vs,color:"text-emerald-500"},{key:"attendance",label:r?" ":"Attendance",icon:Bn,color:"text-purple-500"}],bi=r?["",""," ","","","",""]:["General","Rent","Utilities","Maintenance","Transport","Marketing","Other"],ar=H.filter($=>!(mt&&$.user_id!==mt||Xt&&!($.attendance_date||"").startsWith(Xt)));return i.jsxs("div",{className:"animate-fade-in text-start",children:[i.jsx(Vt,{children:x&&i.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`fixed top-4 left-1/2 -translate-x-1/2 z-[9999] px-5 py-3 rounded-xl shadow-lg text-sm font-bold text-white ${w==="success"?"bg-emerald-500":"bg-red-500"}`,children:v})}),i.jsx("header",{className:"mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("h2",{className:"text-2xl font-black text-foreground flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center shadow-lg",children:i.jsx(po,{size:20,className:"text-white"})}),r?" ":"Expenses & Payroll"]}),i.jsx("div",{className:"flex gap-1 bg-muted p-1 rounded-xl flex-wrap",children:Jo.map($=>i.jsxs("button",{onClick:()=>u($.key),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-1.5 ${c===$.key?`bg-card ${$.color} shadow-sm`:"text-muted-foreground hover:text-foreground"}`,children:[i.jsx($.icon,{size:14}),$.label]},$.key))})]})}),c==="expenses"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_380px] gap-5",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[i.jsx(po,{size:16,className:"text-orange-500"}),r?" ":"Expense Records"]}),_.length===0?i.jsxs("div",{className:"text-center py-16 bg-card border border-border rounded-2xl",children:[i.jsx(po,{size:40,className:"mx-auto text-muted-foreground/30 mb-3"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:r?"  ":"No expenses"})]}):i.jsxs("div",{className:"bg-card border border-border rounded-2xl overflow-hidden",children:[i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-muted/50",children:[i.jsx("th",{className:"px-4 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Description"}),i.jsx("th",{className:"px-4 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Category"}),i.jsx("th",{className:"px-4 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Amount"}),i.jsx("th",{className:"px-4 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Date"}),i.jsx("th",{className:"px-4 py-3 w-10"})]})}),i.jsx("tbody",{children:_.map($=>i.jsxs("tr",{className:"border-t border-border/50 hover:bg-muted/30",children:[i.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:$.description}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-orange-500/10 text-orange-600 font-semibold",children:$.category})}),i.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-orange-600",children:[Number($.amount).toLocaleString()," ",e.currency]}),i.jsx("td",{className:"px-4 py-3 text-xs text-muted-foreground",children:($.expense_date||$.created_at||"").slice(0,10)}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("button",{onClick:async()=>{window.confirm(r?"":"Delete?")&&(await v_($.id),await Ut(),pt(r?" ":"Deleted"))},className:"w-7 h-7 rounded-lg text-destructive/50 hover:text-destructive hover:bg-destructive/10 flex items-center justify-center",children:i.jsx(es,{size:14})})})]},$.id))})]}),i.jsxs("div",{className:"px-4 py-3 border-t border-border bg-muted/30 flex justify-between",children:[i.jsx("span",{className:"text-xs font-bold text-muted-foreground",children:r?"":"Total"}),i.jsxs("span",{className:"text-sm font-black text-orange-600",children:[_.reduce(($,St)=>$+Number(St.amount||0),0).toLocaleString()," ",e.currency]})]})]})]}),i.jsx("aside",{children:i.jsxs("div",{className:"bg-card border-2 border-orange-500/20 rounded-2xl p-5 sticky top-24 space-y-4",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2",children:[i.jsx(At,{size:16,className:"text-orange-500"}),r?" ":"Add Expense"]}),i.jsx("input",{value:ue,onChange:$=>ge($.target.value),className:ot,placeholder:r?"":"Description"}),i.jsx("select",{value:Ne,onChange:$=>Me($.target.value),className:ot,children:bi.map($=>i.jsx("option",{value:$,children:$},$))}),i.jsx("input",{type:"number",value:we,onChange:$=>Ue($.target.value),className:ot,placeholder:r?"":"Amount"}),i.jsx("input",{type:"date",value:U,onChange:$=>W($.target.value),className:ot}),i.jsx("input",{value:se,onChange:$=>pe($.target.value),className:ot,placeholder:r?"":"Notes"}),i.jsx("button",{disabled:!ue||!we||p,onClick:async()=>{g(!0);try{await b_({description:ue,category:Ne,amount:parseFloat(we),expense_date:U,notes:se,created_by:s?.name||"Admin"}),ge(""),Ue(""),pe(""),await Ut(),pt(r?"  ":"Added")}catch{pt(r?"":"Failed","error")}finally{g(!1)}},className:"w-full py-3 rounded-xl bg-gradient-to-r from-orange-500 to-amber-500 text-white font-bold disabled:opacity-40 transition-all flex items-center justify-center gap-2",children:p?i.jsx(dt,{className:"animate-spin",size:16}):i.jsxs(i.Fragment,{children:[i.jsx(At,{size:16}),r?"":"Save"]})})]})})]}),c==="advances"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_380px] gap-5",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[i.jsx(Eh,{size:16,className:"text-blue-500"}),r?" ":"Advance Records"]}),L.length===0?i.jsxs("div",{className:"text-center py-16 bg-card border border-border rounded-2xl",children:[i.jsx(Eh,{size:40,className:"mx-auto text-muted-foreground/30 mb-3"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:r?"  ":"No advances"})]}):i.jsxs("div",{className:"bg-card border border-border rounded-2xl overflow-hidden",children:[i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-muted/50",children:[i.jsx("th",{className:"px-4 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Employee"}),i.jsx("th",{className:"px-4 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Amount"}),i.jsx("th",{className:"px-4 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Reason"}),i.jsx("th",{className:"px-4 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Status"}),i.jsx("th",{className:"px-4 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Date"}),i.jsx("th",{className:"px-4 py-3 w-10"})]})}),i.jsx("tbody",{children:L.map($=>i.jsxs("tr",{className:"border-t border-border/50 hover:bg-muted/30",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-7 h-7 rounded-full bg-blue-500/10 text-blue-600 flex items-center justify-center text-[10px] font-bold",children:($.user_name||"?")[0]}),i.jsx("span",{className:"text-sm font-medium",children:$.user_name})]})}),i.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-blue-600",children:[Number($.amount).toLocaleString()," ",e.currency]}),i.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:$.reason||"-"}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold ${$.status==="pending"?"bg-amber-500/10 text-amber-600":$.status==="deducted"?"bg-emerald-500/10 text-emerald-600":"bg-red-500/10 text-red-500"}`,children:$.status==="pending"?r?"":"Pending":$.status==="deducted"?r?" ":"Deducted":r?"":"Cancelled"})}),i.jsx("td",{className:"px-4 py-3 text-xs text-muted-foreground",children:($.advance_date||$.created_at||"").slice(0,10)}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("button",{onClick:async()=>{window.confirm(r?"":"Delete?")&&(await N_($.id),await Ut(),pt(r?" ":"Deleted"))},className:"w-7 h-7 rounded-lg text-destructive/50 hover:text-destructive hover:bg-destructive/10 flex items-center justify-center",children:i.jsx(es,{size:14})})})]},$.id))})]}),i.jsxs("div",{className:"px-4 py-3 border-t border-border bg-muted/30 flex justify-between",children:[i.jsx("span",{className:"text-xs font-bold text-muted-foreground",children:r?"  ":"Total Pending"}),i.jsxs("span",{className:"text-sm font-black text-blue-600",children:[L.filter($=>$.status==="pending").reduce(($,St)=>$+Number(St.amount||0),0).toLocaleString()," ",e.currency]})]})]})]}),i.jsx("aside",{children:i.jsxs("div",{className:"bg-card border-2 border-blue-500/20 rounded-2xl p-5 sticky top-24 space-y-4",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2",children:[i.jsx(At,{size:16,className:"text-blue-500"}),r?" ":"Record Advance"]}),i.jsxs("select",{value:ie,onChange:$=>{const St=Number($.target.value);E(St);const rs=ee.find(gt=>gt.id===St);Q(rs?.name||"")},className:ot,children:[i.jsx("option",{value:"",children:r?" ...":"Select employee..."}),ee.map($=>i.jsx("option",{value:$.id,children:$.name},$.id))]}),i.jsx("input",{type:"number",value:re,onChange:$=>G($.target.value),className:ot,placeholder:r?"":"Amount"}),i.jsx("input",{value:fe,onChange:$=>je($.target.value),className:ot,placeholder:r?"":"Reason"}),i.jsx("input",{type:"date",value:Z,onChange:$=>de($.target.value),className:ot}),i.jsx("button",{disabled:!ie||!re||p,onClick:async()=>{g(!0);try{await j_({user_id:ie,user_name:V,amount:parseFloat(re),reason:fe,advance_date:Z,created_by:s?.name||"Admin"}),E(""),Q(""),G(""),je(""),await Ut(),pt(r?"  ":"Advance recorded")}catch{pt(r?"":"Failed","error")}finally{g(!1)}},className:"w-full py-3 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-bold disabled:opacity-40 transition-all flex items-center justify-center gap-2",children:p?i.jsx(dt,{className:"animate-spin",size:16}):i.jsxs(i.Fragment,{children:[i.jsx(At,{size:16}),r?"":"Save"]})})]})})]}),c==="attendance"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_380px] gap-5",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[i.jsxs("h3",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[i.jsx(Bn,{size:16,className:"text-purple-500"}),r?"  ":"Attendance Log"]}),i.jsxs("select",{value:mt,onChange:$=>Yt($.target.value?Number($.target.value):""),className:"px-3 py-1.5 bg-muted border border-border rounded-lg text-xs",children:[i.jsx("option",{value:"",children:r?" ":"All Employees"}),ee.map($=>i.jsx("option",{value:$.id,children:$.name},$.id))]}),i.jsx("input",{type:"month",value:Xt,onChange:$=>Qt($.target.value),className:"px-3 py-1.5 bg-muted border border-border rounded-lg text-xs"})]}),ar.length===0?i.jsxs("div",{className:"text-center py-16 bg-card border border-border rounded-2xl",children:[i.jsx(Bn,{size:40,className:"mx-auto text-muted-foreground/30 mb-3"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:r?"  ":"No records"})]}):i.jsx("div",{className:"bg-card border border-border rounded-2xl overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-muted/50",children:[i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Employee"}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Date"}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"In"}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Out"}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?" ()":"Late (m)"}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?" ()":"OT (m)"}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Status"}),i.jsx("th",{className:"px-3 py-3 w-10"})]})}),i.jsx("tbody",{children:ar.map($=>i.jsxs("tr",{className:"border-t border-border/50 hover:bg-muted/30",children:[i.jsx("td",{className:"px-3 py-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-500/10 text-purple-600 flex items-center justify-center text-[10px] font-bold",children:($.user_name||"?")[0]}),i.jsx("span",{className:"text-xs font-medium",children:$.user_name})]})}),i.jsx("td",{className:"px-3 py-3 text-xs",children:$.attendance_date}),i.jsx("td",{className:"px-3 py-3 text-xs font-mono",children:$.check_in||"-"}),i.jsx("td",{className:"px-3 py-3 text-xs font-mono",children:$.check_out||"-"}),i.jsx("td",{className:"px-3 py-3 text-xs font-bold text-red-500",children:$.late_minutes>0?$.late_minutes:"-"}),i.jsx("td",{className:"px-3 py-3 text-xs font-bold text-emerald-500",children:$.overtime_minutes>0?$.overtime_minutes:"-"}),i.jsx("td",{className:"px-3 py-3",children:i.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-semibold ${$.status==="present"?"bg-emerald-500/10 text-emerald-600":$.status==="late"?"bg-amber-500/10 text-amber-600":$.status==="absent"?"bg-red-500/10 text-red-500":"bg-blue-500/10 text-blue-500"}`,children:$.status==="present"?r?"":"Present":$.status==="late"?r?"":"Late":$.status==="absent"?r?"":"Absent":$.status==="vacation"?r?"":"Vacation":$.status})}),i.jsx("td",{className:"px-3 py-3",children:i.jsx("button",{onClick:async()=>{window.confirm(r?"":"Delete?")&&(await A_($.id),await Ut(),pt(r?" ":"Deleted"))},className:"w-6 h-6 rounded text-destructive/50 hover:text-destructive hover:bg-destructive/10 flex items-center justify-center",children:i.jsx(es,{size:12})})})]},$.id))})]})})})]}),i.jsx("aside",{children:i.jsxs("div",{className:"bg-card border-2 border-purple-500/20 rounded-2xl p-5 sticky top-24 space-y-4",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2",children:[i.jsx(At,{size:16,className:"text-purple-500"}),r?" ":"Record Attendance"]}),i.jsxs("select",{value:Le,onChange:$=>{const St=Number($.target.value);zt(St);const rs=ee.find(gt=>gt.id===St);bt(rs?.name||"")},className:ot,children:[i.jsx("option",{value:"",children:r?" ...":"Select employee..."}),ee.map($=>i.jsx("option",{value:$.id,children:$.name},$.id))]}),i.jsx("input",{type:"date",value:le,onChange:$=>Fe($.target.value),className:ot}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-bold text-muted-foreground mb-1 block",children:r?"  ":"Scheduled In"}),i.jsx("input",{type:"time",value:We,onChange:$=>Tt($.target.value),className:ot})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-bold text-muted-foreground mb-1 block",children:r?"  ":"Scheduled Out"}),i.jsx("input",{type:"time",value:as,onChange:$=>ys($.target.value),className:ot})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-bold text-muted-foreground mb-1 block",children:r?"  ":"Actual Check-In"}),i.jsx("input",{type:"time",value:qe,onChange:$=>F($.target.value),className:ot})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-bold text-muted-foreground mb-1 block",children:r?"  ":"Actual Check-Out"}),i.jsx("input",{type:"time",value:He,onChange:$=>tt($.target.value),className:ot})]})]}),i.jsxs("select",{value:ae,onChange:$=>$t($.target.value),className:ot,children:[i.jsx("option",{value:"present",children:r?"":"Present"}),i.jsx("option",{value:"absent",children:r?"":"Absent"}),i.jsx("option",{value:"half_day",children:r?" ":"Half Day"}),i.jsx("option",{value:"vacation",children:r?"":"Vacation"})]}),i.jsx("input",{value:en,onChange:$=>ms($.target.value),className:ot,placeholder:r?"":"Notes"}),i.jsx("button",{disabled:!Le||p,onClick:async()=>{g(!0);try{await __({user_id:Le,user_name:ts,attendance_date:le,check_in:qe||null,check_out:He||null,scheduled_in:We,scheduled_out:as,status:ae,notes:en,created_by:s?.name||"Admin"}),F(""),tt(""),ms(""),await Ut(),pt(r?" ":"Recorded")}catch{pt(r?"":"Failed","error")}finally{g(!1)}},className:"w-full py-3 rounded-xl bg-gradient-to-r from-purple-500 to-violet-500 text-white font-bold disabled:opacity-40 transition-all flex items-center justify-center gap-2",children:p?i.jsx(dt,{className:"animate-spin",size:16}):i.jsxs(i.Fragment,{children:[i.jsx(Bn,{size:16}),r?"":"Record"]})})]})})]}),c==="salaries"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_420px] gap-5",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[i.jsx(vs,{size:16,className:"text-emerald-500"}),r?" ":"Salary Records"]}),D.length===0?i.jsxs("div",{className:"text-center py-16 bg-card border border-border rounded-2xl",children:[i.jsx(vs,{size:40,className:"mx-auto text-muted-foreground/30 mb-3"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:r?"  ":"No salaries"})]}):i.jsxs("div",{className:"bg-card border border-border rounded-2xl overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-muted/50",children:[i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Employee"}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Base"}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Bonus"}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"OT"}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?" ":"Late Ded."}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Advances"}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Ded."}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Net"}),i.jsx("th",{className:"px-3 py-3 text-start text-[11px] font-bold text-muted-foreground",children:r?"":"Month"}),i.jsx("th",{className:"px-3 py-3 w-10"})]})}),i.jsx("tbody",{children:D.map($=>i.jsxs("tr",{className:"border-t border-border/50 hover:bg-muted/30",children:[i.jsx("td",{className:"px-3 py-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/10 text-emerald-600 flex items-center justify-center text-[10px] font-bold",children:($.user_name||"?")[0]}),i.jsx("span",{className:"text-xs font-medium",children:$.user_name})]})}),i.jsx("td",{className:"px-3 py-3 text-xs",children:Number($.amount||0).toLocaleString()}),i.jsxs("td",{className:"px-3 py-3 text-xs text-emerald-600",children:["+",Number($.bonus||0).toLocaleString()]}),i.jsxs("td",{className:"px-3 py-3 text-xs text-emerald-600",children:["+",Number($.overtime_amount||0).toLocaleString()]}),i.jsxs("td",{className:"px-3 py-3 text-xs text-red-500",children:["-",Number($.late_deduction||0).toLocaleString()]}),i.jsxs("td",{className:"px-3 py-3 text-xs text-red-500",children:["-",Number($.advances_deduction||0).toLocaleString()]}),i.jsxs("td",{className:"px-3 py-3 text-xs text-red-500",children:["-",Number($.deductions||0).toLocaleString()]}),i.jsxs("td",{className:"px-3 py-3 text-xs font-black text-emerald-600",children:[Number($.net_salary).toLocaleString()," ",e.currency]}),i.jsx("td",{className:"px-3 py-3 text-xs text-muted-foreground",children:$.month}),i.jsx("td",{className:"px-3 py-3",children:i.jsx("button",{onClick:async()=>{window.confirm(r?"":"Delete?")&&(await C_($.id),await Ut(),pt(r?" ":"Deleted"))},className:"w-6 h-6 rounded text-destructive/50 hover:text-destructive hover:bg-destructive/10 flex items-center justify-center",children:i.jsx(es,{size:12})})})]},$.id))})]})}),i.jsxs("div",{className:"px-4 py-3 border-t border-border bg-muted/30 flex justify-between",children:[i.jsx("span",{className:"text-xs font-bold text-muted-foreground",children:r?"":"Total"}),i.jsxs("span",{className:"text-sm font-black text-emerald-600",children:[D.reduce(($,St)=>$+Number(St.net_salary||0),0).toLocaleString()," ",e.currency]})]})]})]}),i.jsx("aside",{children:i.jsxs("div",{className:"bg-card border-2 border-emerald-500/20 rounded-2xl p-5 sticky top-24 space-y-4",children:[i.jsxs("h3",{className:"font-bold text-sm text-foreground flex items-center gap-2",children:[i.jsx(vs,{size:16,className:"text-emerald-500"}),r?" ":"Pay Salary"]}),i.jsxs("select",{value:ce,onChange:$=>{const St=Number($.target.value);Ve(St);const rs=ee.find(gt=>gt.id===St);it(rs?.name||""),R(null),Nt(!1)},className:ot,children:[i.jsx("option",{value:"",children:r?" ...":"Select employee..."}),ee.map($=>i.jsxs("option",{value:$.id,children:[$.name," - ",r?"":"Salary",": ",Number($.base_salary||0).toLocaleString()," ",e.currency]},$.id))]}),i.jsx("input",{type:"month",value:z,onChange:$=>{Ce($.target.value),R(null),Nt(!1)},className:ot}),ce&&i.jsxs("button",{onClick:_a,className:"w-full py-2.5 rounded-xl border-2 border-emerald-500/30 bg-emerald-500/5 text-emerald-600 font-bold text-sm hover:bg-emerald-500/10 transition-all flex items-center justify-center gap-2",children:[i.jsx(Vn,{size:16}),r?"  ":"Load Salary Report"]}),ht&&ke&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"p-3 bg-purple-500/5 border border-purple-500/20 rounded-xl space-y-2",children:[i.jsxs("h4",{className:"text-xs font-bold text-purple-600 flex items-center gap-1",children:[i.jsx(Bn,{size:12}),r?" ":"Attendance Summary"]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[i.jsxs("div",{className:"bg-card rounded-lg p-2",children:[i.jsx("div",{className:"text-lg font-black text-emerald-600",children:ke.days_present}),i.jsx("div",{className:"text-[10px] text-muted-foreground",children:r?"":"Present"})]}),i.jsxs("div",{className:"bg-card rounded-lg p-2",children:[i.jsx("div",{className:"text-lg font-black text-red-500",children:ke.days_absent}),i.jsx("div",{className:"text-[10px] text-muted-foreground",children:r?"":"Absent"})]}),i.jsxs("div",{className:"bg-card rounded-lg p-2",children:[i.jsx("div",{className:"text-lg font-black text-amber-600",children:ke.days_late}),i.jsx("div",{className:"text-[10px] text-muted-foreground",children:r?"":"Late"})]})]})]}),i.jsxs("div",{className:"p-3 bg-emerald-500/5 border border-emerald-500/20 rounded-xl space-y-2",children:[i.jsx("h4",{className:"text-xs font-bold text-emerald-600",children:r?" ":"Financial Details"}),i.jsxs("div",{className:"space-y-1.5 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-muted-foreground",children:[r?" ":"Base Salary",":"]}),i.jsxs("span",{className:"font-bold",children:[Number(ke.base_salary).toLocaleString()," ",e.currency]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-muted-foreground",children:[r?" ":"Overtime"," (",(ke.total_overtime_minutes/60).toFixed(1),"h):"]}),i.jsxs("span",{className:"font-bold text-emerald-600",children:["+",Number(ke.overtime_amount).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-muted-foreground",children:[r?" ":"Late Deduction"," (",(ke.total_late_minutes/60).toFixed(1),"h):"]}),i.jsxs("span",{className:"font-bold text-red-500",children:["-",Number(ke.late_deduction).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-muted-foreground",children:[r?" ":"Pending Advances",":"]}),i.jsxs("span",{className:"font-bold text-red-500",children:["-",Number(ke.total_advances).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-muted-foreground",children:[r?" ":"Hourly Rate",":"]}),i.jsxs("span",{className:"font-bold",children:[Number(ke.hourly_rate).toFixed(2)," ",e.currency]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-bold text-muted-foreground mb-1 block",children:r?"":"Bonus"}),i.jsx("input",{type:"number",value:he,onChange:$=>xe($.target.value),className:ot})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-bold text-muted-foreground mb-1 block",children:r?" ":"Other Ded."}),i.jsx("input",{type:"number",value:Se,onChange:$=>Pe($.target.value),className:ot})]})]}),i.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-500/10 to-green-500/10 border-2 border-emerald-500/30 rounded-xl",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:r?" ":"Net Salary"}),i.jsxs("div",{className:"text-2xl font-black text-emerald-600",children:[(ke.base_salary+ke.overtime_amount+(parseFloat(he)||0)-ke.late_deduction-ke.total_advances-(parseFloat(Se)||0)).toLocaleString()," ",e.currency]})]})}),i.jsx("input",{value:vt,onChange:$=>nt($.target.value),className:ot,placeholder:r?"":"Notes"}),i.jsx("button",{disabled:p,onClick:Wo,className:"w-full py-3 rounded-xl bg-gradient-to-r from-emerald-500 to-green-500 text-white font-bold disabled:opacity-40 transition-all flex items-center justify-center gap-2",children:p?i.jsx(dt,{className:"animate-spin",size:16}):i.jsxs(i.Fragment,{children:[i.jsx(vs,{size:16}),r?" ":"Pay Salary"]})})]})]})})]})]})},mO="/api",pO=({isOpen:s,onClose:e})=>{const{settings:a}=Rs(),r=a.lang,[c,u]=S.useState([]),[,d]=S.useState(!1),f=async()=>{d(!0);try{const j=localStorage.getItem("token"),A=(await Mt.get(`${mO}/activity`,{headers:{Authorization:`Bearer ${j}`}})).data.slice(0,15).map(_=>({id:_.id,title:_.entity_type==="invoice"?r==="ar"?" ":"Invoice Action":_.entity_type==="user"?r==="ar"?" ":"User Management":r==="ar"?" ":"System Activity",message:_.action,type:_.action.includes("")||_.action.includes("Delete")?"error":_.action.includes("")||_.action.includes("Create")?"success":"info",time:p(_.created_at),read:!1}));u(A)}catch(j){console.error("Failed to fetch notifications:",j)}finally{d(!1)}},p=j=>{const w=new Date(j),_=Math.floor((new Date().getTime()-w.getTime())/1e3);return _<60?r==="ar"?"":"Now":_<3600?r==="ar"?` ${Math.floor(_/60)} `:`${Math.floor(_/60)}m ago`:_<86400?r==="ar"?` ${Math.floor(_/3600)} `:`${Math.floor(_/3600)}h ago`:w.toLocaleDateString(r==="ar"?"ar-EG":"en-US")};S.useEffect(()=>{s&&f()},[s]);const g=()=>u(j=>j.map(w=>({...w,read:!0}))),x=()=>u([]),b=j=>u(w=>w.filter(A=>A.id!==j)),v=j=>{switch(j){case"success":return i.jsx(G_,{className:"text-emerald-500",size:16});case"warning":return i.jsx(li,{className:"text-amber-500",size:16});case"error":return i.jsx(Dt,{className:"text-rose-500",size:16});default:return i.jsx(mf,{className:"text-sky-500",size:16})}};return i.jsx(Vt,{children:s&&i.jsxs(i.Fragment,{children:[i.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9900]",onClick:e}),i.jsxs(Te.div,{initial:{opacity:0,scale:.95,y:10,x:0},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"fixed top-16 end-4 sm:end-8 w-[340px] sm:w-[380px] bg-card border border-border rounded-2xl shadow-2xl z-[9901] overflow-hidden flex flex-col max-h-[500px]",children:[i.jsxs("div",{className:"p-4 border-b border-border bg-muted/30 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center text-primary",children:i.jsx(Dv,{size:18})}),i.jsx("h3",{className:"font-bold text-sm",children:""}),c.filter(j=>!j.read).length>0&&i.jsx("span",{className:"bg-primary text-primary-foreground text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:c.filter(j=>!j.read).length})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:g,className:"text-[10px] font-bold text-primary hover:bg-primary/5 px-2 py-1 rounded-md transition-all",children:"  "}),i.jsx("button",{onClick:e,className:"p-1 px-2 rounded-lg text-muted-foreground hover:bg-muted transition-all",children:i.jsx(Dt,{size:16})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:c.length===0?i.jsxs("div",{className:"py-12 text-center text-muted-foreground opacity-50 flex flex-col items-center gap-2",children:[i.jsx(Bn,{size:32,strokeWidth:1.5}),i.jsx("p",{className:"text-xs font-medium",children:"   "})]}):c.map(j=>i.jsxs(Te.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:`p-3 rounded-xl border transition-all cursor-pointer group relative ${j.read?"bg-card border-transparent opacity-70":"bg-muted/50 border-border shadow-sm"}`,children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-card border border-border shadow-sm",children:v(j.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h4",{className:"text-xs font-bold truncate pr-6",children:j.title}),i.jsx("span",{className:"text-[10px] text-muted-foreground whitespace-nowrap",children:j.time})]}),i.jsx("p",{className:"text-[11px] text-muted-foreground line-clamp-2 mt-0.5 leading-relaxed",children:j.message})]})]}),i.jsx("button",{onClick:w=>{w.stopPropagation(),b(j.id)},className:"absolute top-2 left-2 p-1.5 rounded-md text-muted-foreground hover:bg-rose-500/10 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all",children:i.jsx(es,{size:12})})]},j.id))}),c.length>0&&i.jsx("div",{className:"p-3 bg-muted/20 border-t border-border text-center",children:i.jsxs("button",{onClick:x,className:"text-[11px] font-bold text-muted-foreground hover:text-rose-500 transition-all flex items-center justify-center gap-1.5 mx-auto",children:[i.jsx(es,{size:12}),"   "]})})]})]})})},gO={ar:{title:" ",subtitle:"      ",search:"  ...",user:"",action:"",type:"",date:"",details:"",noActivities:"   ",loading:"  ...",error:"   ",retry:" ",filterAll:" ",filterInvoices:"",filterWedding:"",filterUsers:"",stats:{total:" ",activeUser:"  ",peakTime:" ",typesAnalysis:"  "},todaySummary:"  ",personalStats:" ",userActions:" ",totalPersonalSales:" ",completedInvoices:" ",addedCustomers:" ",todayPurchases:" ",todayBalance:"  ",close:"",activityDetails:" "},en:{title:"Activity Reports",subtitle:"Complete history of all system operations and activities",search:"Search activities...",user:"User",action:"Description",type:"Type",date:"Date",details:"Details",noActivities:"No activity logs found",loading:"Loading reports...",error:"Error loading data",retry:"Retry",filterAll:"All Types",filterInvoices:"Invoices",filterWedding:"Wedding",filterUsers:"Users",close:"Close",activityDetails:"Activity Details",stats:{total:"Total Operations",activeUser:"Most Active User",peakTime:"Peak Activity",typesAnalysis:"Actions Analysis"},todaySummary:"Today's Summary",personalStats:"Your Daily Stats",userActions:"Your Actions Today",totalPersonalSales:"Your Sales Today",completedInvoices:"Invoices Issued",addedCustomers:"New Customers",todayPurchases:"Today Purchases",todayBalance:"Daily Net Profit"}},nf=10,xO=({userId:s})=>{const{settings:e}=Rs(),a=e.lang,r=gO[a],[c,u]=S.useState([]),[d,f]=S.useState([]),[p,g]=S.useState([]),[x,b]=S.useState([]),[v,j]=S.useState(!0),[w,A]=S.useState(!1),[_,C]=S.useState(""),[D,T]=S.useState(""),[L,q]=S.useState(1),[H,X]=S.useState(null),[ee,oe]=S.useState("today"),[ue,ge]=S.useState(null),Ne=async()=>{j(!0),A(!1);try{const[ie,E,V,Q,re]=await Promise.all([be.get("/activity.php",{params:{user_id:s}}),be.get("/purchases.php"),I2(),be.get("/expenses.php?path=expenses").catch(()=>({data:[]})),be.get("/expenses.php?path=salaries").catch(()=>({data:[]}))]);u(ie.data),f(E.data),ge(V.data),g(Array.isArray(Q.data)?Q.data:[]),b(Array.isArray(re.data)?re.data:[])}catch(ie){console.error(ie),A(!0)}finally{j(!1)}};S.useEffect(()=>{Ne()},[s]);const Me=ie=>new Date(ie).toLocaleDateString(a==="ar"?"ar-EG":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),we=ie=>{switch(ie){case"invoice":return"text-sky-500 bg-sky-500/10";case"wedding_invoice":return"text-pink-500 bg-pink-500/10";case"user":return"text-amber-500 bg-amber-500/10";case"wedding_album":return"text-rose-500 bg-rose-500/10";default:return"text-slate-500 bg-slate-500/10"}};if(v)return i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-3",children:[i.jsx(dt,{className:"animate-spin text-primary",size:32}),i.jsx("p",{className:"text-muted-foreground font-semibold",children:r.loading})]});if(w)return i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 text-destructive flex items-center justify-center",children:i.jsx(li,{size:32})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold",children:r.error}),i.jsx("button",{onClick:Ne,className:"mt-2 px-6 py-2 bg-primary text-primary-foreground rounded-lg font-bold hover:opacity-90 transition-all",children:r.retry})]})]});const U=(()=>{const ie=new Date().toISOString().split("T")[0],E=c.filter(de=>!s||de.user_id===s),V=E.filter(de=>de.created_at.split("T")[0]===ie),Q={total:E.length,todayTotal:V.length,todayInvoices:0,todaySales:ue?.dailySales?Number(ue.dailySales):0,todayPurchases:0,todayExpenses:0,todaySalaries:0,todayCustomers:0,todayBalance:ue?.dailySales?Number(ue.dailySales):0,totalExpenses:p.reduce((de,Le)=>de+(Number(Le.amount)||0),0),totalSalaries:x.reduce((de,Le)=>de+(Number(Le.net_salary)||0),0),byType:{},byUser:{},peakHour:0},re={};V.forEach(de=>{(de.entity_type==="invoice"||de.entity_type==="wedding_invoice")&&Q.todayInvoices++,(de.entity_type==="customer"||de.action.includes(""))&&Q.todayCustomers++}),d.forEach(de=>{(de.created_at||"").split("T")[0]===ie&&(Q.todayPurchases+=Number(de.total_amount||de.amount||0))}),p.forEach(de=>{(de.created_at||de.expense_date||"").split("T")[0]===ie&&(Q.todayExpenses+=Number(de.amount||0))}),x.forEach(de=>{(de.paid_at||"").split("T")[0]===ie&&(Q.todaySalaries+=Number(de.net_salary||0))}),Q.todayBalance=Q.todaySales-Q.todayPurchases-Q.todayExpenses-Q.todaySalaries,E.forEach(de=>{Q.byType[de.entity_type]=(Q.byType[de.entity_type]||0)+1,de.user_name&&(Q.byUser[de.user_name]=(Q.byUser[de.user_name]||0)+1);const Le=new Date(de.created_at).getHours();re[Le]=(re[Le]||0)+1});let G="-",fe=0;Object.entries(Q.byUser).forEach(([de,Le])=>{Le>fe&&(fe=Le,G=de)}),Q.mostActiveUser=G;let je=0,Z=0;return Object.entries(re).forEach(([de,Le])=>{Le>Z&&(Z=Le,je=Number(de))}),Q.peakHour=je,Q})(),W=c.filter(ie=>{const E=new Date().toISOString().split("T")[0],V=ie.created_at.split("T")[0]===E,Q=!s||ie.user_id===s,re=ee==="today"?V:!0,G=ie.action.toLowerCase().includes(_.toLowerCase())||ie.user_name&&ie.user_name.toLowerCase().includes(_.toLowerCase()),fe=!D||ie.entity_type===D;return Q&&re&&G&&fe}),se=Math.ceil(W.length/nf),pe=W.slice((L-1)*nf,L*nf);return i.jsxs("div",{className:"animate-fade-in",children:[i.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-black text-foreground flex items-center gap-3",children:[i.jsx(Vn,{size:28,className:"text-primary"}),r.title]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.subtitle})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:[i.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-primary to-primary/80 p-5 rounded-2xl text-white shadow-xl shadow-primary/20",children:[i.jsxs("div",{className:"flex items-center gap-2 opacity-80 mb-2",children:[i.jsx(Vn,{size:16}),i.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:r.totalPersonalSales})]}),i.jsxs("div",{className:"text-xl font-black",children:[U.todaySales.toLocaleString()," ",i.jsx("span",{className:"text-xs opacity-70",children:e.currency})]})]}),i.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.05},className:"bg-rose-500 p-5 rounded-2xl text-white shadow-xl shadow-rose-500/20",children:[i.jsxs("div",{className:"flex items-center gap-2 opacity-80 mb-2",children:[i.jsx(im,{size:16}),i.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:r.todayPurchases})]}),i.jsxs("div",{className:"text-xl font-black",children:[U.todayPurchases.toLocaleString()," ",i.jsx("span",{className:"text-xs opacity-70",children:e.currency})]})]}),i.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-orange-500 p-5 rounded-2xl text-white shadow-xl shadow-orange-500/20",children:[i.jsxs("div",{className:"flex items-center gap-2 opacity-80 mb-2",children:[i.jsx(vs,{size:16}),i.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:a==="ar"?" ":"Expenses"})]}),i.jsxs("div",{className:"text-xl font-black",children:[U.totalExpenses.toLocaleString()," ",i.jsx("span",{className:"text-xs opacity-70",children:e.currency})]})]}),i.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.15},className:"bg-violet-500 p-5 rounded-2xl text-white shadow-xl shadow-violet-500/20",children:[i.jsxs("div",{className:"flex items-center gap-2 opacity-80 mb-2",children:[i.jsx(dn,{size:16}),i.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:a==="ar"?"":"Salaries"})]}),i.jsxs("div",{className:"text-xl font-black",children:[U.totalSalaries.toLocaleString()," ",i.jsx("span",{className:"text-xs opacity-70",children:e.currency})]})]}),i.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-emerald-500 p-5 rounded-2xl text-white shadow-xl shadow-emerald-500/20",children:[i.jsxs("div",{className:"flex items-center gap-2 opacity-80 mb-2",children:[i.jsx(vs,{size:16}),i.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:r.todayBalance})]}),i.jsxs("div",{className:"text-xl font-black",children:[U.todayBalance.toLocaleString()," ",i.jsx("span",{className:"text-xs opacity-70",children:e.currency})]})]}),i.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.25},className:"bg-card border border-border p-5 rounded-2xl shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[i.jsx($n,{size:16,className:"text-sky-500"}),i.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:r.completedInvoices})]}),i.jsx("div",{className:"text-xl font-black text-foreground",children:U.todayInvoices})]}),i.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-card border border-border p-5 rounded-2xl shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[i.jsx(dn,{size:16,className:"text-emerald-500"}),i.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:r.addedCustomers})]}),i.jsx("div",{className:"text-xl font-black text-foreground",children:U.todayCustomers})]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex gap-1 bg-muted p-1 rounded-2xl border border-border",children:[i.jsx("button",{onClick:()=>{oe("today"),q(1)},className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${ee==="today"?"bg-card text-primary shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:a==="ar"?" ":"Daily Report"}),i.jsx("button",{onClick:()=>{oe("history"),q(1)},className:`px-6 py-2 rounded-xl text-xs font-black transition-all ${ee==="history"?"bg-card text-primary shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:a==="ar"?" ":"Full History"})]}),ee==="today"&&i.jsxs("div",{className:"px-4 py-2 bg-emerald-500/10 border border-emerald-500/20 text-emerald-600 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),a==="ar"?"  ":"Live from system"]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 mb-6 bg-card border border-border p-4 rounded-2xl shadow-sm",children:[i.jsxs("div",{className:"flex-1 min-w-[280px] relative group",children:[i.jsx(qn,{className:"absolute start-3.5 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within:text-primary transition-colors",size:18}),i.jsx("input",{type:"text",placeholder:r.search,value:_,onChange:ie=>C(ie.target.value),className:"w-full ps-11 pe-4 py-2.5 bg-muted/50 border border-border rounded-xl text-sm focus:border-primary/50 outline-none transition-all font-cairo"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(cA,{size:18,className:"text-muted-foreground"}),i.jsxs("select",{value:D,onChange:ie=>T(ie.target.value),className:"h-11 px-4 rounded-xl border border-border bg-muted/50 text-sm font-bold focus:border-primary/50 outline-none font-cairo cursor-pointer min-w-[140px]",children:[i.jsx("option",{value:"",children:r.filterAll}),i.jsx("option",{value:"invoice",children:r.filterInvoices}),i.jsx("option",{value:"wedding_invoice",children:r.filterWedding}),i.jsx("option",{value:"user",children:r.filterUsers})]})]})]}),i.jsxs("div",{className:"bg-card border border-border rounded-2xl overflow-hidden shadow-sm",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-start border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-muted/50 border-b border-border",children:[i.jsx("th",{className:"px-6 py-4 text-xs font-black text-muted-foreground uppercase tracking-widest",children:r.user}),i.jsx("th",{className:"px-6 py-4 text-xs font-black text-muted-foreground uppercase tracking-widest",children:r.action}),i.jsx("th",{className:"px-6 py-4 text-xs font-black text-muted-foreground uppercase tracking-widest",children:r.type}),i.jsx("th",{className:"px-6 py-4 text-xs font-black text-muted-foreground uppercase tracking-widest",children:r.date}),i.jsx("th",{className:"px-6 py-4 text-xs font-black text-muted-foreground uppercase tracking-widest"})]})}),i.jsx("tbody",{children:pe.length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:5,className:"py-20 text-center text-muted-foreground font-bold italic",children:[i.jsx(mf,{className:"mx-auto mb-2 opacity-20",size:48}),r.noActivities]})}):pe.map((ie,E)=>i.jsxs(Te.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:E*.05},className:"border-b border-border/50 hover:bg-muted/30 transition-colors group",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-9 h-9 rounded-xl bg-primary/10 text-primary flex items-center justify-center font-black text-xs",children:ie.user_name?.charAt(0)||"U"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold truncate max-w-[120px]",children:ie.user_name||"System"}),i.jsx("p",{className:"text-[10px] text-muted-foreground lowercase truncate max-w-[120px]",children:ie.user_email})]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("p",{className:"text-sm font-medium text-foreground",children:ie.action})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-tighter ${we(ie.entity_type)}`,children:ie.entity_type})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground font-medium whitespace-nowrap",children:[i.jsx(Bn,{size:12}),Me(ie.created_at)]})}),i.jsx("td",{className:"px-6 py-4 text-end",children:i.jsx("button",{onClick:()=>X(ie),className:"p-2 rounded-lg bg-muted text-muted-foreground opacity-0 group-hover:opacity-100 hover:text-primary transition-all",children:i.jsx(df,{size:16})})})]},ie.id))})]})}),se>1&&i.jsxs("div",{className:"p-4 border-t border-border bg-muted/20 flex justify-center items-center gap-2",children:[i.jsx("button",{disabled:L===1,onClick:()=>q(ie=>ie-1),className:"p-2 rounded-xl border border-border bg-card hover:bg-muted disabled:opacity-40 transition-all",children:a==="ar"?i.jsx(To,{size:18}):i.jsx(Ao,{size:18})}),i.jsxs("div",{className:"flex items-center gap-1 mx-2",children:[i.jsx("span",{className:"text-sm font-bold text-primary",children:L}),i.jsxs("span",{className:"text-sm text-muted-foreground font-medium",children:["/ ",se]})]}),i.jsx("button",{disabled:L===se,onClick:()=>q(ie=>ie+1),className:"p-2 rounded-xl border border-border bg-card hover:bg-muted disabled:opacity-40 transition-all",children:a==="ar"?i.jsx(Ao,{size:18}):i.jsx(To,{size:18})})]})]}),i.jsx(Vt,{children:H&&i.jsx("div",{className:"fixed inset-0 z-[1002] flex items-center justify-center p-6 bg-black/60 backdrop-blur-sm",onClick:()=>X(null),children:i.jsxs(Te.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"bg-card w-full max-w-lg rounded-3xl border border-border shadow-2xl overflow-hidden",onClick:ie=>ie.stopPropagation(),children:[i.jsxs("div",{className:"px-6 py-5 border-b border-border flex justify-between items-center bg-muted/30",children:[i.jsxs("h3",{className:"text-lg font-black flex items-center gap-2",children:[i.jsx(mf,{size:20,className:"text-primary"}),r.activityDetails]}),i.jsx("button",{onClick:()=>X(null),className:"p-2 rounded-xl bg-card border border-border hover:bg-muted transition-all",children:i.jsx(Dt,{size:18})})]}),i.jsxs("div",{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-4",children:[i.jsxs("span",{className:"text-xs font-black text-muted-foreground uppercase self-center",children:[r.user,":"]}),i.jsxs("div",{className:"flex items-center gap-2 font-bold text-sm",children:[i.jsx("div",{className:"w-6 h-6 rounded bg-primary/10 text-primary flex items-center justify-center text-[10px]",children:H.user_name?.charAt(0)}),H.user_name," (",H.user_email,")"]}),i.jsxs("span",{className:"text-xs font-black text-muted-foreground uppercase self-center",children:[r.action,":"]}),i.jsx("span",{className:"font-bold text-sm",children:H.action}),i.jsxs("span",{className:"text-xs font-black text-muted-foreground uppercase self-center",children:[r.type,":"]}),i.jsx("span",{className:`w-fit px-2 py-0.5 rounded-lg text-[10px] font-black uppercase tracking-tighter ${we(H.entity_type)}`,children:H.entity_type}),i.jsxs("span",{className:"text-xs font-black text-muted-foreground uppercase self-center",children:[r.date,":"]}),i.jsx("span",{className:"text-xs font-bold text-muted-foreground",children:Me(H.created_at)})]}),H.details&&i.jsxs("div",{className:"pt-6 border-t border-border",children:[i.jsx("p",{className:"text-xs font-black text-muted-foreground uppercase mb-3",children:r.details}),i.jsx("div",{className:"bg-muted p-4 rounded-2xl border border-border overflow-auto max-h-[200px] dir-ltr",children:i.jsx("pre",{className:"text-[11px] font-mono leading-relaxed text-blue-600 dark:text-blue-400",children:JSON.stringify(JSON.parse(H.details),null,4)})})]})]}),i.jsx("div",{className:"px-6 py-4 bg-muted/30 border-t border-border flex justify-end",children:i.jsx("button",{onClick:()=>X(null),className:"px-6 py-2.5 rounded-xl bg-card border border-border font-bold text-sm hover:bg-muted transition-all",children:r.close})})]})})})]})},yO=S.lazy(()=>Pv(()=>import("./AdvancedDashboard-Dv2SIB-3.js"),__vite__mapDeps([0,1]))),bO=S.lazy(()=>Pv(()=>import("./AIAnalyticsPage-BbTBYgDG.js"),__vite__mapDeps([2,1]))),vO={ar:{dashboard:" ",users:"",settings:"",logout:" ",welcome:"  ",stats:"     ",activeUsers:" ",totalOrders:" ",revenue:" ",conversion:" ",theme:"",language:"",search:" ...",recentActivity:" ",viewAll:" ",weekly:"",monthly:"",yearly:"",salesOverview:"   ",visitors:"",sales:"",pricing:" ",customers:"",invoices:"",weddingPricing:" ",weddingInvoices:" ",purchases:" ",expenses:" ",reports:"",aiAnalytics:" ",install:" "},en:{dashboard:"Dashboard",users:"Users",settings:"Settings",logout:"Sign Out",welcome:"Welcome back, Studio",stats:"Here's what's happening with your projects today",activeUsers:"Active Users",totalOrders:"Total Orders",revenue:"Revenue",conversion:"Conversion Rate",theme:"Theme",language:"Language",search:"Search anything...",recentActivity:"Recent Activity",viewAll:"View All",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly",salesOverview:"Sales Overview",visitors:"Visitors",sales:"Sales",pricing:"Pricing",customers:"Customers",invoices:"Invoices",weddingPricing:"Wedding Pricing",weddingInvoices:"Wedding Invoices",purchases:"Inventory & Purchases",expenses:"Expenses & Payroll",reports:"Reports",aiAnalytics:"AI Analytics",install:"Install App"}},wO=[{icon:yA,key:"dashboard"},{icon:ei,key:"customers"},{icon:Vn,key:"invoices"},{icon:In,key:"pricing"},{icon:JA,key:"weddingPricing"},{icon:ga,key:"weddingInvoices"},{icon:im,key:"purchases"},{icon:po,key:"expenses"},{icon:Z_,key:"reports"},{icon:cf,key:"aiAnalytics"},{icon:lT,key:"users"},{icon:HA,key:"settings"},{icon:Uc,key:"install"}],jO=({user:s,onLogout:e})=>{const{settings:a,updateSettings:r}=Rs(),c=a.lang,u=a.theme,[d,f]=S.useState(!1),[p,g]=S.useState(!1),[x,b]=S.useState(0),[v,j]=S.useState(!1),w=vO[c];S.useEffect(()=>{document.documentElement.dir=c==="ar"?"rtl":"ltr",document.documentElement.lang=c},[c]),S.useEffect(()=>{document.documentElement.setAttribute("data-theme",u)},[u]);const A=()=>r({lang:a.lang==="ar"?"en":"ar"}),_=()=>r({theme:a.theme==="dark"?"light":"dark"}),C=p?"w-[72px]":"w-[260px]",D=p?"lg:ms-[72px]":"lg:ms-[260px]",T=()=>x===1?i.jsx(rO,{}):x===2?i.jsx(iO,{user:s}):x===3?i.jsx(w3,{}):x===4?i.jsx(lO,{}):x===5?i.jsx(cO,{user:s}):x===6?i.jsx(hO,{user:s}):x===7?i.jsx(fO,{user:s}):x===8?i.jsx(xO,{userId:s.id}):x===9?i.jsx(S.Suspense,{fallback:i.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:i.jsx("div",{className:"w-10 h-10 border-4 border-primary/30 border-t-primary rounded-full animate-spin"})}),children:i.jsx(bO,{user:s})}):x===10?i.jsx(v3,{}):x===11?i.jsx(aO,{user:s}):x===12?i.jsx(y3,{onBack:()=>b(0)}):x===13?i.jsx(Vw,{user:s,onUpdate:()=>{}}):i.jsx(S.Suspense,{fallback:i.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:i.jsx("div",{className:"w-10 h-10 border-4 border-primary/30 border-t-primary rounded-full animate-spin"})}),children:i.jsx(yO,{userName:s.name,userId:s.id})});return i.jsxs("div",{className:"flex min-h-screen",children:[i.jsx(Vt,{children:d&&i.jsx(Te.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[998]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>f(!1)})}),i.jsxs("aside",{className:`${C} h-screen fixed top-0 start-0 z-[999] bg-sidebar text-sidebar-foreground flex flex-col transition-all duration-300 overflow-y-auto overflow-x-hidden ${d?"translate-x-0":"max-lg:-translate-x-full rtl:max-lg:translate-x-full"}`,children:[i.jsxs("div",{className:`flex items-center ${p?"justify-center":"gap-3 px-5"} h-16 border-b border-white/10 shrink-0`,children:[i.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center text-white font-black text-sm shadow-lg shadow-primary/30 shrink-0",children:a.studioName.charAt(0)}),!p&&i.jsx("span",{className:"text-base font-extrabold tracking-tight text-white truncate",children:a.studioName.split(" ")[0]}),i.jsx("button",{className:"lg:hidden ms-auto text-sidebar-foreground/60 hover:text-white p-1 rounded-lg hover:bg-white/10 transition-all",onClick:()=>f(!1),children:i.jsx(Dt,{size:20})})]}),i.jsx("nav",{className:"flex-1 py-3 px-2.5",children:i.jsx("ul",{className:"space-y-0.5",children:wO.map((L,q)=>{const H=L.icon,X=x===q;return i.jsx("li",{children:i.jsxs("button",{onClick:()=>{b(q),f(!1)},title:p?w[L.key]:void 0,className:`flex items-center gap-3 w-full ${p?"justify-center px-2":"px-3"} py-2.5 rounded-xl text-sm font-medium transition-all text-start group relative ${X?"bg-primary/15 text-white font-semibold":"text-sidebar-foreground/60 hover:bg-white/5 hover:text-sidebar-foreground"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-all shrink-0 ${X?"bg-gradient-to-br from-primary to-primary/70 text-white shadow-md shadow-primary/30":"group-hover:text-sidebar-foreground"}`,children:i.jsx(H,{size:18})}),!p&&i.jsx("span",{className:"truncate",children:w[L.key]})]})},L.key)})})}),i.jsx("div",{className:"hidden lg:flex justify-center py-2 border-t border-white/10",children:i.jsx("button",{onClick:()=>g(!p),className:"w-8 h-8 rounded-lg flex items-center justify-center text-sidebar-foreground/50 hover:text-white hover:bg-white/10 transition-all",children:p?i.jsx(To,{size:16}):i.jsx(Ao,{size:16})})}),i.jsxs("div",{className:`border-t border-white/10 ${p?"p-2":"p-4"} space-y-2 shrink-0`,children:[i.jsxs("div",{className:`flex items-center ${p?"justify-center":"gap-3 px-1"}`,children:[i.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white font-bold text-xs shrink-0",children:s.name.charAt(0).toUpperCase()}),!p&&i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-white truncate",children:s.name}),i.jsx("p",{className:"text-xs text-sidebar-foreground/50",children:s.role==="admin"?c==="ar"?" ":"Admin":s.role})]})]}),i.jsxs("button",{onClick:e,title:p?w.logout:void 0,className:"flex items-center justify-center gap-2 w-full py-2 rounded-xl border border-destructive/20 bg-destructive/5 text-destructive text-xs font-semibold hover:bg-destructive/10 transition-all",children:[i.jsx(jA,{size:16}),!p&&w.logout]})]})]}),i.jsxs("main",{className:`flex-1 ${D} min-h-screen flex flex-col w-full overflow-x-hidden transition-all duration-300`,children:[i.jsxs("header",{className:"h-16 bg-card/80 backdrop-blur-xl border-b border-border flex items-center justify-between px-5 lg:px-7 sticky top-0 z-[900]",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{className:"lg:hidden w-9 h-9 rounded-lg border border-border bg-card flex items-center justify-center text-foreground hover:bg-muted transition-all",onClick:()=>f(!0),children:i.jsx(AA,{size:20})}),i.jsxs("div",{className:"hidden sm:flex items-center gap-2.5 bg-muted border border-transparent rounded-xl px-3.5 h-10 w-[280px] focus-within:border-primary/50 focus-within:ring-2 focus-within:ring-primary/10 transition-all",children:[i.jsx(qn,{size:17,className:"text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:w.search,className:"flex-1 bg-transparent border-none outline-none text-sm text-foreground font-cairo placeholder:text-muted-foreground"})]})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsxs("button",{onClick:A,className:"h-9 px-3 rounded-xl border border-border bg-card text-muted-foreground text-xs font-bold hover:bg-muted hover:text-foreground transition-all flex items-center gap-1.5",children:[i.jsx(hf,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:c==="ar"?"EN":"AR"})]}),i.jsx("button",{onClick:_,className:"h-9 w-9 rounded-xl border border-border bg-card text-muted-foreground hover:bg-muted hover:text-foreground transition-all flex items-center justify-center",children:u==="dark"?i.jsx(Uv,{size:17}):i.jsx(Mv,{size:17})}),i.jsxs("button",{onClick:()=>j(!0),className:"h-9 w-9 rounded-xl border border-border bg-card text-muted-foreground hover:bg-muted hover:text-foreground transition-all flex items-center justify-center relative",children:[i.jsx(Dv,{size:17}),i.jsx("span",{className:"absolute top-1.5 end-1.5 w-2 h-2 bg-destructive rounded-full border-2 border-card"})]}),i.jsx("div",{onClick:()=>b(11),className:"w-9 h-9 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white font-bold text-xs ms-1 cursor-pointer hover:scale-105 transition-transform shadow-md shadow-primary/20",children:s.name.charAt(0).toUpperCase()}),i.jsx(pO,{isOpen:v,onClose:()=>j(!1)})]})]}),i.jsx("div",{className:"flex-1 p-3 sm:p-5 lg:p-7 w-full mx-auto overflow-x-hidden",children:T()})]})]})};function NO(){const[s,e]=S.useState(null),[a,r]=S.useState(!0);S.useEffect(()=>{localStorage.getItem("token")?$2().then(f=>e(f.data.user)).catch(()=>localStorage.removeItem("token")).finally(()=>r(!1)):r(!1)},[]);const c=(d,f)=>{localStorage.setItem("token",f),e(d)},u=()=>{localStorage.removeItem("token"),e(null)};return a?i.jsx("div",{className:"min-h-screen flex items-center justify-content-center bg-background",children:i.jsxs("div",{className:"flex flex-col items-center gap-3 mx-auto",children:[i.jsx("div",{className:"w-10 h-10 border-4 border-primary/30 border-t-primary rounded-full animate-spin"}),i.jsx("p",{className:"text-muted-foreground font-cairo text-sm",children:" ..."})]})}):i.jsx(x3,{children:s?i.jsx(jO,{user:s,onLogout:u}):i.jsx(vT,{onLogin:c})})}oS.createRoot(document.getElementById("root")).render(i.jsx(S.StrictMode,{children:i.jsx(NO,{})}));export{Vt as A,cf as B,Eh as C,vs as D,df as E,Vn as F,pf as G,rm as H,mf as I,dt as L,va as P,u0 as R,im as S,rT as T,ei as U,po as W,Dt as X,bT as Z,be as a,Lv as b,me as c,Bt as d,Bn as e,li as f,$n as g,JA as h,Z_ as i,i as j,J2 as k,sm as l,Te as m,_v as n,am as o,y_ as p,w_ as q,S as r,S_ as s,E_ as t,Rs as u,qO as v,Dv as w,kh as x,zv as y,es as z};
